function bS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function nm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vf={exports:{}},Sl={},wf={exports:{}},Fe={};var Ev;function AS(){if(Ev)return Fe;Ev=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,R={};function I(z,J,de){this.props=z,this.context=J,this.refs=R,this.updater=de||x}I.prototype.isReactComponent={},I.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},I.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=I.prototype;function U(z,J,de){this.props=z,this.context=J,this.refs=R,this.updater=de||x}var B=U.prototype=new j;B.constructor=U,O(B,I.prototype),B.isPureReactComponent=!0;var H=Array.isArray,ee=Object.prototype.hasOwnProperty,G={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(z,J,de){var he,Te={},Pe=null,pe=null;if(J!=null)for(he in J.ref!==void 0&&(pe=J.ref),J.key!==void 0&&(Pe=""+J.key),J)ee.call(J,he)&&!N.hasOwnProperty(he)&&(Te[he]=J[he]);var Re=arguments.length-2;if(Re===1)Te.children=de;else if(1<Re){for(var Ve=Array(Re),Ze=0;Ze<Re;Ze++)Ve[Ze]=arguments[Ze+2];Te.children=Ve}if(z&&z.defaultProps)for(he in Re=z.defaultProps,Re)Te[he]===void 0&&(Te[he]=Re[he]);return{$$typeof:n,type:z,key:Pe,ref:pe,props:Te,_owner:G.current}}function A(z,J){return{$$typeof:n,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function D(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(de){return J[de]})}var M=/\/+/g;function b(z,J){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):J.toString(36)}function X(z,J,de,he,Te){var Pe=typeof z;(Pe==="undefined"||Pe==="boolean")&&(z=null);var pe=!1;if(z===null)pe=!0;else switch(Pe){case"string":case"number":pe=!0;break;case"object":switch(z.$$typeof){case n:case e:pe=!0}}if(pe)return pe=z,Te=Te(pe),z=he===""?"."+b(pe,0):he,H(Te)?(de="",z!=null&&(de=z.replace(M,"$&/")+"/"),X(Te,J,de,"",function(Ze){return Ze})):Te!=null&&(L(Te)&&(Te=A(Te,de+(!Te.key||pe&&pe.key===Te.key?"":(""+Te.key).replace(M,"$&/")+"/")+z)),J.push(Te)),1;if(pe=0,he=he===""?".":he+":",H(z))for(var Re=0;Re<z.length;Re++){Pe=z[Re];var Ve=he+b(Pe,Re);pe+=X(Pe,J,de,Ve,Te)}else if(Ve=T(z),typeof Ve=="function")for(z=Ve.call(z),Re=0;!(Pe=z.next()).done;)Pe=Pe.value,Ve=he+b(Pe,Re++),pe+=X(Pe,J,de,Ve,Te);else if(Pe==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return pe}function xe(z,J,de){if(z==null)return z;var he=[],Te=0;return X(z,he,"","",function(Pe){return J.call(de,Pe,Te++)}),he}function ve(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(de){(z._status===0||z._status===-1)&&(z._status=1,z._result=de)},function(de){(z._status===0||z._status===-1)&&(z._status=2,z._result=de)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var ye={current:null},Z={transition:null},te={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Z,ReactCurrentOwner:G};function se(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:xe,forEach:function(z,J,de){xe(z,function(){J.apply(this,arguments)},de)},count:function(z){var J=0;return xe(z,function(){J++}),J},toArray:function(z){return xe(z,function(J){return J})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Fe.Component=I,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=U,Fe.StrictMode=r,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Fe.act=se,Fe.cloneElement=function(z,J,de){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var he=O({},z.props),Te=z.key,Pe=z.ref,pe=z._owner;if(J!=null){if(J.ref!==void 0&&(Pe=J.ref,pe=G.current),J.key!==void 0&&(Te=""+J.key),z.type&&z.type.defaultProps)var Re=z.type.defaultProps;for(Ve in J)ee.call(J,Ve)&&!N.hasOwnProperty(Ve)&&(he[Ve]=J[Ve]===void 0&&Re!==void 0?Re[Ve]:J[Ve])}var Ve=arguments.length-2;if(Ve===1)he.children=de;else if(1<Ve){Re=Array(Ve);for(var Ze=0;Ze<Ve;Ze++)Re[Ze]=arguments[Ze+2];he.children=Re}return{$$typeof:n,type:z.type,key:Te,ref:Pe,props:he,_owner:pe}},Fe.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Fe.createElement=C,Fe.createFactory=function(z){var J=C.bind(null,z);return J.type=z,J},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(z){return{$$typeof:h,render:z}},Fe.isValidElement=L,Fe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:ve}},Fe.memo=function(z,J){return{$$typeof:p,type:z,compare:J===void 0?null:J}},Fe.startTransition=function(z){var J=Z.transition;Z.transition={};try{z()}finally{Z.transition=J}},Fe.unstable_act=se,Fe.useCallback=function(z,J){return ye.current.useCallback(z,J)},Fe.useContext=function(z){return ye.current.useContext(z)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(z){return ye.current.useDeferredValue(z)},Fe.useEffect=function(z,J){return ye.current.useEffect(z,J)},Fe.useId=function(){return ye.current.useId()},Fe.useImperativeHandle=function(z,J,de){return ye.current.useImperativeHandle(z,J,de)},Fe.useInsertionEffect=function(z,J){return ye.current.useInsertionEffect(z,J)},Fe.useLayoutEffect=function(z,J){return ye.current.useLayoutEffect(z,J)},Fe.useMemo=function(z,J){return ye.current.useMemo(z,J)},Fe.useReducer=function(z,J,de){return ye.current.useReducer(z,J,de)},Fe.useRef=function(z){return ye.current.useRef(z)},Fe.useState=function(z){return ye.current.useState(z)},Fe.useSyncExternalStore=function(z,J,de){return ye.current.useSyncExternalStore(z,J,de)},Fe.useTransition=function(){return ye.current.useTransition()},Fe.version="18.3.1",Fe}var xv;function rm(){return xv||(xv=1,wf.exports=AS()),wf.exports}var Tv;function RS(){if(Tv)return Sl;Tv=1;var n=rm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,w={},T=null,x=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(x=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:x,props:w,_owner:i.current}}return Sl.Fragment=t,Sl.jsx=u,Sl.jsxs=u,Sl}var Sv;function PS(){return Sv||(Sv=1,vf.exports=RS()),vf.exports}var _=PS(),Ec={},_f={exports:{}},gn={},Ef={exports:{}},xf={};var Cv;function NS(){return Cv||(Cv=1,(function(n){function e(Z,te){var se=Z.length;Z.push(te);e:for(;0<se;){var z=se-1>>>1,J=Z[z];if(0<i(J,te))Z[z]=te,Z[se]=J,se=z;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var te=Z[0],se=Z.pop();if(se!==te){Z[0]=se;e:for(var z=0,J=Z.length,de=J>>>1;z<de;){var he=2*(z+1)-1,Te=Z[he],Pe=he+1,pe=Z[Pe];if(0>i(Te,se))Pe<J&&0>i(pe,Te)?(Z[z]=pe,Z[Pe]=se,z=Pe):(Z[z]=Te,Z[he]=se,z=he);else if(Pe<J&&0>i(pe,se))Z[z]=pe,Z[Pe]=se,z=Pe;else break e}}return te}function i(Z,te){var se=Z.sortIndex-te.sortIndex;return se!==0?se:Z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,w=null,T=3,x=!1,O=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(Z){for(var te=t(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=Z)r(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(p)}}function H(Z){if(R=!1,B(Z),!O)if(t(f)!==null)O=!0,ve(ee);else{var te=t(p);te!==null&&ye(H,te.startTime-Z)}}function ee(Z,te){O=!1,R&&(R=!1,j(C),C=-1),x=!0;var se=T;try{for(B(te),w=t(f);w!==null&&(!(w.expirationTime>te)||Z&&!D());){var z=w.callback;if(typeof z=="function"){w.callback=null,T=w.priorityLevel;var J=z(w.expirationTime<=te);te=n.unstable_now(),typeof J=="function"?w.callback=J:w===t(f)&&r(f),B(te)}else r(f);w=t(f)}if(w!==null)var de=!0;else{var he=t(p);he!==null&&ye(H,he.startTime-te),de=!1}return de}finally{w=null,T=se,x=!1}}var G=!1,N=null,C=-1,A=5,L=-1;function D(){return!(n.unstable_now()-L<A)}function M(){if(N!==null){var Z=n.unstable_now();L=Z;var te=!0;try{te=N(!0,Z)}finally{te?b():(G=!1,N=null)}}else G=!1}var b;if(typeof U=="function")b=function(){U(M)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,xe=X.port2;X.port1.onmessage=M,b=function(){xe.postMessage(null)}}else b=function(){I(M,0)};function ve(Z){N=Z,G||(G=!0,b())}function ye(Z,te){C=I(function(){Z(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){O||x||(O=!0,ve(ee))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var te=3;break;default:te=T}var se=T;T=te;try{return Z()}finally{T=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,te){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var se=T;T=Z;try{return te()}finally{T=se}},n.unstable_scheduleCallback=function(Z,te,se){var z=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?z+se:z):se=z,Z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=se+J,Z={id:v++,callback:te,priorityLevel:Z,startTime:se,expirationTime:J,sortIndex:-1},se>z?(Z.sortIndex=se,e(p,Z),t(f)===null&&Z===t(p)&&(R?(j(C),C=-1):R=!0,ye(H,se-z))):(Z.sortIndex=J,e(f,Z),O||x||(O=!0,ve(ee))),Z},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(Z){var te=T;return function(){var se=T;T=te;try{return Z.apply(this,arguments)}finally{T=se}}}})(xf)),xf}var Iv;function kS(){return Iv||(Iv=1,Ef.exports=NS()),Ef.exports}var bv;function DS(){if(bv)return gn;bv=1;var n=rm(),e=kS();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(s){return f.call(w,s)?!0:f.call(v,s)?!1:p.test(s)?w[s]=!0:(v[s]=!0,!1)}function x(s,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,o,l,d){if(o===null||typeof o>"u"||x(s,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(s,o,l,d,m,g,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=g,this.removeEmptyString=S}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];I[o]=new R(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(j,U);I[o]=new R(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(j,U);I[o]=new R(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(j,U);I[o]=new R(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,o,l,d){var m=I.hasOwnProperty(o)?I[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(O(o,l,m,d)&&(l=null),d||m===null?T(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?s.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?s.setAttributeNS(d,o,l):s.setAttribute(o,l))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),G=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),Z=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,z;function J(s){if(z===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var de=!1;function he(s,o){if(!s||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var d=Q}Reflect.construct(s,[],o)}else{try{o.call()}catch(Q){d=Q}s.call(o.prototype)}else{try{throw Error()}catch(Q){d=Q}s()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),g=d.stack.split(`
`),S=m.length-1,V=g.length-1;1<=S&&0<=V&&m[S]!==g[V];)V--;for(;1<=S&&0<=V;S--,V--)if(m[S]!==g[V]){if(S!==1||V!==1)do if(S--,V--,0>V||m[S]!==g[V]){var F=`
`+m[S].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=S&&0<=V);break}}}finally{de=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?J(s):""}function Te(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function Pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case G:return"Portal";case A:return"Profiler";case C:return"StrictMode";case b:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case xe:return o=s.displayName||null,o!==null?o:Pe(s.type)||"Memo";case ve:o=s._payload,s=s._init;try{return Pe(s(o))}catch{}}return null}function pe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ve(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ze(s){var o=Ve(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,g.call(this,S)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function un(s){s._valueTracker||(s._valueTracker=Ze(s))}function Kn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return s&&(d=Ve(s)?s.checked?"true":"false":s.value),s=d,s!==l?(o.setValue(s),!0):!1}function Ht(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Rs(s,o){var l=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function go(s,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Re(o.value!=null?o.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Qr(s,o){o=o.checked,o!=null&&B(s,"checked",o,!1)}function Yr(s,o){Qr(s,o);var l=Re(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ht(s,o.type,l):o.hasOwnProperty("defaultValue")&&ht(s,o.type,Re(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Jr(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function ht(s,o,l){(o!=="number"||Ht(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var ot=Array.isArray;function Vt(s,o,l,d){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Re(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ps(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _n(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(ot(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:Re(l)}}function yo(s,o){var l=Re(o.value),d=Re(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function dr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Nt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function En(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Nt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var hr,vo=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,l,d,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(hr=hr||document.createElement("div"),hr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=hr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Mn(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bi=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(s){bi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),fr[o]=fr[s]})});function Ln(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||fr.hasOwnProperty(s)&&fr[s]?(""+o).trim():o+"px"}function xn(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Ln(l,o[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,m):s[l]=m}}var Ns=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(s,o){if(o){if(Ns[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ks(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function Xr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Vn=null,Gn=null,et=null;function cn(s){if(s=ul(s)){if(typeof Vn!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Lu(o),Vn(s.stateNode,s.type,o))}}function mr(s){Gn?et?et.push(s):et=[s]:Gn=s}function Ce(){if(Gn){var s=Gn,o=et;if(et=Gn=null,cn(s),o)for(s=0;s<o.length;s++)cn(o[s])}}function qe(s,o){return s(o)}function Ye(){}var ft=!1;function qt(s,o,l){if(ft)return s(o,l);ft=!0;try{return qe(s,o,l)}finally{ft=!1,(Gn!==null||et!==null)&&(Ye(),Ce())}}function Wt(s,o){var l=s.stateNode;if(l===null)return null;var d=Lu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Kt=!1;if(h)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){Kt=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{Kt=!1}function Tn(s,o,l,d,m,g,S,V,F){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(l,Q)}catch(ie){this.onError(ie)}}var Zr=!1,gr=null,wo=!1,jn=null,pu={onError:function(s){Zr=!0,gr=s}};function mu(s,o,l,d,m,g,S,V,F){Zr=!1,gr=null,Tn.apply(pu,arguments)}function Va(s,o,l,d,m,g,S,V,F){if(mu.apply(this,arguments),Zr){if(Zr){var Q=gr;Zr=!1,gr=null}else throw Error(t(198));wo||(wo=!0,jn=Q)}}function Qn(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function ja(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function gu(s){if(Qn(s)!==s)throw Error(t(188))}function yu(s){var o=s.alternate;if(!o){if(o=Qn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,d=o;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return gu(m),s;if(g===d)return gu(m),o;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=g;else{for(var S=!1,V=m.child;V;){if(V===l){S=!0,l=m,d=g;break}if(V===d){S=!0,d=m,l=g;break}V=V.sibling}if(!S){for(V=g.child;V;){if(V===l){S=!0,l=g,d=m;break}if(V===d){S=!0,d=g,l=m;break}V=V.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function vu(s){return s=yu(s),s!==null?Ai(s):null}function Ai(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ai(s);if(o!==null)return o;s=s.sibling}return null}var Fa=e.unstable_scheduleCallback,_o=e.unstable_cancelCallback,Ri=e.unstable_shouldYield,es=e.unstable_requestPaint,nt=e.unstable_now,Gd=e.unstable_getCurrentPriorityLevel,Eo=e.unstable_ImmediatePriority,Ua=e.unstable_UserBlockingPriority,Pi=e.unstable_NormalPriority,Ba=e.unstable_LowPriority,xo=e.unstable_IdlePriority,Ni=null,Sn=null;function wu(s){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Ni,s,void 0,(s.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:ki,yr=Math.log,Fn=Math.LN2;function ki(s){return s>>>=0,s===0?32:31-(yr(s)/Fn|0)|0}var vr=64,Ds=4194304;function Ge(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ts(s,o){var l=s.pendingLanes;if(l===0)return 0;var d=0,m=s.suspendedLanes,g=s.pingedLanes,S=l&268435455;if(S!==0){var V=S&~m;V!==0?d=Ge(V):(g&=S,g!==0&&(d=Ge(g)))}else S=l&~m,S!==0?d=Ge(S):g!==0&&(d=Ge(g));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,g=o&-o,m>=g||m===16&&(g&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)l=31-Cn(o),m=1<<l,d|=s[l],o&=~m;return d}function Di(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oi(s,o){for(var l=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes;0<g;){var S=31-Cn(g),V=1<<S,F=m[S];F===-1?((V&l)===0||(V&d)!==0)&&(m[S]=Di(V,o)):F<=o&&(s.expiredLanes|=V),g&=~V}}function za(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function $a(){var s=vr;return vr<<=1,(vr&4194240)===0&&(vr=64),s}function Ha(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Mi(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Cn(o),s[o]=l}function Qd(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-Cn(l),g=1<<m;o[m]=0,d[m]=-1,s[m]=-1,l&=~g}}function qa(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var d=31-Cn(l),m=1<<d;m&o|s[d]&o&&(s[d]|=o),l&=~m}}var $e=0;function wr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Wa,To,Ka,Ga,Qa,_r=!1,So=[],Er=null,xr=null,jt=null,Li=new Map,ns=new Map,In=[],_u="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Os(s,o){switch(s){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Li.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(o.pointerId)}}function Yn(s,o,l,d,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[m]},o!==null&&(o=ul(o),o!==null&&To(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Eu(s,o,l,d,m){switch(o){case"focusin":return Er=Yn(Er,s,o,l,d,m),!0;case"dragenter":return xr=Yn(xr,s,o,l,d,m),!0;case"mouseover":return jt=Yn(jt,s,o,l,d,m),!0;case"pointerover":var g=m.pointerId;return Li.set(g,Yn(Li.get(g)||null,s,o,l,d,m)),!0;case"gotpointercapture":return g=m.pointerId,ns.set(g,Yn(ns.get(g)||null,s,o,l,d,m)),!0}return!1}function Co(s){var o=Ui(s.target);if(o!==null){var l=Qn(o);if(l!==null){if(o=l.tag,o===13){if(o=ja(l),o!==null){s.blockedOn=o,Qa(s.priority,function(){Ka(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xe(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Io(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);pr=d,l.target.dispatchEvent(d),pr=null}else return o=ul(l),o!==null&&To(o),s.blockedOn=l,!1;o.shift()}return!0}function xu(s,o,l){Xe(s)&&l.delete(o)}function Yd(){_r=!1,Er!==null&&Xe(Er)&&(Er=null),xr!==null&&Xe(xr)&&(xr=null),jt!==null&&Xe(jt)&&(jt=null),Li.forEach(xu),ns.forEach(xu)}function Ms(s,o){s.blockedOn===o&&(s.blockedOn=null,_r||(_r=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yd)))}function Ls(s){function o(m){return Ms(m,s)}if(0<So.length){Ms(So[0],s);for(var l=1;l<So.length;l++){var d=So[l];d.blockedOn===s&&(d.blockedOn=null)}}for(Er!==null&&Ms(Er,s),xr!==null&&Ms(xr,s),jt!==null&&Ms(jt,s),Li.forEach(o),ns.forEach(o),l=0;l<In.length;l++)d=In[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<In.length&&(l=In[0],l.blockedOn===null);)Co(l),l.blockedOn===null&&In.shift()}var rs=H.ReactCurrentBatchConfig,ss=!0;function Tr(s,o,l,d){var m=$e,g=rs.transition;rs.transition=null;try{$e=1,Ya(s,o,l,d)}finally{$e=m,rs.transition=g}}function Tu(s,o,l,d){var m=$e,g=rs.transition;rs.transition=null;try{$e=4,Ya(s,o,l,d)}finally{$e=m,rs.transition=g}}function Ya(s,o,l,d){if(ss){var m=Io(s,o,l,d);if(m===null)ah(s,o,d,Sr,l),Os(s,d);else if(Eu(m,s,o,l,d))d.stopPropagation();else if(Os(s,d),o&4&&-1<_u.indexOf(s)){for(;m!==null;){var g=ul(m);if(g!==null&&Wa(g),g=Io(s,o,l,d),g===null&&ah(s,o,d,Sr,l),g===m)break;m=g}m!==null&&d.stopPropagation()}else ah(s,o,d,null,l)}}var Sr=null;function Io(s,o,l,d){if(Sr=null,s=Xr(d),s=Ui(s),s!==null)if(o=Qn(s),o===null)s=null;else if(l=o.tag,l===13){if(s=ja(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Sr=s,null}function bo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gd()){case Eo:return 1;case Ua:return 4;case Pi:case Ba:return 16;case xo:return 536870912;default:return 16}default:return 16}}var bn=null,Ao=null,is=null;function Su(){if(is)return is;var s,o=Ao,l=o.length,d,m="value"in bn?bn.value:bn.textContent,g=m.length;for(s=0;s<l&&o[s]===m[s];s++);var S=l-s;for(d=1;d<=S&&o[l-d]===m[g-d];d++);return is=m.slice(s,1<d?1-d:void 0)}function Vi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Cr(){return!0}function Ja(){return!1}function Gt(s){function o(l,d,m,g,S){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(l=s[V],this[V]=l?l(g):g[V]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cr:Ja,this.isPropagationStopped=Ja,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),o}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Gt(Ir),Vs=se({},Ir,{view:0,detail:0}),Ro=Gt(Vs),Po,No,An,Fi=se({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Me,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==An&&(An&&s.type==="mousemove"?(Po=s.screenX-An.screenX,No=s.screenY-An.screenY):No=Po=0,An=s),Po)},movementY:function(s){return"movementY"in s?s.movementY:No}}),Xa=Gt(Fi),Cu=se({},Fi,{dataTransfer:0}),Iu=Gt(Cu),ko=se({},Vs,{relatedTarget:0}),Ft=Gt(ko),bu=se({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Gt(bu),js=se({},Ir,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Gt(js),y=se({},Ir,{data:0}),E=Gt(y),P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Y[s])?!!o[s]:!1}function Me(){return ce}var gt=se({},Vs,{key:function(s){if(s.key){var o=P[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Vi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Me,charCode:function(s){return s.type==="keypress"?Vi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Vi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Je=Gt(gt),xt=se({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rn=Gt(xt),os=se({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Me}),br=Gt(os),Ar=se({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Do=Gt(Ar),Za=se({},Fi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ET=Gt(Za),xT=[9,13,27,32],Jd=h&&"CompositionEvent"in window,el=null;h&&"documentMode"in document&&(el=document.documentMode);var TT=h&&"TextEvent"in window&&!el,fg=h&&(!Jd||el&&8<el&&11>=el),pg=" ",mg=!1;function gg(s,o){switch(s){case"keyup":return xT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Oo=!1;function ST(s,o){switch(s){case"compositionend":return yg(o);case"keypress":return o.which!==32?null:(mg=!0,pg);case"textInput":return s=o.data,s===pg&&mg?null:s;default:return null}}function CT(s,o){if(Oo)return s==="compositionend"||!Jd&&gg(s,o)?(s=Su(),is=Ao=bn=null,Oo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return fg&&o.locale!=="ko"?null:o.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!IT[s.type]:o==="textarea"}function wg(s,o,l,d){mr(d),o=Du(o,"onChange"),0<o.length&&(l=new ji("onChange","change",null,l,d),s.push({event:l,listeners:o}))}var tl=null,nl=null;function bT(s){Vg(s,0)}function Ru(s){var o=Fo(s);if(Kn(o))return s}function AT(s,o){if(s==="change")return o}var _g=!1;if(h){var Xd;if(h){var Zd="oninput"in document;if(!Zd){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Zd=typeof Eg.oninput=="function"}Xd=Zd}else Xd=!1;_g=Xd&&(!document.documentMode||9<document.documentMode)}function xg(){tl&&(tl.detachEvent("onpropertychange",Tg),nl=tl=null)}function Tg(s){if(s.propertyName==="value"&&Ru(nl)){var o=[];wg(o,nl,s,Xr(s)),qt(bT,o)}}function RT(s,o,l){s==="focusin"?(xg(),tl=o,nl=l,tl.attachEvent("onpropertychange",Tg)):s==="focusout"&&xg()}function PT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ru(nl)}function NT(s,o){if(s==="click")return Ru(o)}function kT(s,o){if(s==="input"||s==="change")return Ru(o)}function DT(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Jn=typeof Object.is=="function"?Object.is:DT;function rl(s,o){if(Jn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!Jn(s[m],o[m]))return!1}return!0}function Sg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Cg(s,o){var l=Sg(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=o&&d>=o)return{node:l,offset:o-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sg(l)}}function Ig(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ig(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function bg(){for(var s=window,o=Ht();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Ht(s.document)}return o}function eh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function OT(s){var o=bg(),l=s.focusedElem,d=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Ig(l.ownerDocument.documentElement,l)){if(d!==null&&eh(l)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,g=Math.min(d.start,m);d=d.end===void 0?g:Math.min(d.end,m),!s.extend&&g>d&&(m=d,d=g,g=m),m=Cg(l,g);var S=Cg(l,d);m&&S&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),g>d?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var MT=h&&"documentMode"in document&&11>=document.documentMode,Mo=null,th=null,sl=null,nh=!1;function Ag(s,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nh||Mo==null||Mo!==Ht(d)||(d=Mo,"selectionStart"in d&&eh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),sl&&rl(sl,d)||(sl=d,d=Du(th,"onSelect"),0<d.length&&(o=new ji("onSelect","select",null,o,l),s.push({event:o,listeners:d}),o.target=Mo)))}function Pu(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Lo={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},rh={},Rg={};h&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Nu(s){if(rh[s])return rh[s];if(!Lo[s])return s;var o=Lo[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Rg)return rh[s]=o[l];return s}var Pg=Nu("animationend"),Ng=Nu("animationiteration"),kg=Nu("animationstart"),Dg=Nu("transitionend"),Og=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(s,o){Og.set(s,o),a(o,[s])}for(var sh=0;sh<Mg.length;sh++){var ih=Mg[sh],LT=ih.toLowerCase(),VT=ih[0].toUpperCase()+ih.slice(1);Fs(LT,"on"+VT)}Fs(Pg,"onAnimationEnd"),Fs(Ng,"onAnimationIteration"),Fs(kg,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(Dg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jT=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Lg(s,o,l){var d=s.type||"unknown-event";s.currentTarget=l,Va(d,o,void 0,s),s.currentTarget=null}function Vg(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],m=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var S=d.length-1;0<=S;S--){var V=d[S],F=V.instance,Q=V.currentTarget;if(V=V.listener,F!==g&&m.isPropagationStopped())break e;Lg(m,V,Q),g=F}else for(S=0;S<d.length;S++){if(V=d[S],F=V.instance,Q=V.currentTarget,V=V.listener,F!==g&&m.isPropagationStopped())break e;Lg(m,V,Q),g=F}}}if(wo)throw s=jn,wo=!1,jn=null,s}function rt(s,o){var l=o[fh];l===void 0&&(l=o[fh]=new Set);var d=s+"__bubble";l.has(d)||(jg(o,s,2,!1),l.add(d))}function oh(s,o,l){var d=0;o&&(d|=4),jg(l,s,d,o)}var ku="_reactListening"+Math.random().toString(36).slice(2);function ol(s){if(!s[ku]){s[ku]=!0,r.forEach(function(l){l!=="selectionchange"&&(jT.has(l)||oh(l,!1,s),oh(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[ku]||(o[ku]=!0,oh("selectionchange",!1,o))}}function jg(s,o,l,d){switch(bo(o)){case 1:var m=Tr;break;case 4:m=Tu;break;default:m=Ya}l=m.bind(null,o,l,s),m=void 0,!Kt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function ah(s,o,l,d,m){var g=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var V=d.stateNode.containerInfo;if(V===m||V.nodeType===8&&V.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;S=S.return}for(;V!==null;){if(S=Ui(V),S===null)return;if(F=S.tag,F===5||F===6){d=g=S;continue e}V=V.parentNode}}d=d.return}qt(function(){var Q=g,ie=Xr(l),ae=[];e:{var re=Og.get(s);if(re!==void 0){var fe=ji,we=s;switch(s){case"keypress":if(Vi(l)===0)break e;case"keydown":case"keyup":fe=Je;break;case"focusin":we="focus",fe=Ft;break;case"focusout":we="blur",fe=Ft;break;case"beforeblur":case"afterblur":fe=Ft;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=br;break;case Pg:case Ng:case kg:fe=Au;break;case Dg:fe=Do;break;case"scroll":fe=Ro;break;case"wheel":fe=ET;break;case"copy":case"cut":case"paste":fe=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Rn}var _e=(o&4)!==0,yt=!_e&&s==="scroll",q=_e?re!==null?re+"Capture":null:re;_e=[];for(var $=Q,K;$!==null;){K=$;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,q!==null&&(le=Wt($,q),le!=null&&_e.push(al($,le,K)))),yt)break;$=$.return}0<_e.length&&(re=new fe(re,we,null,l,ie),ae.push({event:re,listeners:_e}))}}if((o&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",re&&l!==pr&&(we=l.relatedTarget||l.fromElement)&&(Ui(we)||we[as]))break e;if((fe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,fe?(we=l.relatedTarget||l.toElement,fe=Q,we=we?Ui(we):null,we!==null&&(yt=Qn(we),we!==yt||we.tag!==5&&we.tag!==6)&&(we=null)):(fe=null,we=Q),fe!==we)){if(_e=Xa,le="onMouseLeave",q="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(_e=Rn,le="onPointerLeave",q="onPointerEnter",$="pointer"),yt=fe==null?re:Fo(fe),K=we==null?re:Fo(we),re=new _e(le,$+"leave",fe,l,ie),re.target=yt,re.relatedTarget=K,le=null,Ui(ie)===Q&&(_e=new _e(q,$+"enter",we,l,ie),_e.target=K,_e.relatedTarget=yt,le=_e),yt=le,fe&&we)t:{for(_e=fe,q=we,$=0,K=_e;K;K=Vo(K))$++;for(K=0,le=q;le;le=Vo(le))K++;for(;0<$-K;)_e=Vo(_e),$--;for(;0<K-$;)q=Vo(q),K--;for(;$--;){if(_e===q||q!==null&&_e===q.alternate)break t;_e=Vo(_e),q=Vo(q)}_e=null}else _e=null;fe!==null&&Fg(ae,re,fe,_e,!1),we!==null&&yt!==null&&Fg(ae,yt,we,_e,!0)}}e:{if(re=Q?Fo(Q):window,fe=re.nodeName&&re.nodeName.toLowerCase(),fe==="select"||fe==="input"&&re.type==="file")var Ee=AT;else if(vg(re))if(_g)Ee=kT;else{Ee=PT;var Ie=RT}else(fe=re.nodeName)&&fe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=NT);if(Ee&&(Ee=Ee(s,Q))){wg(ae,Ee,l,ie);break e}Ie&&Ie(s,re,Q),s==="focusout"&&(Ie=re._wrapperState)&&Ie.controlled&&re.type==="number"&&ht(re,"number",re.value)}switch(Ie=Q?Fo(Q):window,s){case"focusin":(vg(Ie)||Ie.contentEditable==="true")&&(Mo=Ie,th=Q,sl=null);break;case"focusout":sl=th=Mo=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Ag(ae,l,ie);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":Ag(ae,l,ie)}var be;if(Jd)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Oo?gg(s,l)&&(ke="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(fg&&l.locale!=="ko"&&(Oo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Oo&&(be=Su()):(bn=ie,Ao="value"in bn?bn.value:bn.textContent,Oo=!0)),Ie=Du(Q,ke),0<Ie.length&&(ke=new E(ke,s,null,l,ie),ae.push({event:ke,listeners:Ie}),be?ke.data=be:(be=yg(l),be!==null&&(ke.data=be)))),(be=TT?ST(s,l):CT(s,l))&&(Q=Du(Q,"onBeforeInput"),0<Q.length&&(ie=new E("onBeforeInput","beforeinput",null,l,ie),ae.push({event:ie,listeners:Q}),ie.data=be))}Vg(ae,o)})}function al(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Du(s,o){for(var l=o+"Capture",d=[];s!==null;){var m=s,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=Wt(s,l),g!=null&&d.unshift(al(s,g,m)),g=Wt(s,o),g!=null&&d.push(al(s,g,m))),s=s.return}return d}function Vo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Fg(s,o,l,d,m){for(var g=o._reactName,S=[];l!==null&&l!==d;){var V=l,F=V.alternate,Q=V.stateNode;if(F!==null&&F===d)break;V.tag===5&&Q!==null&&(V=Q,m?(F=Wt(l,g),F!=null&&S.unshift(al(l,F,V))):m||(F=Wt(l,g),F!=null&&S.push(al(l,F,V)))),l=l.return}S.length!==0&&s.push({event:o,listeners:S})}var FT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function Ug(s){return(typeof s=="string"?s:""+s).replace(FT,`
`).replace(UT,"")}function Ou(s,o,l){if(o=Ug(o),Ug(s)!==o&&l)throw Error(t(425))}function Mu(){}var lh=null,uh=null;function ch(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(s){return Bg.resolve(null).then(s).catch($T)}:dh;function $T(s){setTimeout(function(){throw s})}function hh(s,o){var l=o,d=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){s.removeChild(m),Ls(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Ls(o)}function Us(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function zg(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Rr="__reactFiber$"+jo,ll="__reactProps$"+jo,as="__reactContainer$"+jo,fh="__reactEvents$"+jo,HT="__reactListeners$"+jo,qT="__reactHandles$"+jo;function Ui(s){var o=s[Rr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[as]||l[Rr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=zg(s);s!==null;){if(l=s[Rr])return l;s=zg(s)}return o}s=l,l=s.parentNode}return null}function ul(s){return s=s[Rr]||s[as],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Fo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Lu(s){return s[ll]||null}var ph=[],Uo=-1;function Bs(s){return{current:s}}function st(s){0>Uo||(s.current=ph[Uo],ph[Uo]=null,Uo--)}function tt(s,o){Uo++,ph[Uo]=s.current,s.current=o}var zs={},Qt=Bs(zs),dn=Bs(!1),Bi=zs;function Bo(s,o){var l=s.type.contextTypes;if(!l)return zs;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in l)m[g]=o[g];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function hn(s){return s=s.childContextTypes,s!=null}function Vu(){st(dn),st(Qt)}function $g(s,o,l){if(Qt.current!==zs)throw Error(t(168));tt(Qt,o),tt(dn,l)}function Hg(s,o,l){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,pe(s)||"Unknown",m));return se({},l,d)}function ju(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||zs,Bi=Qt.current,tt(Qt,s),tt(dn,dn.current),!0}function qg(s,o,l){var d=s.stateNode;if(!d)throw Error(t(169));l?(s=Hg(s,o,Bi),d.__reactInternalMemoizedMergedChildContext=s,st(dn),st(Qt),tt(Qt,s)):st(dn),tt(dn,l)}var ls=null,Fu=!1,mh=!1;function Wg(s){ls===null?ls=[s]:ls.push(s)}function WT(s){Fu=!0,Wg(s)}function $s(){if(!mh&&ls!==null){mh=!0;var s=0,o=$e;try{var l=ls;for($e=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}ls=null,Fu=!1}catch(m){throw ls!==null&&(ls=ls.slice(s+1)),Fa(Eo,$s),m}finally{$e=o,mh=!1}}return null}var zo=[],$o=0,Uu=null,Bu=0,Un=[],Bn=0,zi=null,us=1,cs="";function $i(s,o){zo[$o++]=Bu,zo[$o++]=Uu,Uu=s,Bu=o}function Kg(s,o,l){Un[Bn++]=us,Un[Bn++]=cs,Un[Bn++]=zi,zi=s;var d=us;s=cs;var m=32-Cn(d)-1;d&=~(1<<m),l+=1;var g=32-Cn(o)+m;if(30<g){var S=m-m%5;g=(d&(1<<S)-1).toString(32),d>>=S,m-=S,us=1<<32-Cn(o)+m|l<<m|d,cs=g+s}else us=1<<g|l<<m|d,cs=s}function gh(s){s.return!==null&&($i(s,1),Kg(s,1,0))}function yh(s){for(;s===Uu;)Uu=zo[--$o],zo[$o]=null,Bu=zo[--$o],zo[$o]=null;for(;s===zi;)zi=Un[--Bn],Un[Bn]=null,cs=Un[--Bn],Un[Bn]=null,us=Un[--Bn],Un[Bn]=null}var Pn=null,Nn=null,at=!1,Xn=null;function Gg(s,o){var l=qn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Qg(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Pn=s,Nn=Us(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Pn=s,Nn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=zi!==null?{id:us,overflow:cs}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=qn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,Pn=s,Nn=null,!0):!1;default:return!1}}function vh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function wh(s){if(at){var o=Nn;if(o){var l=o;if(!Qg(s,o)){if(vh(s))throw Error(t(418));o=Us(l.nextSibling);var d=Pn;o&&Qg(s,o)?Gg(d,l):(s.flags=s.flags&-4097|2,at=!1,Pn=s)}}else{if(vh(s))throw Error(t(418));s.flags=s.flags&-4097|2,at=!1,Pn=s}}}function Yg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Pn=s}function zu(s){if(s!==Pn)return!1;if(!at)return Yg(s),at=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!ch(s.type,s.memoizedProps)),o&&(o=Nn)){if(vh(s))throw Jg(),Error(t(418));for(;o;)Gg(s,o),o=Us(o.nextSibling)}if(Yg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){Nn=Us(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}Nn=null}}else Nn=Pn?Us(s.stateNode.nextSibling):null;return!0}function Jg(){for(var s=Nn;s;)s=Us(s.nextSibling)}function Ho(){Nn=Pn=null,at=!1}function _h(s){Xn===null?Xn=[s]:Xn.push(s)}var KT=H.ReactCurrentBatchConfig;function cl(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,s));var m=d,g=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(S){var V=m.refs;S===null?delete V[g]:V[g]=S},o._stringRef=g,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function $u(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Xg(s){var o=s._init;return o(s._payload)}function Zg(s){function o(q,$){if(s){var K=q.deletions;K===null?(q.deletions=[$],q.flags|=16):K.push($)}}function l(q,$){if(!s)return null;for(;$!==null;)o(q,$),$=$.sibling;return null}function d(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function m(q,$){return q=Js(q,$),q.index=0,q.sibling=null,q}function g(q,$,K){return q.index=K,s?(K=q.alternate,K!==null?(K=K.index,K<$?(q.flags|=2,$):K):(q.flags|=2,$)):(q.flags|=1048576,$)}function S(q){return s&&q.alternate===null&&(q.flags|=2),q}function V(q,$,K,le){return $===null||$.tag!==6?($=hf(K,q.mode,le),$.return=q,$):($=m($,K),$.return=q,$)}function F(q,$,K,le){var Ee=K.type;return Ee===N?ie(q,$,K.props.children,le,K.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ve&&Xg(Ee)===$.type)?(le=m($,K.props),le.ref=cl(q,$,K),le.return=q,le):(le=fc(K.type,K.key,K.props,null,q.mode,le),le.ref=cl(q,$,K),le.return=q,le)}function Q(q,$,K,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=ff(K,q.mode,le),$.return=q,$):($=m($,K.children||[]),$.return=q,$)}function ie(q,$,K,le,Ee){return $===null||$.tag!==7?($=Ji(K,q.mode,le,Ee),$.return=q,$):($=m($,K),$.return=q,$)}function ae(q,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=hf(""+$,q.mode,K),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ee:return K=fc($.type,$.key,$.props,null,q.mode,K),K.ref=cl(q,null,$),K.return=q,K;case G:return $=ff($,q.mode,K),$.return=q,$;case ve:var le=$._init;return ae(q,le($._payload),K)}if(ot($)||te($))return $=Ji($,q.mode,K,null),$.return=q,$;$u(q,$)}return null}function re(q,$,K,le){var Ee=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ee!==null?null:V(q,$,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ee:return K.key===Ee?F(q,$,K,le):null;case G:return K.key===Ee?Q(q,$,K,le):null;case ve:return Ee=K._init,re(q,$,Ee(K._payload),le)}if(ot(K)||te(K))return Ee!==null?null:ie(q,$,K,le,null);$u(q,K)}return null}function fe(q,$,K,le,Ee){if(typeof le=="string"&&le!==""||typeof le=="number")return q=q.get(K)||null,V($,q,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case ee:return q=q.get(le.key===null?K:le.key)||null,F($,q,le,Ee);case G:return q=q.get(le.key===null?K:le.key)||null,Q($,q,le,Ee);case ve:var Ie=le._init;return fe(q,$,K,Ie(le._payload),Ee)}if(ot(le)||te(le))return q=q.get(K)||null,ie($,q,le,Ee,null);$u($,le)}return null}function we(q,$,K,le){for(var Ee=null,Ie=null,be=$,ke=$=0,Mt=null;be!==null&&ke<K.length;ke++){be.index>ke?(Mt=be,be=null):Mt=be.sibling;var Ke=re(q,be,K[ke],le);if(Ke===null){be===null&&(be=Mt);break}s&&be&&Ke.alternate===null&&o(q,be),$=g(Ke,$,ke),Ie===null?Ee=Ke:Ie.sibling=Ke,Ie=Ke,be=Mt}if(ke===K.length)return l(q,be),at&&$i(q,ke),Ee;if(be===null){for(;ke<K.length;ke++)be=ae(q,K[ke],le),be!==null&&($=g(be,$,ke),Ie===null?Ee=be:Ie.sibling=be,Ie=be);return at&&$i(q,ke),Ee}for(be=d(q,be);ke<K.length;ke++)Mt=fe(be,q,ke,K[ke],le),Mt!==null&&(s&&Mt.alternate!==null&&be.delete(Mt.key===null?ke:Mt.key),$=g(Mt,$,ke),Ie===null?Ee=Mt:Ie.sibling=Mt,Ie=Mt);return s&&be.forEach(function(Xs){return o(q,Xs)}),at&&$i(q,ke),Ee}function _e(q,$,K,le){var Ee=te(K);if(typeof Ee!="function")throw Error(t(150));if(K=Ee.call(K),K==null)throw Error(t(151));for(var Ie=Ee=null,be=$,ke=$=0,Mt=null,Ke=K.next();be!==null&&!Ke.done;ke++,Ke=K.next()){be.index>ke?(Mt=be,be=null):Mt=be.sibling;var Xs=re(q,be,Ke.value,le);if(Xs===null){be===null&&(be=Mt);break}s&&be&&Xs.alternate===null&&o(q,be),$=g(Xs,$,ke),Ie===null?Ee=Xs:Ie.sibling=Xs,Ie=Xs,be=Mt}if(Ke.done)return l(q,be),at&&$i(q,ke),Ee;if(be===null){for(;!Ke.done;ke++,Ke=K.next())Ke=ae(q,Ke.value,le),Ke!==null&&($=g(Ke,$,ke),Ie===null?Ee=Ke:Ie.sibling=Ke,Ie=Ke);return at&&$i(q,ke),Ee}for(be=d(q,be);!Ke.done;ke++,Ke=K.next())Ke=fe(be,q,ke,Ke.value,le),Ke!==null&&(s&&Ke.alternate!==null&&be.delete(Ke.key===null?ke:Ke.key),$=g(Ke,$,ke),Ie===null?Ee=Ke:Ie.sibling=Ke,Ie=Ke);return s&&be.forEach(function(IS){return o(q,IS)}),at&&$i(q,ke),Ee}function yt(q,$,K,le){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case ee:e:{for(var Ee=K.key,Ie=$;Ie!==null;){if(Ie.key===Ee){if(Ee=K.type,Ee===N){if(Ie.tag===7){l(q,Ie.sibling),$=m(Ie,K.props.children),$.return=q,q=$;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ve&&Xg(Ee)===Ie.type){l(q,Ie.sibling),$=m(Ie,K.props),$.ref=cl(q,Ie,K),$.return=q,q=$;break e}l(q,Ie);break}else o(q,Ie);Ie=Ie.sibling}K.type===N?($=Ji(K.props.children,q.mode,le,K.key),$.return=q,q=$):(le=fc(K.type,K.key,K.props,null,q.mode,le),le.ref=cl(q,$,K),le.return=q,q=le)}return S(q);case G:e:{for(Ie=K.key;$!==null;){if($.key===Ie)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(q,$.sibling),$=m($,K.children||[]),$.return=q,q=$;break e}else{l(q,$);break}else o(q,$);$=$.sibling}$=ff(K,q.mode,le),$.return=q,q=$}return S(q);case ve:return Ie=K._init,yt(q,$,Ie(K._payload),le)}if(ot(K))return we(q,$,K,le);if(te(K))return _e(q,$,K,le);$u(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(l(q,$.sibling),$=m($,K),$.return=q,q=$):(l(q,$),$=hf(K,q.mode,le),$.return=q,q=$),S(q)):l(q,$)}return yt}var qo=Zg(!0),ey=Zg(!1),Hu=Bs(null),qu=null,Wo=null,Eh=null;function xh(){Eh=Wo=qu=null}function Th(s){var o=Hu.current;st(Hu),s._currentValue=o}function Sh(s,o,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===l)break;s=s.return}}function Ko(s,o){qu=s,Eh=Wo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(fn=!0),s.firstContext=null)}function zn(s){var o=s._currentValue;if(Eh!==s)if(s={context:s,memoizedValue:o,next:null},Wo===null){if(qu===null)throw Error(t(308));Wo=s,qu.dependencies={lanes:0,firstContext:s}}else Wo=Wo.next=s;return o}var Hi=null;function Ch(s){Hi===null?Hi=[s]:Hi.push(s)}function ty(s,o,l,d){var m=o.interleaved;return m===null?(l.next=l,Ch(o)):(l.next=m.next,m.next=l),o.interleaved=l,ds(s,d)}function ds(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Hs=!1;function Ih(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ny(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function hs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function qs(s,o,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,ds(s,l)}return m=d.interleaved,m===null?(o.next=o,Ch(d)):(o.next=m.next,m.next=o),d.interleaved=o,ds(s,l)}function Wu(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,qa(s,l)}}function ry(s,o){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?m=g=S:g=g.next=S,l=l.next}while(l!==null);g===null?m=g=o:g=g.next=o}else m=g=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Ku(s,o,l,d){var m=s.updateQueue;Hs=!1;var g=m.firstBaseUpdate,S=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var F=V,Q=F.next;F.next=null,S===null?g=Q:S.next=Q,S=F;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,V=ie.lastBaseUpdate,V!==S&&(V===null?ie.firstBaseUpdate=Q:V.next=Q,ie.lastBaseUpdate=F))}if(g!==null){var ae=m.baseState;S=0,ie=Q=F=null,V=g;do{var re=V.lane,fe=V.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var we=s,_e=V;switch(re=o,fe=l,_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ae=we.call(fe,ae,re);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,re=typeof we=="function"?we.call(fe,ae,re):we,re==null)break e;ae=se({},ae,re);break e;case 2:Hs=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,re=m.effects,re===null?m.effects=[V]:re.push(V))}else fe={eventTime:fe,lane:re,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ie===null?(Q=ie=fe,F=ae):ie=ie.next=fe,S|=re;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;re=V,V=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);if(ie===null&&(F=ae),m.baseState=F,m.firstBaseUpdate=Q,m.lastBaseUpdate=ie,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else g===null&&(m.shared.lanes=0);Ki|=S,s.lanes=S,s.memoizedState=ae}}function sy(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var dl={},Pr=Bs(dl),hl=Bs(dl),fl=Bs(dl);function qi(s){if(s===dl)throw Error(t(174));return s}function bh(s,o){switch(tt(fl,o),tt(hl,s),tt(Pr,dl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:En(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=En(o,s)}st(Pr),tt(Pr,o)}function Go(){st(Pr),st(hl),st(fl)}function iy(s){qi(fl.current);var o=qi(Pr.current),l=En(o,s.type);o!==l&&(tt(hl,s),tt(Pr,l))}function Ah(s){hl.current===s&&(st(Pr),st(hl))}var lt=Bs(0);function Gu(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Rh=[];function Ph(){for(var s=0;s<Rh.length;s++)Rh[s]._workInProgressVersionPrimary=null;Rh.length=0}var Qu=H.ReactCurrentDispatcher,Nh=H.ReactCurrentBatchConfig,Wi=0,ut=null,It=null,Dt=null,Yu=!1,pl=!1,ml=0,GT=0;function Yt(){throw Error(t(321))}function kh(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Jn(s[l],o[l]))return!1;return!0}function Dh(s,o,l,d,m,g){if(Wi=g,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Qu.current=s===null||s.memoizedState===null?XT:ZT,s=l(d,m),pl){g=0;do{if(pl=!1,ml=0,25<=g)throw Error(t(301));g+=1,Dt=It=null,o.updateQueue=null,Qu.current=eS,s=l(d,m)}while(pl)}if(Qu.current=Zu,o=It!==null&&It.next!==null,Wi=0,Dt=It=ut=null,Yu=!1,o)throw Error(t(300));return s}function Oh(){var s=ml!==0;return ml=0,s}function Nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ut.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function $n(){if(It===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var o=Dt===null?ut.memoizedState:Dt.next;if(o!==null)Dt=o,It=s;else{if(s===null)throw Error(t(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Dt===null?ut.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function gl(s,o){return typeof o=="function"?o(s):o}function Mh(s){var o=$n(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=It,m=d.baseQueue,g=l.pending;if(g!==null){if(m!==null){var S=m.next;m.next=g.next,g.next=S}d.baseQueue=m=g,l.pending=null}if(m!==null){g=m.next,d=d.baseState;var V=S=null,F=null,Q=g;do{var ie=Q.lane;if((Wi&ie)===ie)F!==null&&(F=F.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:s(d,Q.action);else{var ae={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};F===null?(V=F=ae,S=d):F=F.next=ae,ut.lanes|=ie,Ki|=ie}Q=Q.next}while(Q!==null&&Q!==g);F===null?S=d:F.next=V,Jn(d,o.memoizedState)||(fn=!0),o.memoizedState=d,o.baseState=S,o.baseQueue=F,l.lastRenderedState=d}if(s=l.interleaved,s!==null){m=s;do g=m.lane,ut.lanes|=g,Ki|=g,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Lh(s){var o=$n(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=l.dispatch,m=l.pending,g=o.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do g=s(g,S.action),S=S.next;while(S!==m);Jn(g,o.memoizedState)||(fn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),l.lastRenderedState=g}return[g,d]}function oy(){}function ay(s,o){var l=ut,d=$n(),m=o(),g=!Jn(d.memoizedState,m);if(g&&(d.memoizedState=m,fn=!0),d=d.queue,Vh(cy.bind(null,l,d,s),[s]),d.getSnapshot!==o||g||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,yl(9,uy.bind(null,l,d,m,o),void 0,null),Ot===null)throw Error(t(349));(Wi&30)!==0||ly(l,o,m)}return m}function ly(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function uy(s,o,l,d){o.value=l,o.getSnapshot=d,dy(o)&&hy(s)}function cy(s,o,l){return l(function(){dy(o)&&hy(s)})}function dy(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Jn(s,l)}catch{return!0}}function hy(s){var o=ds(s,1);o!==null&&nr(o,s,1,-1)}function fy(s){var o=Nr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:s},o.queue=s,s=s.dispatch=JT.bind(null,ut,s),[o.memoizedState,s]}function yl(s,o,l,d){return s={tag:s,create:o,destroy:l,deps:d,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,o.lastEffect=s)),s}function py(){return $n().memoizedState}function Ju(s,o,l,d){var m=Nr();ut.flags|=s,m.memoizedState=yl(1|o,l,void 0,d===void 0?null:d)}function Xu(s,o,l,d){var m=$n();d=d===void 0?null:d;var g=void 0;if(It!==null){var S=It.memoizedState;if(g=S.destroy,d!==null&&kh(d,S.deps)){m.memoizedState=yl(o,l,g,d);return}}ut.flags|=s,m.memoizedState=yl(1|o,l,g,d)}function my(s,o){return Ju(8390656,8,s,o)}function Vh(s,o){return Xu(2048,8,s,o)}function gy(s,o){return Xu(4,2,s,o)}function yy(s,o){return Xu(4,4,s,o)}function vy(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function wy(s,o,l){return l=l!=null?l.concat([s]):null,Xu(4,4,vy.bind(null,o,s),l)}function jh(){}function _y(s,o){var l=$n();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&kh(o,d[1])?d[0]:(l.memoizedState=[s,o],s)}function Ey(s,o){var l=$n();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&kh(o,d[1])?d[0]:(s=s(),l.memoizedState=[s,o],s)}function xy(s,o,l){return(Wi&21)===0?(s.baseState&&(s.baseState=!1,fn=!0),s.memoizedState=l):(Jn(l,o)||(l=$a(),ut.lanes|=l,Ki|=l,s.baseState=!0),o)}function QT(s,o){var l=$e;$e=l!==0&&4>l?l:4,s(!0);var d=Nh.transition;Nh.transition={};try{s(!1),o()}finally{$e=l,Nh.transition=d}}function Ty(){return $n().memoizedState}function YT(s,o,l){var d=Qs(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Sy(s))Cy(o,l);else if(l=ty(s,o,l,d),l!==null){var m=on();nr(l,s,d,m),Iy(l,o,d)}}function JT(s,o,l){var d=Qs(s),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sy(s))Cy(o,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var S=o.lastRenderedState,V=g(S,l);if(m.hasEagerState=!0,m.eagerState=V,Jn(V,S)){var F=o.interleaved;F===null?(m.next=m,Ch(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}l=ty(s,o,m,d),l!==null&&(m=on(),nr(l,s,d,m),Iy(l,o,d))}}function Sy(s){var o=s.alternate;return s===ut||o!==null&&o===ut}function Cy(s,o){pl=Yu=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Iy(s,o,l){if((l&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,qa(s,l)}}var Zu={readContext:zn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},XT={readContext:zn,useCallback:function(s,o){return Nr().memoizedState=[s,o===void 0?null:o],s},useContext:zn,useEffect:my,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Ju(4194308,4,vy.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Ju(4194308,4,s,o)},useInsertionEffect:function(s,o){return Ju(4,2,s,o)},useMemo:function(s,o){var l=Nr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var d=Nr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=YT.bind(null,ut,s),[d.memoizedState,s]},useRef:function(s){var o=Nr();return s={current:s},o.memoizedState=s},useState:fy,useDebugValue:jh,useDeferredValue:function(s){return Nr().memoizedState=s},useTransition:function(){var s=fy(!1),o=s[0];return s=QT.bind(null,s[1]),Nr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var d=ut,m=Nr();if(at){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Ot===null)throw Error(t(349));(Wi&30)!==0||ly(d,o,l)}m.memoizedState=l;var g={value:l,getSnapshot:o};return m.queue=g,my(cy.bind(null,d,g,s),[s]),d.flags|=2048,yl(9,uy.bind(null,d,g,l,o),void 0,null),l},useId:function(){var s=Nr(),o=Ot.identifierPrefix;if(at){var l=cs,d=us;l=(d&~(1<<32-Cn(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=ml++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=GT++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},ZT={readContext:zn,useCallback:_y,useContext:zn,useEffect:Vh,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ey,useReducer:Mh,useRef:py,useState:function(){return Mh(gl)},useDebugValue:jh,useDeferredValue:function(s){var o=$n();return xy(o,It.memoizedState,s)},useTransition:function(){var s=Mh(gl)[0],o=$n().memoizedState;return[s,o]},useMutableSource:oy,useSyncExternalStore:ay,useId:Ty,unstable_isNewReconciler:!1},eS={readContext:zn,useCallback:_y,useContext:zn,useEffect:Vh,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ey,useReducer:Lh,useRef:py,useState:function(){return Lh(gl)},useDebugValue:jh,useDeferredValue:function(s){var o=$n();return It===null?o.memoizedState=s:xy(o,It.memoizedState,s)},useTransition:function(){var s=Lh(gl)[0],o=$n().memoizedState;return[s,o]},useMutableSource:oy,useSyncExternalStore:ay,useId:Ty,unstable_isNewReconciler:!1};function Zn(s,o){if(s&&s.defaultProps){o=se({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Fh(s,o,l,d){o=s.memoizedState,l=l(d,o),l=l==null?o:se({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var ec={isMounted:function(s){return(s=s._reactInternals)?Qn(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var d=on(),m=Qs(s),g=hs(d,m);g.payload=o,l!=null&&(g.callback=l),o=qs(s,g,m),o!==null&&(nr(o,s,m,d),Wu(o,s,m))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var d=on(),m=Qs(s),g=hs(d,m);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=qs(s,g,m),o!==null&&(nr(o,s,m,d),Wu(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=on(),d=Qs(s),m=hs(l,d);m.tag=2,o!=null&&(m.callback=o),o=qs(s,m,d),o!==null&&(nr(o,s,d,l),Wu(o,s,d))}};function by(s,o,l,d,m,g,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,g,S):o.prototype&&o.prototype.isPureReactComponent?!rl(l,d)||!rl(m,g):!0}function Ay(s,o,l){var d=!1,m=zs,g=o.contextType;return typeof g=="object"&&g!==null?g=zn(g):(m=hn(o)?Bi:Qt.current,d=o.contextTypes,g=(d=d!=null)?Bo(s,m):zs),o=new o(l,g),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ec,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=g),o}function Ry(s,o,l,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==s&&ec.enqueueReplaceState(o,o.state,null)}function Uh(s,o,l,d){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},Ih(s);var g=o.contextType;typeof g=="object"&&g!==null?m.context=zn(g):(g=hn(o)?Bi:Qt.current,m.context=Bo(s,g)),m.state=s.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(Fh(s,o,g,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&ec.enqueueReplaceState(m,m.state,null),Ku(s,l,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Qo(s,o){try{var l="",d=o;do l+=Te(d),d=d.return;while(d);var m=l}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:s,source:o,stack:m,digest:null}}function Bh(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function zh(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var tS=typeof WeakMap=="function"?WeakMap:Map;function Py(s,o,l){l=hs(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){ac||(ac=!0,rf=d),zh(s,o)},l}function Ny(s,o,l){l=hs(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){zh(s,o)}}var g=s.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){zh(s,o),typeof d!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function ky(s,o,l){var d=s.pingCache;if(d===null){d=s.pingCache=new tS;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),s=mS.bind(null,s,o,l),o.then(s,s))}function Dy(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Oy(s,o,l,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=hs(-1,1),o.tag=2,qs(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var nS=H.ReactCurrentOwner,fn=!1;function sn(s,o,l,d){o.child=s===null?ey(o,null,l,d):qo(o,s.child,l,d)}function My(s,o,l,d,m){l=l.render;var g=o.ref;return Ko(o,m),d=Dh(s,o,l,d,g,m),l=Oh(),s!==null&&!fn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,fs(s,o,m)):(at&&l&&gh(o),o.flags|=1,sn(s,o,d,m),o.child)}function Ly(s,o,l,d,m){if(s===null){var g=l.type;return typeof g=="function"&&!df(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=g,Vy(s,o,g,d,m)):(s=fc(l.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(g=s.child,(s.lanes&m)===0){var S=g.memoizedProps;if(l=l.compare,l=l!==null?l:rl,l(S,d)&&s.ref===o.ref)return fs(s,o,m)}return o.flags|=1,s=Js(g,d),s.ref=o.ref,s.return=o,o.child=s}function Vy(s,o,l,d,m){if(s!==null){var g=s.memoizedProps;if(rl(g,d)&&s.ref===o.ref)if(fn=!1,o.pendingProps=d=g,(s.lanes&m)!==0)(s.flags&131072)!==0&&(fn=!0);else return o.lanes=s.lanes,fs(s,o,m)}return $h(s,o,l,d,m)}function jy(s,o,l){var d=o.pendingProps,m=d.children,g=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Jo,kn),kn|=l;else{if((l&1073741824)===0)return s=g!==null?g.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,tt(Jo,kn),kn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,tt(Jo,kn),kn|=d}else g!==null?(d=g.baseLanes|l,o.memoizedState=null):d=l,tt(Jo,kn),kn|=d;return sn(s,o,m,l),o.child}function Fy(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function $h(s,o,l,d,m){var g=hn(l)?Bi:Qt.current;return g=Bo(o,g),Ko(o,m),l=Dh(s,o,l,d,g,m),d=Oh(),s!==null&&!fn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,fs(s,o,m)):(at&&d&&gh(o),o.flags|=1,sn(s,o,l,m),o.child)}function Uy(s,o,l,d,m){if(hn(l)){var g=!0;ju(o)}else g=!1;if(Ko(o,m),o.stateNode===null)nc(s,o),Ay(o,l,d),Uh(o,l,d,m),d=!0;else if(s===null){var S=o.stateNode,V=o.memoizedProps;S.props=V;var F=S.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=zn(Q):(Q=hn(l)?Bi:Qt.current,Q=Bo(o,Q));var ie=l.getDerivedStateFromProps,ae=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function";ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==d||F!==Q)&&Ry(o,S,d,Q),Hs=!1;var re=o.memoizedState;S.state=re,Ku(o,d,S,m),F=o.memoizedState,V!==d||re!==F||dn.current||Hs?(typeof ie=="function"&&(Fh(o,l,ie,d),F=o.memoizedState),(V=Hs||by(o,l,V,d,re,F,Q))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=F),S.props=d,S.state=F,S.context=Q,d=V):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,ny(s,o),V=o.memoizedProps,Q=o.type===o.elementType?V:Zn(o.type,V),S.props=Q,ae=o.pendingProps,re=S.context,F=l.contextType,typeof F=="object"&&F!==null?F=zn(F):(F=hn(l)?Bi:Qt.current,F=Bo(o,F));var fe=l.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==ae||re!==F)&&Ry(o,S,d,F),Hs=!1,re=o.memoizedState,S.state=re,Ku(o,d,S,m);var we=o.memoizedState;V!==ae||re!==we||dn.current||Hs?(typeof fe=="function"&&(Fh(o,l,fe,d),we=o.memoizedState),(Q=Hs||by(o,l,Q,d,re,we,F)||!1)?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,we,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,we,F)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=we),S.props=d,S.state=we,S.context=F,d=Q):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),d=!1)}return Hh(s,o,l,d,g,m)}function Hh(s,o,l,d,m,g){Fy(s,o);var S=(o.flags&128)!==0;if(!d&&!S)return m&&qg(o,l,!1),fs(s,o,g);d=o.stateNode,nS.current=o;var V=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&S?(o.child=qo(o,s.child,null,g),o.child=qo(o,null,V,g)):sn(s,o,V,g),o.memoizedState=d.state,m&&qg(o,l,!0),o.child}function By(s){var o=s.stateNode;o.pendingContext?$g(s,o.pendingContext,o.pendingContext!==o.context):o.context&&$g(s,o.context,!1),bh(s,o.containerInfo)}function zy(s,o,l,d,m){return Ho(),_h(m),o.flags|=256,sn(s,o,l,d),o.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Wh(s){return{baseLanes:s,cachePool:null,transitions:null}}function $y(s,o,l){var d=o.pendingProps,m=lt.current,g=!1,S=(o.flags&128)!==0,V;if((V=S)||(V=s!==null&&s.memoizedState===null?!1:(m&2)!==0),V?(g=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),tt(lt,m&1),s===null)return wh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=d.children,s=d.fallback,g?(d=o.mode,g=o.child,S={mode:"hidden",children:S},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=S):g=pc(S,d,0,null),s=Ji(s,d,l,null),g.return=o,s.return=o,g.sibling=s,o.child=g,o.child.memoizedState=Wh(l),o.memoizedState=qh,s):Kh(o,S));if(m=s.memoizedState,m!==null&&(V=m.dehydrated,V!==null))return rS(s,o,S,d,V,m,l);if(g){g=d.fallback,S=o.mode,m=s.child,V=m.sibling;var F={mode:"hidden",children:d.children};return(S&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=F,o.deletions=null):(d=Js(m,F),d.subtreeFlags=m.subtreeFlags&14680064),V!==null?g=Js(V,g):(g=Ji(g,S,l,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,S=s.child.memoizedState,S=S===null?Wh(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},g.memoizedState=S,g.childLanes=s.childLanes&~l,o.memoizedState=qh,d}return g=s.child,s=g.sibling,d=Js(g,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=d,o.memoizedState=null,d}function Kh(s,o){return o=pc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function tc(s,o,l,d){return d!==null&&_h(d),qo(o,s.child,null,l),s=Kh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function rS(s,o,l,d,m,g,S){if(l)return o.flags&256?(o.flags&=-257,d=Bh(Error(t(422))),tc(s,o,S,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(g=d.fallback,m=o.mode,d=pc({mode:"visible",children:d.children},m,0,null),g=Ji(g,m,S,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,(o.mode&1)!==0&&qo(o,s.child,null,S),o.child.memoizedState=Wh(S),o.memoizedState=qh,g);if((o.mode&1)===0)return tc(s,o,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var V=d.dgst;return d=V,g=Error(t(419)),d=Bh(g,d,void 0),tc(s,o,S,d)}if(V=(S&s.childLanes)!==0,fn||V){if(d=Ot,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|S))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,ds(s,m),nr(d,s,m,-1))}return cf(),d=Bh(Error(t(421))),tc(s,o,S,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=gS.bind(null,s),m._reactRetry=o,null):(s=g.treeContext,Nn=Us(m.nextSibling),Pn=o,at=!0,Xn=null,s!==null&&(Un[Bn++]=us,Un[Bn++]=cs,Un[Bn++]=zi,us=s.id,cs=s.overflow,zi=o),o=Kh(o,d.children),o.flags|=4096,o)}function Hy(s,o,l){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Sh(s.return,o,l)}function Gh(s,o,l,d,m){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=m)}function qy(s,o,l){var d=o.pendingProps,m=d.revealOrder,g=d.tail;if(sn(s,o,d.children,l),d=lt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hy(s,l,o);else if(s.tag===19)Hy(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(tt(lt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&Gu(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Gh(o,!1,m,l,g);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Gu(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Gh(o,!0,l,null,g);break;case"together":Gh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function nc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function fs(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Ki|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=Js(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Js(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function sS(s,o,l){switch(o.tag){case 3:By(o),Ho();break;case 5:iy(o);break;case 1:hn(o.type)&&ju(o);break;case 4:bh(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;tt(Hu,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(tt(lt,lt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?$y(s,o,l):(tt(lt,lt.current&1),s=fs(s,o,l),s!==null?s.sibling:null);tt(lt,lt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(s.flags&128)!==0){if(d)return qy(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(lt,lt.current),d)break;return null;case 22:case 23:return o.lanes=0,jy(s,o,l)}return fs(s,o,l)}var Wy,Qh,Ky,Gy;Wy=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Qh=function(){},Ky=function(s,o,l,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,qi(Pr.current);var g=null;switch(l){case"input":m=Rs(s,m),d=Rs(s,d),g=[];break;case"select":m=se({},m,{value:void 0}),d=se({},d,{value:void 0}),g=[];break;case"textarea":m=Ps(s,m),d=Ps(s,d),g=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Mu)}kt(l,d);var S;l=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var V=m[Q];for(S in V)V.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?g||(g=[]):(g=g||[]).push(Q,null));for(Q in d){var F=d[Q];if(V=m?.[Q],d.hasOwnProperty(Q)&&F!==V&&(F!=null||V!=null))if(Q==="style")if(V){for(S in V)!V.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in F)F.hasOwnProperty(S)&&V[S]!==F[S]&&(l||(l={}),l[S]=F[S])}else l||(g||(g=[]),g.push(Q,l)),l=F;else Q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,V=V?V.__html:void 0,F!=null&&V!==F&&(g=g||[]).push(Q,F)):Q==="children"?typeof F!="string"&&typeof F!="number"||(g=g||[]).push(Q,""+F):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(F!=null&&Q==="onScroll"&&rt("scroll",s),g||V===F||(g=[])):(g=g||[]).push(Q,F))}l&&(g=g||[]).push("style",l);var Q=g;(o.updateQueue=Q)&&(o.flags|=4)}},Gy=function(s,o,l,d){l!==d&&(o.flags|=4)};function vl(s,o){if(!at)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=l,o}function iS(s,o,l){var d=o.pendingProps;switch(yh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return hn(o.type)&&Vu(),Jt(o),null;case 3:return d=o.stateNode,Go(),st(dn),st(Qt),Ph(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(zu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xn!==null&&(af(Xn),Xn=null))),Qh(s,o),Jt(o),null;case 5:Ah(o);var m=qi(fl.current);if(l=o.type,s!==null&&o.stateNode!=null)Ky(s,o,l,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Jt(o),null}if(s=qi(Pr.current),zu(o)){d=o.stateNode,l=o.type;var g=o.memoizedProps;switch(d[Rr]=o,d[ll]=g,s=(o.mode&1)!==0,l){case"dialog":rt("cancel",d),rt("close",d);break;case"iframe":case"object":case"embed":rt("load",d);break;case"video":case"audio":for(m=0;m<il.length;m++)rt(il[m],d);break;case"source":rt("error",d);break;case"img":case"image":case"link":rt("error",d),rt("load",d);break;case"details":rt("toggle",d);break;case"input":go(d,g),rt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},rt("invalid",d);break;case"textarea":_n(d,g),rt("invalid",d)}kt(l,g),m=null;for(var S in g)if(g.hasOwnProperty(S)){var V=g[S];S==="children"?typeof V=="string"?d.textContent!==V&&(g.suppressHydrationWarning!==!0&&Ou(d.textContent,V,s),m=["children",V]):typeof V=="number"&&d.textContent!==""+V&&(g.suppressHydrationWarning!==!0&&Ou(d.textContent,V,s),m=["children",""+V]):i.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&rt("scroll",d)}switch(l){case"input":un(d),Jr(d,g,!0);break;case"textarea":un(d),dr(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Mu)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Nt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=S.createElement(l,{is:d.is}):(s=S.createElement(l),l==="select"&&(S=s,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):s=S.createElementNS(s,l),s[Rr]=o,s[ll]=d,Wy(s,o,!1,!1),o.stateNode=s;e:{switch(S=ks(l,d),l){case"dialog":rt("cancel",s),rt("close",s),m=d;break;case"iframe":case"object":case"embed":rt("load",s),m=d;break;case"video":case"audio":for(m=0;m<il.length;m++)rt(il[m],s);m=d;break;case"source":rt("error",s),m=d;break;case"img":case"image":case"link":rt("error",s),rt("load",s),m=d;break;case"details":rt("toggle",s),m=d;break;case"input":go(s,d),m=Rs(s,d),rt("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=se({},d,{value:void 0}),rt("invalid",s);break;case"textarea":_n(s,d),m=Ps(s,d),rt("invalid",s);break;default:m=d}kt(l,m),V=m;for(g in V)if(V.hasOwnProperty(g)){var F=V[g];g==="style"?xn(s,F):g==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&vo(s,F)):g==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Mn(s,F):typeof F=="number"&&Mn(s,""+F):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(i.hasOwnProperty(g)?F!=null&&g==="onScroll"&&rt("scroll",s):F!=null&&B(s,g,F,S))}switch(l){case"input":un(s),Jr(s,d,!1);break;case"textarea":un(s),dr(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Re(d.value));break;case"select":s.multiple=!!d.multiple,g=d.value,g!=null?Vt(s,!!d.multiple,g,!1):d.defaultValue!=null&&Vt(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Mu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(s&&o.stateNode!=null)Gy(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=qi(fl.current),qi(Pr.current),zu(o)){if(d=o.stateNode,l=o.memoizedProps,d[Rr]=o,(g=d.nodeValue!==l)&&(s=Pn,s!==null))switch(s.tag){case 3:Ou(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ou(d.nodeValue,l,(s.mode&1)!==0)}g&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Rr]=o,o.stateNode=d}return Jt(o),null;case 13:if(st(lt),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&Nn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Jg(),Ho(),o.flags|=98560,g=!1;else if(g=zu(o),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(t(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Rr]=o}else Ho(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),g=!1}else Xn!==null&&(af(Xn),Xn=null),g=!0;if(!g)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(lt.current&1)!==0?bt===0&&(bt=3):cf())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return Go(),Qh(s,o),s===null&&ol(o.stateNode.containerInfo),Jt(o),null;case 10:return Th(o.type._context),Jt(o),null;case 17:return hn(o.type)&&Vu(),Jt(o),null;case 19:if(st(lt),g=o.memoizedState,g===null)return Jt(o),null;if(d=(o.flags&128)!==0,S=g.rendering,S===null)if(d)vl(g,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=Gu(s),S!==null){for(o.flags|=128,vl(g,!1),d=S.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)g=l,s=d,g.flags&=14680066,S=g.alternate,S===null?(g.childLanes=0,g.lanes=s,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=S.childLanes,g.lanes=S.lanes,g.child=S.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=S.memoizedProps,g.memoizedState=S.memoizedState,g.updateQueue=S.updateQueue,g.type=S.type,s=S.dependencies,g.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return tt(lt,lt.current&1|2),o.child}s=s.sibling}g.tail!==null&&nt()>Xo&&(o.flags|=128,d=!0,vl(g,!1),o.lanes=4194304)}else{if(!d)if(s=Gu(S),s!==null){if(o.flags|=128,d=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),vl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!at)return Jt(o),null}else 2*nt()-g.renderingStartTime>Xo&&l!==1073741824&&(o.flags|=128,d=!0,vl(g,!1),o.lanes=4194304);g.isBackwards?(S.sibling=o.child,o.child=S):(l=g.last,l!==null?l.sibling=S:o.child=S,g.last=S)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=nt(),o.sibling=null,l=lt.current,tt(lt,d?l&1|2:l&1),o):(Jt(o),null);case 22:case 23:return uf(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(kn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function oS(s,o){switch(yh(o),o.tag){case 1:return hn(o.type)&&Vu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Go(),st(dn),st(Qt),Ph(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Ah(o),null;case 13:if(st(lt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ho()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return st(lt),null;case 4:return Go(),null;case 10:return Th(o.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var rc=!1,Xt=!1,aS=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Yo(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){pt(s,o,d)}else l.current=null}function Yh(s,o,l){try{l()}catch(d){pt(s,o,d)}}var Qy=!1;function lS(s,o){if(lh=ss,s=bg(),eh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var S=0,V=-1,F=-1,Q=0,ie=0,ae=s,re=null;t:for(;;){for(var fe;ae!==l||m!==0&&ae.nodeType!==3||(V=S+m),ae!==g||d!==0&&ae.nodeType!==3||(F=S+d),ae.nodeType===3&&(S+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)re=ae,ae=fe;for(;;){if(ae===s)break t;if(re===l&&++Q===m&&(V=S),re===g&&++ie===d&&(F=S),(fe=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=fe}l=V===-1||F===-1?null:{start:V,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(uh={focusedElem:s,selectionRange:l},ss=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var we=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var _e=we.memoizedProps,yt=we.memoizedState,q=o.stateNode,$=q.getSnapshotBeforeUpdate(o.elementType===o.type?_e:Zn(o.type,_e),yt);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){pt(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return we=Qy,Qy=!1,we}function wl(s,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var g=m.destroy;m.destroy=void 0,g!==void 0&&Yh(o,l,g)}m=m.next}while(m!==d)}}function sc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Jh(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Yy(s){var o=s.alternate;o!==null&&(s.alternate=null,Yy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Rr],delete o[ll],delete o[fh],delete o[HT],delete o[qT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Jy(s){return s.tag===5||s.tag===3||s.tag===4}function Xy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xh(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Mu));else if(d!==4&&(s=s.child,s!==null))for(Xh(s,o,l),s=s.sibling;s!==null;)Xh(s,o,l),s=s.sibling}function Zh(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Zh(s,o,l),s=s.sibling;s!==null;)Zh(s,o,l),s=s.sibling}var Ut=null,er=!1;function Ws(s,o,l){for(l=l.child;l!==null;)Zy(s,o,l),l=l.sibling}function Zy(s,o,l){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Ni,l)}catch{}switch(l.tag){case 5:Xt||Yo(l,o);case 6:var d=Ut,m=er;Ut=null,Ws(s,o,l),Ut=d,er=m,Ut!==null&&(er?(s=Ut,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Ut.removeChild(l.stateNode));break;case 18:Ut!==null&&(er?(s=Ut,l=l.stateNode,s.nodeType===8?hh(s.parentNode,l):s.nodeType===1&&hh(s,l),Ls(s)):hh(Ut,l.stateNode));break;case 4:d=Ut,m=er,Ut=l.stateNode.containerInfo,er=!0,Ws(s,o,l),Ut=d,er=m;break;case 0:case 11:case 14:case 15:if(!Xt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var g=m,S=g.destroy;g=g.tag,S!==void 0&&((g&2)!==0||(g&4)!==0)&&Yh(l,o,S),m=m.next}while(m!==d)}Ws(s,o,l);break;case 1:if(!Xt&&(Yo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(V){pt(l,o,V)}Ws(s,o,l);break;case 21:Ws(s,o,l);break;case 22:l.mode&1?(Xt=(d=Xt)||l.memoizedState!==null,Ws(s,o,l),Xt=d):Ws(s,o,l);break;default:Ws(s,o,l)}}function ev(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new aS),o.forEach(function(d){var m=yS.bind(null,s,d);l.has(d)||(l.add(d),d.then(m,m))})}}function tr(s,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var g=s,S=o,V=S;e:for(;V!==null;){switch(V.tag){case 5:Ut=V.stateNode,er=!1;break e;case 3:Ut=V.stateNode.containerInfo,er=!0;break e;case 4:Ut=V.stateNode.containerInfo,er=!0;break e}V=V.return}if(Ut===null)throw Error(t(160));Zy(g,S,m),Ut=null,er=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(Q){pt(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)tv(o,s),o=o.sibling}function tv(s,o){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(tr(o,s),kr(s),d&4){try{wl(3,s,s.return),sc(3,s)}catch(_e){pt(s,s.return,_e)}try{wl(5,s,s.return)}catch(_e){pt(s,s.return,_e)}}break;case 1:tr(o,s),kr(s),d&512&&l!==null&&Yo(l,l.return);break;case 5:if(tr(o,s),kr(s),d&512&&l!==null&&Yo(l,l.return),s.flags&32){var m=s.stateNode;try{Mn(m,"")}catch(_e){pt(s,s.return,_e)}}if(d&4&&(m=s.stateNode,m!=null)){var g=s.memoizedProps,S=l!==null?l.memoizedProps:g,V=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{V==="input"&&g.type==="radio"&&g.name!=null&&Qr(m,g),ks(V,S);var Q=ks(V,g);for(S=0;S<F.length;S+=2){var ie=F[S],ae=F[S+1];ie==="style"?xn(m,ae):ie==="dangerouslySetInnerHTML"?vo(m,ae):ie==="children"?Mn(m,ae):B(m,ie,ae,Q)}switch(V){case"input":Yr(m,g);break;case"textarea":yo(m,g);break;case"select":var re=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var fe=g.value;fe!=null?Vt(m,!!g.multiple,fe,!1):re!==!!g.multiple&&(g.defaultValue!=null?Vt(m,!!g.multiple,g.defaultValue,!0):Vt(m,!!g.multiple,g.multiple?[]:"",!1))}m[ll]=g}catch(_e){pt(s,s.return,_e)}}break;case 6:if(tr(o,s),kr(s),d&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,g=s.memoizedProps;try{m.nodeValue=g}catch(_e){pt(s,s.return,_e)}}break;case 3:if(tr(o,s),kr(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ls(o.containerInfo)}catch(_e){pt(s,s.return,_e)}break;case 4:tr(o,s),kr(s);break;case 13:tr(o,s),kr(s),m=s.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(nf=nt())),d&4&&ev(s);break;case 22:if(ie=l!==null&&l.memoizedState!==null,s.mode&1?(Xt=(Q=Xt)||ie,tr(o,s),Xt=Q):tr(o,s),kr(s),d&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!ie&&(s.mode&1)!==0)for(ge=s,ie=s.child;ie!==null;){for(ae=ge=ie;ge!==null;){switch(re=ge,fe=re.child,re.tag){case 0:case 11:case 14:case 15:wl(4,re,re.return);break;case 1:Yo(re,re.return);var we=re.stateNode;if(typeof we.componentWillUnmount=="function"){d=re,l=re.return;try{o=d,we.props=o.memoizedProps,we.state=o.memoizedState,we.componentWillUnmount()}catch(_e){pt(d,l,_e)}}break;case 5:Yo(re,re.return);break;case 22:if(re.memoizedState!==null){sv(ae);continue}}fe!==null?(fe.return=re,ge=fe):sv(ae)}ie=ie.sibling}e:for(ie=null,ae=s;;){if(ae.tag===5){if(ie===null){ie=ae;try{m=ae.stateNode,Q?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(V=ae.stateNode,F=ae.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,V.style.display=Ln("display",S))}catch(_e){pt(s,s.return,_e)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Q?"":ae.memoizedProps}catch(_e){pt(s,s.return,_e)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:tr(o,s),kr(s),d&4&&ev(s);break;case 21:break;default:tr(o,s),kr(s)}}function kr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(Jy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Mn(m,""),d.flags&=-33);var g=Xy(s);Zh(s,g,m);break;case 3:case 4:var S=d.stateNode.containerInfo,V=Xy(s);Xh(s,V,S);break;default:throw Error(t(161))}}catch(F){pt(s,s.return,F)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function uS(s,o,l){ge=s,nv(s)}function nv(s,o,l){for(var d=(s.mode&1)!==0;ge!==null;){var m=ge,g=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||rc;if(!S){var V=m.alternate,F=V!==null&&V.memoizedState!==null||Xt;V=rc;var Q=Xt;if(rc=S,(Xt=F)&&!Q)for(ge=m;ge!==null;)S=ge,F=S.child,S.tag===22&&S.memoizedState!==null?iv(m):F!==null?(F.return=S,ge=F):iv(m);for(;g!==null;)ge=g,nv(g),g=g.sibling;ge=m,rc=V,Xt=Q}rv(s)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,ge=g):rv(s)}}function rv(s){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Xt||sc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Xt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Zn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&sy(o,g,d);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}sy(o,S,l)}break;case 5:var V=o.stateNode;if(l===null&&o.flags&4){l=V;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&Ls(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Xt||o.flags&512&&Jh(o)}catch(re){pt(o,o.return,re)}}if(o===s){ge=null;break}if(l=o.sibling,l!==null){l.return=o.return,ge=l;break}ge=o.return}}function sv(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ge=l;break}ge=o.return}}function iv(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{sc(4,o)}catch(F){pt(o,l,F)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(F){pt(o,m,F)}}var g=o.return;try{Jh(o)}catch(F){pt(o,g,F)}break;case 5:var S=o.return;try{Jh(o)}catch(F){pt(o,S,F)}}}catch(F){pt(o,o.return,F)}if(o===s){ge=null;break}var V=o.sibling;if(V!==null){V.return=o.return,ge=V;break}ge=o.return}}var cS=Math.ceil,ic=H.ReactCurrentDispatcher,ef=H.ReactCurrentOwner,Hn=H.ReactCurrentBatchConfig,We=0,Ot=null,Tt=null,Bt=0,kn=0,Jo=Bs(0),bt=0,_l=null,Ki=0,oc=0,tf=0,El=null,pn=null,nf=0,Xo=1/0,ps=null,ac=!1,rf=null,Ks=null,lc=!1,Gs=null,uc=0,xl=0,sf=null,cc=-1,dc=0;function on(){return(We&6)!==0?nt():cc!==-1?cc:cc=nt()}function Qs(s){return(s.mode&1)===0?1:(We&2)!==0&&Bt!==0?Bt&-Bt:KT.transition!==null?(dc===0&&(dc=$a()),dc):(s=$e,s!==0||(s=window.event,s=s===void 0?16:bo(s.type)),s)}function nr(s,o,l,d){if(50<xl)throw xl=0,sf=null,Error(t(185));Mi(s,l,d),((We&2)===0||s!==Ot)&&(s===Ot&&((We&2)===0&&(oc|=l),bt===4&&Ys(s,Bt)),mn(s,d),l===1&&We===0&&(o.mode&1)===0&&(Xo=nt()+500,Fu&&$s()))}function mn(s,o){var l=s.callbackNode;Oi(s,o);var d=ts(s,s===Ot?Bt:0);if(d===0)l!==null&&_o(l),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(l!=null&&_o(l),o===1)s.tag===0?WT(av.bind(null,s)):Wg(av.bind(null,s)),zT(function(){(We&6)===0&&$s()}),l=null;else{switch(wr(d)){case 1:l=Eo;break;case 4:l=Ua;break;case 16:l=Pi;break;case 536870912:l=xo;break;default:l=Pi}l=mv(l,ov.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function ov(s,o){if(cc=-1,dc=0,(We&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Zo()&&s.callbackNode!==l)return null;var d=ts(s,s===Ot?Bt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=hc(s,d);else{o=d;var m=We;We|=2;var g=uv();(Ot!==s||Bt!==o)&&(ps=null,Xo=nt()+500,Qi(s,o));do try{fS();break}catch(V){lv(s,V)}while(!0);xh(),ic.current=g,We=m,Tt!==null?o=0:(Ot=null,Bt=0,o=bt)}if(o!==0){if(o===2&&(m=za(s),m!==0&&(d=m,o=of(s,m))),o===1)throw l=_l,Qi(s,0),Ys(s,d),mn(s,nt()),l;if(o===6)Ys(s,d);else{if(m=s.current.alternate,(d&30)===0&&!dS(m)&&(o=hc(s,d),o===2&&(g=za(s),g!==0&&(d=g,o=of(s,g))),o===1))throw l=_l,Qi(s,0),Ys(s,d),mn(s,nt()),l;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Yi(s,pn,ps);break;case 3:if(Ys(s,d),(d&130023424)===d&&(o=nf+500-nt(),10<o)){if(ts(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){on(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=dh(Yi.bind(null,s,pn,ps),o);break}Yi(s,pn,ps);break;case 4:if(Ys(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var S=31-Cn(d);g=1<<S,S=o[S],S>m&&(m=S),d&=~g}if(d=m,d=nt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*cS(d/1960))-d,10<d){s.timeoutHandle=dh(Yi.bind(null,s,pn,ps),d);break}Yi(s,pn,ps);break;case 5:Yi(s,pn,ps);break;default:throw Error(t(329))}}}return mn(s,nt()),s.callbackNode===l?ov.bind(null,s):null}function of(s,o){var l=El;return s.current.memoizedState.isDehydrated&&(Qi(s,o).flags|=256),s=hc(s,o),s!==2&&(o=pn,pn=l,o!==null&&af(o)),s}function af(s){pn===null?pn=s:pn.push.apply(pn,s)}function dS(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],g=m.getSnapshot;m=m.value;try{if(!Jn(g(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ys(s,o){for(o&=~tf,o&=~oc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-Cn(o),d=1<<l;s[l]=-1,o&=~d}}function av(s){if((We&6)!==0)throw Error(t(327));Zo();var o=ts(s,0);if((o&1)===0)return mn(s,nt()),null;var l=hc(s,o);if(s.tag!==0&&l===2){var d=za(s);d!==0&&(o=d,l=of(s,d))}if(l===1)throw l=_l,Qi(s,0),Ys(s,o),mn(s,nt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Yi(s,pn,ps),mn(s,nt()),null}function lf(s,o){var l=We;We|=1;try{return s(o)}finally{We=l,We===0&&(Xo=nt()+500,Fu&&$s())}}function Gi(s){Gs!==null&&Gs.tag===0&&(We&6)===0&&Zo();var o=We;We|=1;var l=Hn.transition,d=$e;try{if(Hn.transition=null,$e=1,s)return s()}finally{$e=d,Hn.transition=l,We=o,(We&6)===0&&$s()}}function uf(){kn=Jo.current,st(Jo)}function Qi(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,BT(l)),Tt!==null)for(l=Tt.return;l!==null;){var d=l;switch(yh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Vu();break;case 3:Go(),st(dn),st(Qt),Ph();break;case 5:Ah(d);break;case 4:Go();break;case 13:st(lt);break;case 19:st(lt);break;case 10:Th(d.type._context);break;case 22:case 23:uf()}l=l.return}if(Ot=s,Tt=s=Js(s.current,null),Bt=kn=o,bt=0,_l=null,tf=oc=Ki=0,pn=El=null,Hi!==null){for(o=0;o<Hi.length;o++)if(l=Hi[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,g=l.pending;if(g!==null){var S=g.next;g.next=m,d.next=S}l.pending=d}Hi=null}return s}function lv(s,o){do{var l=Tt;try{if(xh(),Qu.current=Zu,Yu){for(var d=ut.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Yu=!1}if(Wi=0,Dt=It=ut=null,pl=!1,ml=0,ef.current=null,l===null||l.return===null){bt=1,_l=o,Tt=null;break}e:{var g=s,S=l.return,V=l,F=o;if(o=Bt,V.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Q=F,ie=V,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=Dy(S);if(fe!==null){fe.flags&=-257,Oy(fe,S,V,g,o),fe.mode&1&&ky(g,Q,o),o=fe,F=Q;var we=o.updateQueue;if(we===null){var _e=new Set;_e.add(F),o.updateQueue=_e}else we.add(F);break e}else{if((o&1)===0){ky(g,Q,o),cf();break e}F=Error(t(426))}}else if(at&&V.mode&1){var yt=Dy(S);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Oy(yt,S,V,g,o),_h(Qo(F,V));break e}}g=F=Qo(F,V),bt!==4&&(bt=2),El===null?El=[g]:El.push(g),g=S;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var q=Py(g,F,o);ry(g,q);break e;case 1:V=F;var $=g.type,K=g.stateNode;if((g.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ks===null||!Ks.has(K)))){g.flags|=65536,o&=-o,g.lanes|=o;var le=Ny(g,V,o);ry(g,le);break e}}g=g.return}while(g!==null)}dv(l)}catch(Ee){o=Ee,Tt===l&&l!==null&&(Tt=l=l.return);continue}break}while(!0)}function uv(){var s=ic.current;return ic.current=Zu,s===null?Zu:s}function cf(){(bt===0||bt===3||bt===2)&&(bt=4),Ot===null||(Ki&268435455)===0&&(oc&268435455)===0||Ys(Ot,Bt)}function hc(s,o){var l=We;We|=2;var d=uv();(Ot!==s||Bt!==o)&&(ps=null,Qi(s,o));do try{hS();break}catch(m){lv(s,m)}while(!0);if(xh(),We=l,ic.current=d,Tt!==null)throw Error(t(261));return Ot=null,Bt=0,bt}function hS(){for(;Tt!==null;)cv(Tt)}function fS(){for(;Tt!==null&&!Ri();)cv(Tt)}function cv(s){var o=pv(s.alternate,s,kn);s.memoizedProps=s.pendingProps,o===null?dv(s):Tt=o,ef.current=null}function dv(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=iS(l,o,kn),l!==null){Tt=l;return}}else{if(l=oS(l,o),l!==null){l.flags&=32767,Tt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{bt=6,Tt=null;return}}if(o=o.sibling,o!==null){Tt=o;return}Tt=o=s}while(o!==null);bt===0&&(bt=5)}function Yi(s,o,l){var d=$e,m=Hn.transition;try{Hn.transition=null,$e=1,pS(s,o,l,d)}finally{Hn.transition=m,$e=d}return null}function pS(s,o,l,d){do Zo();while(Gs!==null);if((We&6)!==0)throw Error(t(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var g=l.lanes|l.childLanes;if(Qd(s,g),s===Ot&&(Tt=Ot=null,Bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||lc||(lc=!0,mv(Pi,function(){return Zo(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Hn.transition,Hn.transition=null;var S=$e;$e=1;var V=We;We|=4,ef.current=null,lS(s,l),tv(l,s),OT(uh),ss=!!lh,uh=lh=null,s.current=l,uS(l),es(),We=V,$e=S,Hn.transition=g}else s.current=l;if(lc&&(lc=!1,Gs=s,uc=m),g=s.pendingLanes,g===0&&(Ks=null),wu(l.stateNode),mn(s,nt()),o!==null)for(d=s.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(ac)throw ac=!1,s=rf,rf=null,s;return(uc&1)!==0&&s.tag!==0&&Zo(),g=s.pendingLanes,(g&1)!==0?s===sf?xl++:(xl=0,sf=s):xl=0,$s(),null}function Zo(){if(Gs!==null){var s=wr(uc),o=Hn.transition,l=$e;try{if(Hn.transition=null,$e=16>s?16:s,Gs===null)var d=!1;else{if(s=Gs,Gs=null,uc=0,(We&6)!==0)throw Error(t(331));var m=We;for(We|=4,ge=s.current;ge!==null;){var g=ge,S=g.child;if((ge.flags&16)!==0){var V=g.deletions;if(V!==null){for(var F=0;F<V.length;F++){var Q=V[F];for(ge=Q;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:wl(8,ie,g)}var ae=ie.child;if(ae!==null)ae.return=ie,ge=ae;else for(;ge!==null;){ie=ge;var re=ie.sibling,fe=ie.return;if(Yy(ie),ie===Q){ge=null;break}if(re!==null){re.return=fe,ge=re;break}ge=fe}}}var we=g.alternate;if(we!==null){var _e=we.child;if(_e!==null){we.child=null;do{var yt=_e.sibling;_e.sibling=null,_e=yt}while(_e!==null)}}ge=g}}if((g.subtreeFlags&2064)!==0&&S!==null)S.return=g,ge=S;else e:for(;ge!==null;){if(g=ge,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:wl(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,ge=q;break e}ge=g.return}}var $=s.current;for(ge=$;ge!==null;){S=ge;var K=S.child;if((S.subtreeFlags&2064)!==0&&K!==null)K.return=S,ge=K;else e:for(S=$;ge!==null;){if(V=ge,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:sc(9,V)}}catch(Ee){pt(V,V.return,Ee)}if(V===S){ge=null;break e}var le=V.sibling;if(le!==null){le.return=V.return,ge=le;break e}ge=V.return}}if(We=m,$s(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Ni,s)}catch{}d=!0}return d}finally{$e=l,Hn.transition=o}}return!1}function hv(s,o,l){o=Qo(l,o),o=Py(s,o,1),s=qs(s,o,1),o=on(),s!==null&&(Mi(s,1,o),mn(s,o))}function pt(s,o,l){if(s.tag===3)hv(s,s,l);else for(;o!==null;){if(o.tag===3){hv(o,s,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ks===null||!Ks.has(d))){s=Qo(l,s),s=Ny(o,s,1),o=qs(o,s,1),s=on(),o!==null&&(Mi(o,1,s),mn(o,s));break}}o=o.return}}function mS(s,o,l){var d=s.pingCache;d!==null&&d.delete(o),o=on(),s.pingedLanes|=s.suspendedLanes&l,Ot===s&&(Bt&l)===l&&(bt===4||bt===3&&(Bt&130023424)===Bt&&500>nt()-nf?Qi(s,0):tf|=l),mn(s,o)}function fv(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ds,Ds<<=1,(Ds&130023424)===0&&(Ds=4194304)));var l=on();s=ds(s,o),s!==null&&(Mi(s,o,l),mn(s,l))}function gS(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),fv(s,l)}function yS(s,o){var l=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),fv(s,l)}var pv;pv=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||dn.current)fn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return fn=!1,sS(s,o,l);fn=(s.flags&131072)!==0}else fn=!1,at&&(o.flags&1048576)!==0&&Kg(o,Bu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;nc(s,o),s=o.pendingProps;var m=Bo(o,Qt.current);Ko(o,l),m=Dh(null,o,d,s,m,l);var g=Oh();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,hn(d)?(g=!0,ju(o)):g=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ih(o),m.updater=ec,o.stateNode=m,m._reactInternals=o,Uh(o,d,s,l),o=Hh(null,o,d,!0,g,l)):(o.tag=0,at&&g&&gh(o),sn(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(nc(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=wS(d),s=Zn(d,s),m){case 0:o=$h(null,o,d,s,l);break e;case 1:o=Uy(null,o,d,s,l);break e;case 11:o=My(null,o,d,s,l);break e;case 14:o=Ly(null,o,d,Zn(d.type,s),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),$h(s,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),Uy(s,o,d,m,l);case 3:e:{if(By(o),s===null)throw Error(t(387));d=o.pendingProps,g=o.memoizedState,m=g.element,ny(s,o),Ku(o,d,null,l);var S=o.memoizedState;if(d=S.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){m=Qo(Error(t(423)),o),o=zy(s,o,d,l,m);break e}else if(d!==m){m=Qo(Error(t(424)),o),o=zy(s,o,d,l,m);break e}else for(Nn=Us(o.stateNode.containerInfo.firstChild),Pn=o,at=!0,Xn=null,l=ey(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ho(),d===m){o=fs(s,o,l);break e}sn(s,o,d,l)}o=o.child}return o;case 5:return iy(o),s===null&&wh(o),d=o.type,m=o.pendingProps,g=s!==null?s.memoizedProps:null,S=m.children,ch(d,m)?S=null:g!==null&&ch(d,g)&&(o.flags|=32),Fy(s,o),sn(s,o,S,l),o.child;case 6:return s===null&&wh(o),null;case 13:return $y(s,o,l);case 4:return bh(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=qo(o,null,d,l):sn(s,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),My(s,o,d,m,l);case 7:return sn(s,o,o.pendingProps,l),o.child;case 8:return sn(s,o,o.pendingProps.children,l),o.child;case 12:return sn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,g=o.memoizedProps,S=m.value,tt(Hu,d._currentValue),d._currentValue=S,g!==null)if(Jn(g.value,S)){if(g.children===m.children&&!dn.current){o=fs(s,o,l);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var V=g.dependencies;if(V!==null){S=g.child;for(var F=V.firstContext;F!==null;){if(F.context===d){if(g.tag===1){F=hs(-1,l&-l),F.tag=2;var Q=g.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),Q.pending=F}}g.lanes|=l,F=g.alternate,F!==null&&(F.lanes|=l),Sh(g.return,l,o),V.lanes|=l;break}F=F.next}}else if(g.tag===10)S=g.type===o.type?null:g.child;else if(g.tag===18){if(S=g.return,S===null)throw Error(t(341));S.lanes|=l,V=S.alternate,V!==null&&(V.lanes|=l),Sh(S,l,o),S=g.sibling}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===o){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}sn(s,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Ko(o,l),m=zn(m),d=d(m),o.flags|=1,sn(s,o,d,l),o.child;case 14:return d=o.type,m=Zn(d,o.pendingProps),m=Zn(d.type,m),Ly(s,o,d,m,l);case 15:return Vy(s,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),nc(s,o),o.tag=1,hn(d)?(s=!0,ju(o)):s=!1,Ko(o,l),Ay(o,d,m),Uh(o,d,m,l),Hh(null,o,d,!0,s,l);case 19:return qy(s,o,l);case 22:return jy(s,o,l)}throw Error(t(156,o.tag))};function mv(s,o){return Fa(s,o)}function vS(s,o,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,o,l,d){return new vS(s,o,l,d)}function df(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wS(s){if(typeof s=="function")return df(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===xe)return 14}return 2}function Js(s,o){var l=s.alternate;return l===null?(l=qn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function fc(s,o,l,d,m,g){var S=2;if(d=s,typeof s=="function")df(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case N:return Ji(l.children,m,g,o);case C:S=8,m|=8;break;case A:return s=qn(12,l,o,m|2),s.elementType=A,s.lanes=g,s;case b:return s=qn(13,l,o,m),s.elementType=b,s.lanes=g,s;case X:return s=qn(19,l,o,m),s.elementType=X,s.lanes=g,s;case ye:return pc(l,m,g,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:S=10;break e;case D:S=9;break e;case M:S=11;break e;case xe:S=14;break e;case ve:S=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=qn(S,l,o,m),o.elementType=s,o.type=d,o.lanes=g,o}function Ji(s,o,l,d){return s=qn(7,s,d,o),s.lanes=l,s}function pc(s,o,l,d){return s=qn(22,s,d,o),s.elementType=ye,s.lanes=l,s.stateNode={isHidden:!1},s}function hf(s,o,l){return s=qn(6,s,null,o),s.lanes=l,s}function ff(s,o,l){return o=qn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function _S(s,o,l,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function pf(s,o,l,d,m,g,S,V,F){return s=new _S(s,o,l,V,F),o===1?(o=1,g===!0&&(o|=8)):o=0,g=qn(3,null,null,o),s.current=g,g.stateNode=s,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(g),s}function ES(s,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:d==null?null:""+d,children:s,containerInfo:o,implementation:l}}function gv(s){if(!s)return zs;s=s._reactInternals;e:{if(Qn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(hn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(hn(l))return Hg(s,l,o)}return o}function yv(s,o,l,d,m,g,S,V,F){return s=pf(l,d,!0,s,m,g,S,V,F),s.context=gv(null),l=s.current,d=on(),m=Qs(l),g=hs(d,m),g.callback=o??null,qs(l,g,m),s.current.lanes=m,Mi(s,m,d),mn(s,d),s}function mc(s,o,l,d){var m=o.current,g=on(),S=Qs(m);return l=gv(l),o.context===null?o.context=l:o.pendingContext=l,o=hs(g,S),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=qs(m,o,S),s!==null&&(nr(s,m,S,g),Wu(s,m,S)),S}function gc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function vv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function mf(s,o){vv(s,o),(s=s.alternate)&&vv(s,o)}function xS(){return null}var wv=typeof reportError=="function"?reportError:function(s){console.error(s)};function gf(s){this._internalRoot=s}yc.prototype.render=gf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));mc(s,o,null,null)},yc.prototype.unmount=gf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Gi(function(){mc(null,s,null,null)}),o[as]=null}};function yc(s){this._internalRoot=s}yc.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ga();s={blockedOn:null,target:s,priority:o};for(var l=0;l<In.length&&o!==0&&o<In[l].priority;l++);In.splice(l,0,s),l===0&&Co(s)}};function yf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function vc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _v(){}function TS(s,o,l,d,m){if(m){if(typeof d=="function"){var g=d;d=function(){var Q=gc(S);g.call(Q)}}var S=yv(o,d,s,0,null,!1,!1,"",_v);return s._reactRootContainer=S,s[as]=S.current,ol(s.nodeType===8?s.parentNode:s),Gi(),S}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var V=d;d=function(){var Q=gc(F);V.call(Q)}}var F=pf(s,0,!1,null,null,!1,!1,"",_v);return s._reactRootContainer=F,s[as]=F.current,ol(s.nodeType===8?s.parentNode:s),Gi(function(){mc(o,F,l,d)}),F}function wc(s,o,l,d,m){var g=l._reactRootContainer;if(g){var S=g;if(typeof m=="function"){var V=m;m=function(){var F=gc(S);V.call(F)}}mc(o,S,s,m)}else S=TS(l,o,s,m,d);return gc(S)}Wa=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ge(o.pendingLanes);l!==0&&(qa(o,l|1),mn(o,nt()),(We&6)===0&&(Xo=nt()+500,$s()))}break;case 13:Gi(function(){var d=ds(s,1);if(d!==null){var m=on();nr(d,s,1,m)}}),mf(s,1)}},To=function(s){if(s.tag===13){var o=ds(s,134217728);if(o!==null){var l=on();nr(o,s,134217728,l)}mf(s,134217728)}},Ka=function(s){if(s.tag===13){var o=Qs(s),l=ds(s,o);if(l!==null){var d=on();nr(l,s,o,d)}mf(s,o)}},Ga=function(){return $e},Qa=function(s,o){var l=$e;try{return $e=s,o()}finally{$e=l}},Vn=function(s,o,l){switch(o){case"input":if(Yr(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==s&&d.form===s.form){var m=Lu(d);if(!m)throw Error(t(90));Kn(d),Yr(d,m)}}}break;case"textarea":yo(s,l);break;case"select":o=l.value,o!=null&&Vt(s,!!l.multiple,o,!1)}},qe=lf,Ye=Gi;var SS={usingClientEntryPoint:!1,Events:[ul,Fo,Lu,mr,Ce,lf]},Tl={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CS={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=vu(s),s===null?null:s.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||xS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Ni=_c.inject(CS),Sn=_c}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SS,gn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(o))throw Error(t(200));return ES(s,o,null,l)},gn.createRoot=function(s,o){if(!yf(s))throw Error(t(299));var l=!1,d="",m=wv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=pf(s,1,!1,null,null,l,!1,d,m),s[as]=o.current,ol(s.nodeType===8?s.parentNode:s),new gf(o)},gn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=vu(o),s=s===null?null:s.stateNode,s},gn.flushSync=function(s){return Gi(s)},gn.hydrate=function(s,o,l){if(!vc(o))throw Error(t(200));return wc(null,s,o,!0,l)},gn.hydrateRoot=function(s,o,l){if(!yf(s))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,g="",S=wv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=yv(o,null,s,1,l??null,m,!1,g,S),s[as]=o.current,ol(s),d)for(s=0;s<d.length;s++)l=d[s],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new yc(o)},gn.render=function(s,o,l){if(!vc(o))throw Error(t(200));return wc(null,s,o,!1,l)},gn.unmountComponentAtNode=function(s){if(!vc(s))throw Error(t(40));return s._reactRootContainer?(Gi(function(){wc(null,null,s,!1,function(){s._reactRootContainer=null,s[as]=null})}),!0):!1},gn.unstable_batchedUpdates=lf,gn.unstable_renderSubtreeIntoContainer=function(s,o,l,d){if(!vc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return wc(s,o,l,!1,d)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var Av;function E_(){if(Av)return _f.exports;Av=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_f.exports=DS(),_f.exports}var Rv;function OS(){if(Rv)return Ec;Rv=1;var n=E_();return Ec.createRoot=n.createRoot,Ec.hydrateRoot=n.hydrateRoot,Ec}var MS=OS(),k=rm();const ue=nm(k),x_=bS({__proto__:null,default:ue},[k]),LS=1,VS=1e6;let Tf=0;function jS(){return Tf=(Tf+1)%Number.MAX_SAFE_INTEGER,Tf.toString()}const Sf=new Map,Pv=n=>{if(Sf.has(n))return;const e=setTimeout(()=>{Sf.delete(n),Dl({type:"REMOVE_TOAST",toastId:n})},VS);Sf.set(n,e)},FS=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,LS)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Pv(t):n.toasts.forEach(r=>{Pv(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Mc=[];let Lc={toasts:[]};function Dl(n){Lc=FS(Lc,n),Mc.forEach(e=>{e(Lc)})}function US({...n}){const e=jS(),t=i=>Dl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Dl({type:"DISMISS_TOAST",toastId:e});return Dl({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function BS(){const[n,e]=k.useState(Lc);return k.useEffect(()=>(Mc.push(e),()=>{const t=Mc.indexOf(e);t>-1&&Mc.splice(t,1)}),[n]),{...n,toast:US,dismiss:t=>Dl({type:"DISMISS_TOAST",toastId:t})}}var vd=E_();const T_=nm(vd);function At(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function Nv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function sm(...n){return e=>{let t=!1;const r=n.map(i=>{const a=Nv(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Nv(n[i],null)}}}}function lr(...n){return k.useCallback(sm(...n),n)}function wd(n,e=[]){let t=[];function r(a,u){const h=k.createContext(u),f=t.length;t=[...t,u];const p=w=>{const{scope:T,children:x,...O}=w,R=T?.[n]?.[f]||h,I=k.useMemo(()=>O,Object.values(O));return _.jsx(R.Provider,{value:I,children:x})};p.displayName=a+"Provider";function v(w,T){const x=T?.[n]?.[f]||h,O=k.useContext(x);if(O)return O;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[p,v]}const i=()=>{const a=t.map(u=>k.createContext(u));return function(h){const f=h?.[n]||a;return k.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return i.scopeName=n,[r,zS(i,...e)]}function zS(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((h,{useScope:f,scopeName:p})=>{const w=f(a)[`__scope${p}`];return{...h,...w}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function kv(n){const e=$S(n),t=k.forwardRef((r,i)=>{const{children:a,...u}=r,h=k.Children.toArray(a),f=h.find(qS);if(f){const p=f.props.children,v=h.map(w=>w===f?k.Children.count(p)>1?k.Children.only(null):k.isValidElement(p)?p.props.children:null:w);return _.jsx(e,{...u,ref:i,children:k.isValidElement(p)?k.cloneElement(p,void 0,v):null})}return _.jsx(e,{...u,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}function $S(n){const e=k.forwardRef((t,r)=>{const{children:i,...a}=t;if(k.isValidElement(i)){const u=KS(i),h=WS(a,i.props);return i.type!==k.Fragment&&(h.ref=r?sm(r,u):u),k.cloneElement(i,h)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var HS=Symbol("radix.slottable");function qS(n){return k.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===HS}function WS(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...h)=>{const f=a(...h);return i(...h),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function KS(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function GS(n){const e=n+"CollectionProvider",[t,r]=wd(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:I,children:j}=R,U=ue.useRef(null),B=ue.useRef(new Map).current;return _.jsx(i,{scope:I,itemMap:B,collectionRef:U,children:j})};u.displayName=e;const h=n+"CollectionSlot",f=kv(h),p=ue.forwardRef((R,I)=>{const{scope:j,children:U}=R,B=a(h,j),H=lr(I,B.collectionRef);return _.jsx(f,{ref:H,children:U})});p.displayName=h;const v=n+"CollectionItemSlot",w="data-radix-collection-item",T=kv(v),x=ue.forwardRef((R,I)=>{const{scope:j,children:U,...B}=R,H=ue.useRef(null),ee=lr(I,H),G=a(v,j);return ue.useEffect(()=>(G.itemMap.set(H,{ref:H,...B}),()=>void G.itemMap.delete(H))),_.jsx(T,{[w]:"",ref:ee,children:U})});x.displayName=v;function O(R){const I=a(n+"CollectionConsumer",R);return ue.useCallback(()=>{const U=I.collectionRef.current;if(!U)return[];const B=Array.from(U.querySelectorAll(`[${w}]`));return Array.from(I.itemMap.values()).sort((G,N)=>B.indexOf(G.ref.current)-B.indexOf(N.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:u,Slot:p,ItemSlot:x},O,r]}function QS(n){const e=YS(n),t=k.forwardRef((r,i)=>{const{children:a,...u}=r,h=k.Children.toArray(a),f=h.find(XS);if(f){const p=f.props.children,v=h.map(w=>w===f?k.Children.count(p)>1?k.Children.only(null):k.isValidElement(p)?p.props.children:null:w);return _.jsx(e,{...u,ref:i,children:k.isValidElement(p)?k.cloneElement(p,void 0,v):null})}return _.jsx(e,{...u,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}function YS(n){const e=k.forwardRef((t,r)=>{const{children:i,...a}=t;if(k.isValidElement(i)){const u=eC(i),h=ZS(a,i.props);return i.type!==k.Fragment&&(h.ref=r?sm(r,u):u),k.cloneElement(i,h)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var JS=Symbol("radix.slottable");function XS(n){return k.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===JS}function ZS(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...h)=>{const f=a(...h);return i(...h),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function eC(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var tC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wn=tC.reduce((n,e)=>{const t=QS(`Primitive.${e}`),r=k.forwardRef((i,a)=>{const{asChild:u,...h}=i,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(f,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function S_(n,e){n&&vd.flushSync(()=>n.dispatchEvent(e))}function gi(n){const e=k.useRef(n);return k.useEffect(()=>{e.current=n}),k.useMemo(()=>(...t)=>e.current?.(...t),[])}function nC(n,e=globalThis?.document){const t=gi(n);k.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var rC="DismissableLayer",dp="dismissableLayer.update",sC="dismissableLayer.pointerDownOutside",iC="dismissableLayer.focusOutside",Dv,C_=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),im=k.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...f}=n,p=k.useContext(C_),[v,w]=k.useState(null),T=v?.ownerDocument??globalThis?.document,[,x]=k.useState({}),O=lr(e,N=>w(N)),R=Array.from(p.layers),[I]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=R.indexOf(I),U=v?R.indexOf(v):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,H=U>=j,ee=aC(N=>{const C=N.target,A=[...p.branches].some(L=>L.contains(C));!H||A||(i?.(N),u?.(N),N.defaultPrevented||h?.())},T),G=lC(N=>{const C=N.target;[...p.branches].some(L=>L.contains(C))||(a?.(N),u?.(N),N.defaultPrevented||h?.())},T);return nC(N=>{U===p.layers.size-1&&(r?.(N),!N.defaultPrevented&&h&&(N.preventDefault(),h()))},T),k.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Dv=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),Ov(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=Dv)}},[v,T,t,p]),k.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),Ov())},[v,p]),k.useEffect(()=>{const N=()=>x({});return document.addEventListener(dp,N),()=>document.removeEventListener(dp,N)},[]),_.jsx(wn.div,{...f,ref:O,style:{pointerEvents:B?H?"auto":"none":void 0,...n.style},onFocusCapture:At(n.onFocusCapture,G.onFocusCapture),onBlurCapture:At(n.onBlurCapture,G.onBlurCapture),onPointerDownCapture:At(n.onPointerDownCapture,ee.onPointerDownCapture)})});im.displayName=rC;var oC="DismissableLayerBranch",I_=k.forwardRef((n,e)=>{const t=k.useContext(C_),r=k.useRef(null),i=lr(e,r);return k.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),_.jsx(wn.div,{...n,ref:i})});I_.displayName=oC;function aC(n,e=globalThis?.document){const t=gi(n),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let f=function(){b_(sC,t,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function lC(n,e=globalThis?.document){const t=gi(n),r=k.useRef(!1);return k.useEffect(()=>{const i=a=>{a.target&&!r.current&&b_(iC,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ov(){const n=new CustomEvent(dp);document.dispatchEvent(n)}function b_(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?S_(i,a):i.dispatchEvent(a)}var uC=im,cC=I_,yi=globalThis?.document?k.useLayoutEffect:()=>{},dC="Portal",A_=k.forwardRef((n,e)=>{const{container:t,...r}=n,[i,a]=k.useState(!1);yi(()=>a(!0),[]);const u=t||i&&globalThis?.document?.body;return u?T_.createPortal(_.jsx(wn.div,{...r,ref:e}),u):null});A_.displayName=dC;function hC(n,e){return k.useReducer((t,r)=>e[t][r]??t,n)}var om=n=>{const{present:e,children:t}=n,r=fC(e),i=typeof t=="function"?t({present:r.isPresent}):k.Children.only(t),a=lr(r.ref,pC(i));return typeof t=="function"||r.isPresent?k.cloneElement(i,{ref:a}):null};om.displayName="Presence";function fC(n){const[e,t]=k.useState(),r=k.useRef(null),i=k.useRef(n),a=k.useRef("none"),u=n?"mounted":"unmounted",[h,f]=hC(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const p=xc(r.current);a.current=h==="mounted"?p:"none"},[h]),yi(()=>{const p=r.current,v=i.current;if(v!==n){const T=a.current,x=xc(p);n?f("MOUNT"):x==="none"||p?.display==="none"?f("UNMOUNT"):f(v&&T!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),yi(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,w=x=>{const R=xc(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&R&&(f("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},T=x=>{x.target===e&&(a.current=xc(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:k.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function xc(n){return n?.animationName||"none"}function pC(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var mC=x_[" useInsertionEffect ".trim().toString()]||yi;function gC({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,u]=yC({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:i;{const v=k.useRef(n!==void 0);k.useEffect(()=>{const w=v.current;w!==h&&console.warn(`${r} is changing from ${w?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=h},[h,r])}const p=k.useCallback(v=>{if(h){const w=vC(v)?v(n):v;w!==n&&u.current?.(w)}else a(v)},[h,n,a,u]);return[f,p]}function yC({defaultProp:n,onChange:e}){const[t,r]=k.useState(n),i=k.useRef(t),a=k.useRef(e);return mC(()=>{a.current=e},[e]),k.useEffect(()=>{i.current!==t&&(a.current?.(t),i.current=t)},[t,i]),[t,r,a]}function vC(n){return typeof n=="function"}var wC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_C="VisuallyHidden",_d=k.forwardRef((n,e)=>_.jsx(wn.span,{...n,ref:e,style:{...wC,...n.style}}));_d.displayName=_C;var EC=_d,am="ToastProvider",[lm,xC,TC]=GS("Toast"),[R_]=wd("Toast",[TC]),[SC,Ed]=R_(am),P_=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:u}=n,[h,f]=k.useState(null),[p,v]=k.useState(0),w=k.useRef(!1),T=k.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${am}\`. Expected non-empty \`string\`.`),_.jsx(lm.Provider,{scope:e,children:_.jsx(SC,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:h,onViewportChange:f,onToastAdd:k.useCallback(()=>v(x=>x+1),[]),onToastRemove:k.useCallback(()=>v(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:T,children:u})})};P_.displayName=am;var N_="ToastViewport",CC=["F8"],hp="toast.viewportPause",fp="toast.viewportResume",k_=k.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=CC,label:i="Notifications ({hotkey})",...a}=n,u=Ed(N_,t),h=xC(t),f=k.useRef(null),p=k.useRef(null),v=k.useRef(null),w=k.useRef(null),T=lr(e,w,u.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=u.toastCount>0;k.useEffect(()=>{const I=j=>{r.length!==0&&r.every(B=>j[B]||j.code===B)&&w.current?.focus()};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),k.useEffect(()=>{const I=f.current,j=w.current;if(O&&I&&j){const U=()=>{if(!u.isClosePausedRef.current){const G=new CustomEvent(hp);j.dispatchEvent(G),u.isClosePausedRef.current=!0}},B=()=>{if(u.isClosePausedRef.current){const G=new CustomEvent(fp);j.dispatchEvent(G),u.isClosePausedRef.current=!1}},H=G=>{!I.contains(G.relatedTarget)&&B()},ee=()=>{I.contains(document.activeElement)||B()};return I.addEventListener("focusin",U),I.addEventListener("focusout",H),I.addEventListener("pointermove",U),I.addEventListener("pointerleave",ee),window.addEventListener("blur",U),window.addEventListener("focus",B),()=>{I.removeEventListener("focusin",U),I.removeEventListener("focusout",H),I.removeEventListener("pointermove",U),I.removeEventListener("pointerleave",ee),window.removeEventListener("blur",U),window.removeEventListener("focus",B)}}},[O,u.isClosePausedRef]);const R=k.useCallback(({tabbingDirection:I})=>{const U=h().map(B=>{const H=B.ref.current,ee=[H,...jC(H)];return I==="forwards"?ee:ee.reverse()});return(I==="forwards"?U.reverse():U).flat()},[h]);return k.useEffect(()=>{const I=w.current;if(I){const j=U=>{const B=U.altKey||U.ctrlKey||U.metaKey;if(U.key==="Tab"&&!B){const ee=document.activeElement,G=U.shiftKey;if(U.target===I&&G){p.current?.focus();return}const A=R({tabbingDirection:G?"backwards":"forwards"}),L=A.findIndex(D=>D===ee);Cf(A.slice(L+1))?U.preventDefault():G?p.current?.focus():v.current?.focus()}};return I.addEventListener("keydown",j),()=>I.removeEventListener("keydown",j)}},[h,R]),_.jsxs(cC,{ref:f,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:O?void 0:"none"},children:[O&&_.jsx(pp,{ref:p,onFocusFromOutsideViewport:()=>{const I=R({tabbingDirection:"forwards"});Cf(I)}}),_.jsx(lm.Slot,{scope:t,children:_.jsx(wn.ol,{tabIndex:-1,...a,ref:T})}),O&&_.jsx(pp,{ref:v,onFocusFromOutsideViewport:()=>{const I=R({tabbingDirection:"backwards"});Cf(I)}})]})});k_.displayName=N_;var D_="ToastFocusProxy",pp=k.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=Ed(D_,t);return _.jsx(_d,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:u=>{const h=u.relatedTarget;!a.viewport?.contains(h)&&r()}})});pp.displayName=D_;var ru="Toast",IC="toast.swipeStart",bC="toast.swipeMove",AC="toast.swipeCancel",RC="toast.swipeEnd",O_=k.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...u}=n,[h,f]=gC({prop:r,defaultProp:i??!0,onChange:a,caller:ru});return _.jsx(om,{present:t||h,children:_.jsx(kC,{open:h,...u,ref:e,onClose:()=>f(!1),onPause:gi(n.onPause),onResume:gi(n.onResume),onSwipeStart:At(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:At(n.onSwipeMove,p=>{const{x:v,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:At(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:At(n.onSwipeEnd,p=>{const{x:v,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),f(!1)})})})});O_.displayName=ru;var[PC,NC]=R_(ru,{onClose(){}}),kC=k.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:u,onEscapeKeyDown:h,onPause:f,onResume:p,onSwipeStart:v,onSwipeMove:w,onSwipeCancel:T,onSwipeEnd:x,...O}=n,R=Ed(ru,t),[I,j]=k.useState(null),U=lr(e,X=>j(X)),B=k.useRef(null),H=k.useRef(null),ee=i||R.duration,G=k.useRef(0),N=k.useRef(ee),C=k.useRef(0),{onToastAdd:A,onToastRemove:L}=R,D=gi(()=>{I?.contains(document.activeElement)&&R.viewport?.focus(),u()}),M=k.useCallback(X=>{!X||X===1/0||(window.clearTimeout(C.current),G.current=new Date().getTime(),C.current=window.setTimeout(D,X))},[D]);k.useEffect(()=>{const X=R.viewport;if(X){const xe=()=>{M(N.current),p?.()},ve=()=>{const ye=new Date().getTime()-G.current;N.current=N.current-ye,window.clearTimeout(C.current),f?.()};return X.addEventListener(hp,ve),X.addEventListener(fp,xe),()=>{X.removeEventListener(hp,ve),X.removeEventListener(fp,xe)}}},[R.viewport,ee,f,p,M]),k.useEffect(()=>{a&&!R.isClosePausedRef.current&&M(ee)},[a,ee,R.isClosePausedRef,M]),k.useEffect(()=>(A(),()=>L()),[A,L]);const b=k.useMemo(()=>I?B_(I):null,[I]);return R.viewport?_.jsxs(_.Fragment,{children:[b&&_.jsx(DC,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:b}),_.jsx(PC,{scope:t,onClose:D,children:vd.createPortal(_.jsx(lm.ItemSlot,{scope:t,children:_.jsx(uC,{asChild:!0,onEscapeKeyDown:At(h,()=>{R.isFocusedToastEscapeKeyDownRef.current||D(),R.isFocusedToastEscapeKeyDownRef.current=!1}),children:_.jsx(wn.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":R.swipeDirection,...O,ref:U,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:At(n.onKeyDown,X=>{X.key==="Escape"&&(h?.(X.nativeEvent),X.nativeEvent.defaultPrevented||(R.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:At(n.onPointerDown,X=>{X.button===0&&(B.current={x:X.clientX,y:X.clientY})}),onPointerMove:At(n.onPointerMove,X=>{if(!B.current)return;const xe=X.clientX-B.current.x,ve=X.clientY-B.current.y,ye=!!H.current,Z=["left","right"].includes(R.swipeDirection),te=["left","up"].includes(R.swipeDirection)?Math.min:Math.max,se=Z?te(0,xe):0,z=Z?0:te(0,ve),J=X.pointerType==="touch"?10:2,de={x:se,y:z},he={originalEvent:X,delta:de};ye?(H.current=de,Tc(bC,w,he,{discrete:!1})):Mv(de,R.swipeDirection,J)?(H.current=de,Tc(IC,v,he,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(xe)>J||Math.abs(ve)>J)&&(B.current=null)}),onPointerUp:At(n.onPointerUp,X=>{const xe=H.current,ve=X.target;if(ve.hasPointerCapture(X.pointerId)&&ve.releasePointerCapture(X.pointerId),H.current=null,B.current=null,xe){const ye=X.currentTarget,Z={originalEvent:X,delta:xe};Mv(xe,R.swipeDirection,R.swipeThreshold)?Tc(RC,x,Z,{discrete:!0}):Tc(AC,T,Z,{discrete:!0}),ye.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),R.viewport)})]}):null}),DC=n=>{const{__scopeToast:e,children:t,...r}=n,i=Ed(ru,e),[a,u]=k.useState(!1),[h,f]=k.useState(!1);return LC(()=>u(!0)),k.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),h?null:_.jsx(A_,{asChild:!0,children:_.jsx(_d,{...r,children:a&&_.jsxs(_.Fragment,{children:[i.label," ",t]})})})},OC="ToastTitle",M_=k.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return _.jsx(wn.div,{...r,ref:e})});M_.displayName=OC;var MC="ToastDescription",L_=k.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return _.jsx(wn.div,{...r,ref:e})});L_.displayName=MC;var V_="ToastAction",j_=k.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?_.jsx(U_,{altText:t,asChild:!0,children:_.jsx(um,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${V_}\`. Expected non-empty \`string\`.`),null)});j_.displayName=V_;var F_="ToastClose",um=k.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=NC(F_,t);return _.jsx(U_,{asChild:!0,children:_.jsx(wn.button,{type:"button",...r,ref:e,onClick:At(n.onClick,i.onClose)})})});um.displayName=F_;var U_=k.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return _.jsx(wn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function B_(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),VC(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...B_(r))}}),e}function Tc(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?S_(i,a):i.dispatchEvent(a)}var Mv=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function LC(n=()=>{}){const e=gi(n);yi(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function VC(n){return n.nodeType===n.ELEMENT_NODE}function jC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Cf(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var FC=P_,z_=k_,$_=O_,H_=M_,q_=L_,W_=j_,K_=um;function G_(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=G_(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Q_(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=G_(n))&&(r&&(r+=" "),r+=e);return r}const Lv=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Vv=Q_,UC=(n,e)=>t=>{var r;if(e?.variants==null)return Vv(n,t?.class,t?.className);const{variants:i,defaultVariants:a}=e,u=Object.keys(i).map(p=>{const v=t?.[p],w=a?.[p];if(v===null)return null;const T=Lv(v)||Lv(w);return i[p][T]}),h=t&&Object.entries(t).reduce((p,v)=>{let[w,T]=v;return T===void 0||(p[w]=T),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,v)=>{let{class:w,className:T,...x}=v;return Object.entries(x).every(O=>{let[R,I]=O;return Array.isArray(I)?I.includes({...a,...h}[R]):{...a,...h}[R]===I})?[...p,w,T]:p},[]);return Vv(n,u,f,t?.class,t?.className)};const BC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),jv=n=>{const e=zC(n);return e.charAt(0).toUpperCase()+e.slice(1)},Y_=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),$C=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var HC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qC=k.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...h},f)=>k.createElement("svg",{ref:f,...HC,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Y_("lucide",i),...!a&&!$C(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,v])=>k.createElement(p,v)),...Array.isArray(a)?a:[a]]));const mt=(n,e)=>{const t=k.forwardRef(({className:r,...i},a)=>k.createElement(qC,{ref:a,iconNode:e,className:Y_(`lucide-${BC(jv(n))}`,`lucide-${n}`,r),...i}));return t.displayName=jv(n),t};const WC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],J_=mt("arrow-left",WC);const KC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],GC=mt("chart-column",KC);const QC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],YC=mt("circle-check-big",QC);const JC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XC=mt("clock",JC);const ZC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],X_=mt("ellipsis-vertical",ZC);const eI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fv=mt("log-out",eI);const tI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vc=mt("mail",tI);const nI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rI=mt("map-pin",nI);const sI=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ys=mt("message-circle",sI);const iI=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],mp=mt("message-square",iI);const oI=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],aI=mt("paperclip",oI);const lI=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ol=mt("phone",lI);const uI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Z_=mt("plus",uI);const cI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gp=mt("search",cI);const dI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hI=mt("send",dI);const fI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],pI=mt("smile",fI);const mI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gI=mt("square-pen",mI);const yI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vI=mt("star",yI);const wI=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],eE=mt("tag",wI);const _I=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],EI=mt("trash-2",_I);const xI=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],TI=mt("video",xI);const SI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CI=mt("x",SI),cm="-",II=n=>{const e=AI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(cm);return h[0]===""&&h.length!==1&&h.shift(),tE(h,e)||bI(u)},getConflictingClassGroupIds:(u,h)=>{const f=t[u]||[];return h&&r[u]?[...f,...r[u]]:f}}},tE=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?tE(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(cm);return e.validators.find(({validator:u})=>u(a))?.classGroupId},Uv=/^\[(.+)\]$/,bI=n=>{if(Uv.test(n)){const e=Uv.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},AI=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return PI(Object.entries(n.classGroups),t).forEach(([a,u])=>{yp(u,r,a,e)}),r},yp=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Bv(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(RI(i)){yp(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,u])=>{yp(u,Bv(e,a),t,r)})})},Bv=(n,e)=>{let t=n;return e.split(cm).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},RI=n=>n.isThemeGetter,PI=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,h])=>[e+u,h])):a);return[t,i]}):n,NI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return i(a,u),u},set(a,u){t.has(a)?t.set(a,u):i(a,u)}}},nE="!",kI=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,u=h=>{const f=[];let p=0,v=0,w;for(let I=0;I<h.length;I++){let j=h[I];if(p===0){if(j===i&&(r||h.slice(I,I+a)===e)){f.push(h.slice(v,I)),v=I+a;continue}if(j==="/"){w=I;continue}}j==="["?p++:j==="]"&&p--}const T=f.length===0?h:h.substring(v),x=T.startsWith(nE),O=x?T.substring(1):T,R=w&&w>v?w-v:void 0;return{modifiers:f,hasImportantModifier:x,baseClassName:O,maybePostfixModifierPosition:R}};return t?h=>t({className:h,parseClassName:u}):u},DI=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},OI=n=>({cache:NI(n.cacheSize),parseClassName:kI(n),...II(n)}),MI=/\s+/,LI=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],u=n.trim().split(MI);let h="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:v,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:x}=t(p);let O=!!x,R=r(O?T.substring(0,x):T);if(!R){if(!O){h=p+(h.length>0?" "+h:h);continue}if(R=r(T),!R){h=p+(h.length>0?" "+h:h);continue}O=!1}const I=DI(v).join(":"),j=w?I+nE:I,U=j+R;if(a.includes(U))continue;a.push(U);const B=i(R,O);for(let H=0;H<B.length;++H){const ee=B[H];a.push(j+ee)}h=p+(h.length>0?" "+h:h)}return h};function VI(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=rE(e))&&(r&&(r+=" "),r+=t);return r}const rE=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=rE(n[r]))&&(t&&(t+=" "),t+=e);return t};function jI(n,...e){let t,r,i,a=u;function u(f){const p=e.reduce((v,w)=>w(v),n());return t=OI(p),r=t.cache.get,i=t.cache.set,a=h,h(f)}function h(f){const p=r(f);if(p)return p;const v=LI(f,t);return i(f,v),v}return function(){return a(VI.apply(null,arguments))}}const it=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},sE=/^\[(?:([a-z-]+):)?(.+)\]$/i,FI=/^\d+\/\d+$/,UI=new Set(["px","full","screen"]),BI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$I=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ms=n=>oa(n)||UI.has(n)||FI.test(n),Zs=n=>Ta(n,"length",ZI),oa=n=>!!n&&!Number.isNaN(Number(n)),If=n=>Ta(n,"number",oa),Cl=n=>!!n&&Number.isInteger(Number(n)),WI=n=>n.endsWith("%")&&oa(n.slice(0,-1)),je=n=>sE.test(n),ei=n=>BI.test(n),KI=new Set(["length","size","percentage"]),GI=n=>Ta(n,KI,iE),QI=n=>Ta(n,"position",iE),YI=new Set(["image","url"]),JI=n=>Ta(n,YI,tb),XI=n=>Ta(n,"",eb),Il=()=>!0,Ta=(n,e,t)=>{const r=sE.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},ZI=n=>zI.test(n)&&!$I.test(n),iE=()=>!1,eb=n=>HI.test(n),tb=n=>qI.test(n),nb=()=>{const n=it("colors"),e=it("spacing"),t=it("blur"),r=it("brightness"),i=it("borderColor"),a=it("borderRadius"),u=it("borderSpacing"),h=it("borderWidth"),f=it("contrast"),p=it("grayscale"),v=it("hueRotate"),w=it("invert"),T=it("gap"),x=it("gradientColorStops"),O=it("gradientColorStopPositions"),R=it("inset"),I=it("margin"),j=it("opacity"),U=it("padding"),B=it("saturate"),H=it("scale"),ee=it("sepia"),G=it("skew"),N=it("space"),C=it("translate"),A=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",je,e],M=()=>[je,e],b=()=>["",ms,Zs],X=()=>["auto",oa,je],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ve=()=>["solid","dashed","dotted","double","none"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",je],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[oa,je];return{cacheSize:500,separator:":",theme:{colors:[Il],spacing:[ms,Zs],blur:["none","",ei,je],brightness:z(),borderColor:[n],borderRadius:["none","","full",ei,je],borderSpacing:M(),borderWidth:b(),contrast:z(),grayscale:te(),hueRotate:z(),invert:te(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[WI,Zs],inset:D(),margin:D(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:te(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[ei]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),je]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cl,je]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Cl,je]}],"grid-cols":[{"grid-cols":[Il]}],"col-start-end":[{col:["auto",{span:["full",Cl,je]},je]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Il]}],"row-start-end":[{row:["auto",{span:[Cl,je]},je]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[U]}],px:[{px:[U]}],py:[{py:[U]}],ps:[{ps:[U]}],pe:[{pe:[U]}],pt:[{pt:[U]}],pr:[{pr:[U]}],pb:[{pb:[U]}],pl:[{pl:[U]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,e]}],"min-w":[{"min-w":[je,e,"min","max","fit"]}],"max-w":[{"max-w":[je,e,"none","full","min","max","fit","prose",{screen:[ei]},ei]}],h:[{h:[je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ei,Zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",If]}],"font-family":[{font:[Il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",oa,If]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ms,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ms,Zs]}],"underline-offset":[{"underline-offset":["auto",ms,je]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),QI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JI]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...ve(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:ve()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ve()]}],"outline-offset":[{"outline-offset":[ms,je]}],"outline-w":[{outline:[ms,Zs]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[ms,Zs]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ei,XI]}],"shadow-color":[{shadow:[Il]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...ye(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",ei,je]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[B]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[Cl,je]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ms,Zs,If]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rb=jI(nb);function lo(...n){return rb(Q_(n))}const sb=FC,oE=k.forwardRef(({className:n,...e},t)=>_.jsx(z_,{ref:t,className:lo("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));oE.displayName=z_.displayName;const ib=UC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aE=k.forwardRef(({className:n,variant:e,...t},r)=>_.jsx($_,{ref:r,className:lo(ib({variant:e}),n),...t}));aE.displayName=$_.displayName;const ob=k.forwardRef(({className:n,...e},t)=>_.jsx(W_,{ref:t,className:lo("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));ob.displayName=W_.displayName;const lE=k.forwardRef(({className:n,...e},t)=>_.jsx(K_,{ref:t,className:lo("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:_.jsx(CI,{className:"h-4 w-4"})}));lE.displayName=K_.displayName;const uE=k.forwardRef(({className:n,...e},t)=>_.jsx(H_,{ref:t,className:lo("text-sm font-semibold",n),...e}));uE.displayName=H_.displayName;const cE=k.forwardRef(({className:n,...e},t)=>_.jsx(q_,{ref:t,className:lo("text-sm opacity-90",n),...e}));cE.displayName=q_.displayName;function ab(){const{toasts:n}=BS();return _.jsxs(sb,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return _.jsxs(aE,{...a,children:[_.jsxs("div",{className:"grid gap-1",children:[t&&_.jsx(uE,{children:t}),r&&_.jsx(cE,{children:r})]}),i,_.jsx(lE,{})]},e)}),_.jsx(oE,{})]})}var lb=(n,e,t,r,i,a,u,h)=>{let f=document.documentElement,p=["light","dark"];function v(x){(Array.isArray(n)?n:[n]).forEach(O=>{let R=O==="class",I=R&&a?i.map(j=>a[j]||j):i;R?(f.classList.remove(...I),f.classList.add(a&&a[x]?a[x]:x)):f.setAttribute(O,x)}),w(x)}function w(x){h&&p.includes(x)&&(f.style.colorScheme=x)}function T(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)v(r);else try{let x=localStorage.getItem(e)||t,O=u&&x==="system"?T():x;v(O)}catch{}},ub=k.createContext(void 0),cb={setTheme:n=>{},themes:[]},db=()=>{var n;return(n=k.useContext(ub))!=null?n:cb};k.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:u,themes:h,nonce:f,scriptProps:p})=>{let v=JSON.stringify([t,e,a,n,h,u,r,i]).slice(1,-1);return k.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${lb.toString()})(${v})`}})});var hb=n=>{switch(n){case"success":return mb;case"info":return yb;case"warning":return gb;case"error":return vb;default:return null}},fb=Array(12).fill(0),pb=({visible:n,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ue.createElement("div",{className:"sonner-spinner"},fb.map((t,r)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),mb=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gb=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yb=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vb=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wb=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_b=()=>{let[n,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},vp=1,Eb=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:vp++,u=this.toasts.find(f=>f.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:h,title:r}):f):this.addToast({title:r,...i,dismissible:h,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),a=r!==void 0,u,h=i.then(async p=>{if(u=["resolve",p],ue.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(Tb(p)&&!p.ok){a=!1;let v=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description;this.create({id:r,type:"error",message:v,description:w})}else if(t.success!==void 0){a=!1;let v=typeof t.success=="function"?await t.success(p):t.success,w=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"success",message:v,description:w})}}).catch(async p=>{if(u=["reject",p],t.error!==void 0){a=!1;let v=typeof t.error=="function"?await t.error(p):t.error,w=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"error",message:v,description:w})}}).finally(()=>{var p;a&&(this.dismiss(r),r=void 0),(p=t.finally)==null||p.call(t)}),f=()=>new Promise((p,v)=>h.then(()=>u[0]==="reject"?v(u[1]):p(u[1])).catch(v));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,t)=>{let r=t?.id||vp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yn=new Eb,xb=(n,e)=>{let t=e?.id||vp++;return yn.addToast({title:n,...e,id:t}),t},Tb=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Sb=xb,Cb=()=>yn.toasts,Ib=()=>yn.getActiveToasts();Object.assign(Sb,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:Cb,getToasts:Ib});function bb(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}bb(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sc(n){return n.label!==void 0}var Ab=3,Rb="32px",Pb="16px",zv=4e3,Nb=356,kb=14,Db=20,Ob=200;function rr(...n){return n.filter(Boolean).join(" ")}function Mb(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var Lb=n=>{var e,t,r,i,a,u,h,f,p,v,w;let{invert:T,toast:x,unstyled:O,interacting:R,setHeights:I,visibleToasts:j,heights:U,index:B,toasts:H,expanded:ee,removeToast:G,defaultRichColors:N,closeButton:C,style:A,cancelButtonStyle:L,actionButtonStyle:D,className:M="",descriptionClassName:b="",duration:X,position:xe,gap:ve,loadingIcon:ye,expandByDefault:Z,classNames:te,icons:se,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:J}=n,[de,he]=ue.useState(null),[Te,Pe]=ue.useState(null),[pe,Re]=ue.useState(!1),[Ve,Ze]=ue.useState(!1),[un,Kn]=ue.useState(!1),[Ht,Rs]=ue.useState(!1),[go,Qr]=ue.useState(!1),[Yr,Jr]=ue.useState(0),[ht,ot]=ue.useState(0),Vt=ue.useRef(x.duration||X||zv),Ps=ue.useRef(null),_n=ue.useRef(null),yo=B===0,dr=B+1<=j,Nt=x.type,En=x.dismissible!==!1,hr=x.className||"",vo=x.descriptionClassName||"",Mn=ue.useMemo(()=>U.findIndex(Ce=>Ce.toastId===x.id)||0,[U,x.id]),fr=ue.useMemo(()=>{var Ce;return(Ce=x.closeButton)!=null?Ce:C},[x.closeButton,C]),bi=ue.useMemo(()=>x.duration||X||zv,[x.duration,X]),Ln=ue.useRef(0),xn=ue.useRef(0),Ns=ue.useRef(0),kt=ue.useRef(null),[ks,pr]=xe.split("-"),Xr=ue.useMemo(()=>U.reduce((Ce,qe,Ye)=>Ye>=Mn?Ce:Ce+qe.height,0),[U,Mn]),Vn=_b(),Gn=x.invert||T,et=Nt==="loading";xn.current=ue.useMemo(()=>Mn*ve+Xr,[Mn,Xr]),ue.useEffect(()=>{Vt.current=bi},[bi]),ue.useEffect(()=>{Re(!0)},[]),ue.useEffect(()=>{let Ce=_n.current;if(Ce){let qe=Ce.getBoundingClientRect().height;return ot(qe),I(Ye=>[{toastId:x.id,height:qe,position:x.position},...Ye]),()=>I(Ye=>Ye.filter(ft=>ft.toastId!==x.id))}},[I,x.id]),ue.useLayoutEffect(()=>{if(!pe)return;let Ce=_n.current,qe=Ce.style.height;Ce.style.height="auto";let Ye=Ce.getBoundingClientRect().height;Ce.style.height=qe,ot(Ye),I(ft=>ft.find(qt=>qt.toastId===x.id)?ft.map(qt=>qt.toastId===x.id?{...qt,height:Ye}:qt):[{toastId:x.id,height:Ye,position:x.position},...ft])},[pe,x.title,x.description,I,x.id]);let cn=ue.useCallback(()=>{Ze(!0),Jr(xn.current),I(Ce=>Ce.filter(qe=>qe.toastId!==x.id)),setTimeout(()=>{G(x)},Ob)},[x,G,I,xn]);ue.useEffect(()=>{if(x.promise&&Nt==="loading"||x.duration===1/0||x.type==="loading")return;let Ce;return ee||R||J&&Vn?(()=>{if(Ns.current<Ln.current){let qe=new Date().getTime()-Ln.current;Vt.current=Vt.current-qe}Ns.current=new Date().getTime()})():Vt.current!==1/0&&(Ln.current=new Date().getTime(),Ce=setTimeout(()=>{var qe;(qe=x.onAutoClose)==null||qe.call(x,x),cn()},Vt.current)),()=>clearTimeout(Ce)},[ee,R,x,Nt,J,Vn,cn]),ue.useEffect(()=>{x.delete&&cn()},[cn,x.delete]);function mr(){var Ce,qe,Ye;return se!=null&&se.loading?ue.createElement("div",{className:rr(te?.loader,(Ce=x?.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":Nt==="loading"},se.loading):ye?ue.createElement("div",{className:rr(te?.loader,(qe=x?.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Nt==="loading"},ye):ue.createElement(pb,{className:rr(te?.loader,(Ye=x?.classNames)==null?void 0:Ye.loader),visible:Nt==="loading"})}return ue.createElement("li",{tabIndex:0,ref:_n,className:rr(M,hr,te?.toast,(e=x?.classNames)==null?void 0:e.toast,te?.default,te?.[Nt],(t=x?.classNames)==null?void 0:t[Nt]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:N,"data-styled":!(x.jsx||x.unstyled||O),"data-mounted":pe,"data-promise":!!x.promise,"data-swiped":go,"data-removed":Ve,"data-visible":dr,"data-y-position":ks,"data-x-position":pr,"data-index":B,"data-front":yo,"data-swiping":un,"data-dismissible":En,"data-type":Nt,"data-invert":Gn,"data-swipe-out":Ht,"data-swipe-direction":Te,"data-expanded":!!(ee||Z&&pe),style:{"--index":B,"--toasts-before":B,"--z-index":H.length-B,"--offset":`${Ve?Yr:xn.current}px`,"--initial-height":Z?"auto":`${ht}px`,...A,...x.style},onDragEnd:()=>{Kn(!1),he(null),kt.current=null},onPointerDown:Ce=>{et||!En||(Ps.current=new Date,Jr(xn.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(Kn(!0),kt.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,qe,Ye,ft;if(Ht||!En)return;kt.current=null;let qt=Number(((Ce=_n.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wt=Number(((qe=_n.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Kt=new Date().getTime()-((Ye=Ps.current)==null?void 0:Ye.getTime()),Et=de==="x"?qt:Wt,Tn=Math.abs(Et)/Kt;if(Math.abs(Et)>=Db||Tn>.11){Jr(xn.current),(ft=x.onDismiss)==null||ft.call(x,x),Pe(de==="x"?qt>0?"right":"left":Wt>0?"down":"up"),cn(),Rs(!0),Qr(!1);return}Kn(!1),he(null)},onPointerMove:Ce=>{var qe,Ye,ft,qt;if(!kt.current||!En||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;let Wt=Ce.clientY-kt.current.y,Kt=Ce.clientX-kt.current.x,Et=(Ye=n.swipeDirections)!=null?Ye:Mb(xe);!de&&(Math.abs(Kt)>1||Math.abs(Wt)>1)&&he(Math.abs(Kt)>Math.abs(Wt)?"x":"y");let Tn={x:0,y:0};de==="y"?(Et.includes("top")||Et.includes("bottom"))&&(Et.includes("top")&&Wt<0||Et.includes("bottom")&&Wt>0)&&(Tn.y=Wt):de==="x"&&(Et.includes("left")||Et.includes("right"))&&(Et.includes("left")&&Kt<0||Et.includes("right")&&Kt>0)&&(Tn.x=Kt),(Math.abs(Tn.x)>0||Math.abs(Tn.y)>0)&&Qr(!0),(ft=_n.current)==null||ft.style.setProperty("--swipe-amount-x",`${Tn.x}px`),(qt=_n.current)==null||qt.style.setProperty("--swipe-amount-y",`${Tn.y}px`)}},fr&&!x.jsx?ue.createElement("button",{"aria-label":z,"data-disabled":et,"data-close-button":!0,onClick:et||!En?()=>{}:()=>{var Ce;cn(),(Ce=x.onDismiss)==null||Ce.call(x,x)},className:rr(te?.closeButton,(i=x?.classNames)==null?void 0:i.closeButton)},(a=se?.close)!=null?a:wb):null,x.jsx||k.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:ue.createElement(ue.Fragment,null,Nt||x.icon||x.promise?ue.createElement("div",{"data-icon":"",className:rr(te?.icon,(u=x?.classNames)==null?void 0:u.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||mr():null,x.type!=="loading"?x.icon||se?.[Nt]||hb(Nt):null):null,ue.createElement("div",{"data-content":"",className:rr(te?.content,(h=x?.classNames)==null?void 0:h.content)},ue.createElement("div",{"data-title":"",className:rr(te?.title,(f=x?.classNames)==null?void 0:f.title)},typeof x.title=="function"?x.title():x.title),x.description?ue.createElement("div",{"data-description":"",className:rr(b,vo,te?.description,(p=x?.classNames)==null?void 0:p.description)},typeof x.description=="function"?x.description():x.description):null),k.isValidElement(x.cancel)?x.cancel:x.cancel&&Sc(x.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||L,onClick:Ce=>{var qe,Ye;Sc(x.cancel)&&En&&((Ye=(qe=x.cancel).onClick)==null||Ye.call(qe,Ce),cn())},className:rr(te?.cancelButton,(v=x?.classNames)==null?void 0:v.cancelButton)},x.cancel.label):null,k.isValidElement(x.action)?x.action:x.action&&Sc(x.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||D,onClick:Ce=>{var qe,Ye;Sc(x.action)&&((Ye=(qe=x.action).onClick)==null||Ye.call(qe,Ce),!Ce.defaultPrevented&&cn())},className:rr(te?.actionButton,(w=x?.classNames)==null?void 0:w.actionButton)},x.action.label):null))};function $v(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Vb(n,e){let t={};return[n,e].forEach((r,i)=>{let a=i===1,u=a?"--mobile-offset":"--offset",h=a?Pb:Rb;function f(p){["top","right","bottom","left"].forEach(v=>{t[`${u}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${u}-${p}`]=h:t[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):f(h)}),t}var jb=k.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:u,className:h,offset:f,mobileOffset:p,theme:v="light",richColors:w,duration:T,style:x,visibleToasts:O=Ab,toastOptions:R,dir:I=$v(),gap:j=kb,loadingIcon:U,icons:B,containerAriaLabel:H="Notifications",pauseWhenPageIsHidden:ee}=n,[G,N]=ue.useState([]),C=ue.useMemo(()=>Array.from(new Set([r].concat(G.filter(J=>J.position).map(J=>J.position)))),[G,r]),[A,L]=ue.useState([]),[D,M]=ue.useState(!1),[b,X]=ue.useState(!1),[xe,ve]=ue.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ye=ue.useRef(null),Z=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=ue.useRef(null),se=ue.useRef(!1),z=ue.useCallback(J=>{N(de=>{var he;return(he=de.find(Te=>Te.id===J.id))!=null&&he.delete||yn.dismiss(J.id),de.filter(({id:Te})=>Te!==J.id)})},[]);return ue.useEffect(()=>yn.subscribe(J=>{if(J.dismiss){N(de=>de.map(he=>he.id===J.id?{...he,delete:!0}:he));return}setTimeout(()=>{T_.flushSync(()=>{N(de=>{let he=de.findIndex(Te=>Te.id===J.id);return he!==-1?[...de.slice(0,he),{...de[he],...J},...de.slice(he+1)]:[J,...de]})})})}),[]),ue.useEffect(()=>{if(v!=="system"){ve(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ve("dark"):ve("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:de})=>{ve(de?"dark":"light")})}catch{J.addListener(({matches:he})=>{try{ve(he?"dark":"light")}catch(Te){console.error(Te)}})}},[v]),ue.useEffect(()=>{G.length<=1&&M(!1)},[G]),ue.useEffect(()=>{let J=de=>{var he,Te;i.every(Pe=>de[Pe]||de.code===Pe)&&(M(!0),(he=ye.current)==null||he.focus()),de.code==="Escape"&&(document.activeElement===ye.current||(Te=ye.current)!=null&&Te.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[i]),ue.useEffect(()=>{if(ye.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,se.current=!1)}},[ye.current]),ue.createElement("section",{ref:e,"aria-label":`${H} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((J,de)=>{var he;let[Te,Pe]=J.split("-");return G.length?ue.createElement("ol",{key:J,dir:I==="auto"?$v():I,tabIndex:-1,ref:ye,className:h,"data-sonner-toaster":!0,"data-theme":xe,"data-y-position":Te,"data-lifted":D&&G.length>1&&!a,"data-x-position":Pe,style:{"--front-toast-height":`${((he=A[0])==null?void 0:he.height)||0}px`,"--width":`${Nb}px`,"--gap":`${j}px`,...x,...Vb(f,p)},onBlur:pe=>{se.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(se.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||se.current||(se.current=!0,te.current=pe.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{b||M(!1)},onDragEnd:()=>M(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},G.filter(pe=>!pe.position&&de===0||pe.position===J).map((pe,Re)=>{var Ve,Ze;return ue.createElement(Lb,{key:pe.id,icons:B,index:Re,toast:pe,defaultRichColors:w,duration:(Ve=R?.duration)!=null?Ve:T,className:R?.className,descriptionClassName:R?.descriptionClassName,invert:t,visibleToasts:O,closeButton:(Ze=R?.closeButton)!=null?Ze:u,interacting:b,position:J,style:R?.style,unstyled:R?.unstyled,classNames:R?.classNames,cancelButtonStyle:R?.cancelButtonStyle,actionButtonStyle:R?.actionButtonStyle,removeToast:z,toasts:G.filter(un=>un.position==pe.position),heights:A.filter(un=>un.position==pe.position),setHeights:L,expandByDefault:a,gap:j,loadingIcon:U,expanded:D,pauseWhenPageIsHidden:ee,swipeDirections:n.swipeDirections})})):null}))});const Fb=({...n})=>{const{theme:e="system"}=db();return _.jsx(jb,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},Ub=["top","right","bottom","left"],vi=Math.min,Dn=Math.max,Qc=Math.round,Cc=Math.floor,Vr=n=>({x:n,y:n}),Bb={left:"right",right:"left",bottom:"top",top:"bottom"},zb={start:"end",end:"start"};function wp(n,e,t){return Dn(n,vi(e,t))}function xs(n,e){return typeof n=="function"?n(e):n}function Ts(n){return n.split("-")[0]}function Sa(n){return n.split("-")[1]}function dm(n){return n==="x"?"y":"x"}function hm(n){return n==="y"?"height":"width"}const $b=new Set(["top","bottom"]);function Lr(n){return $b.has(Ts(n))?"y":"x"}function fm(n){return dm(Lr(n))}function Hb(n,e,t){t===void 0&&(t=!1);const r=Sa(n),i=fm(n),a=hm(i);let u=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Yc(u)),[u,Yc(u)]}function qb(n){const e=Yc(n);return[_p(n),e,_p(e)]}function _p(n){return n.replace(/start|end/g,e=>zb[e])}const Hv=["left","right"],qv=["right","left"],Wb=["top","bottom"],Kb=["bottom","top"];function Gb(n,e,t){switch(n){case"top":case"bottom":return t?e?qv:Hv:e?Hv:qv;case"left":case"right":return e?Wb:Kb;default:return[]}}function Qb(n,e,t,r){const i=Sa(n);let a=Gb(Ts(n),t==="start",r);return i&&(a=a.map(u=>u+"-"+i),e&&(a=a.concat(a.map(_p)))),a}function Yc(n){return n.replace(/left|right|bottom|top/g,e=>Bb[e])}function Yb(n){return{top:0,right:0,bottom:0,left:0,...n}}function dE(n){return typeof n!="number"?Yb(n):{top:n,right:n,bottom:n,left:n}}function Jc(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Wv(n,e,t){let{reference:r,floating:i}=n;const a=Lr(e),u=fm(e),h=hm(u),f=Ts(e),p=a==="y",v=r.x+r.width/2-i.width/2,w=r.y+r.height/2-i.height/2,T=r[h]/2-i[h]/2;let x;switch(f){case"top":x={x:v,y:r.y-i.height};break;case"bottom":x={x:v,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:w};break;case"left":x={x:r.x-i.width,y:w};break;default:x={x:r.x,y:r.y}}switch(Sa(e)){case"start":x[u]-=T*(t&&p?-1:1);break;case"end":x[u]+=T*(t&&p?-1:1);break}return x}const Jb=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:u}=t,h=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:i}),{x:v,y:w}=Wv(p,r,f),T=r,x={},O=0;for(let R=0;R<h.length;R++){const{name:I,fn:j}=h[R],{x:U,y:B,data:H,reset:ee}=await j({x:v,y:w,initialPlacement:r,placement:T,strategy:i,middlewareData:x,rects:p,platform:u,elements:{reference:n,floating:e}});v=U??v,w=B??w,x={...x,[I]:{...x[I],...H}},ee&&O<=50&&(O++,typeof ee=="object"&&(ee.placement&&(T=ee.placement),ee.rects&&(p=ee.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:i}):ee.rects),{x:v,y:w}=Wv(p,T,f)),R=-1)}return{x:v,y:w,placement:T,strategy:i,middlewareData:x}};async function zl(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:u,elements:h,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:T=!1,padding:x=0}=xs(e,n),O=dE(x),I=h[T?w==="floating"?"reference":"floating":w],j=Jc(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(I)))==null||t?I:I.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:p,rootBoundary:v,strategy:f})),U=w==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),H=await(a.isElement==null?void 0:a.isElement(B))?await(a.getScale==null?void 0:a.getScale(B))||{x:1,y:1}:{x:1,y:1},ee=Jc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:U,offsetParent:B,strategy:f}):U);return{top:(j.top-ee.top+O.top)/H.y,bottom:(ee.bottom-j.bottom+O.bottom)/H.y,left:(j.left-ee.left+O.left)/H.x,right:(ee.right-j.right+O.right)/H.x}}const Xb=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:u,elements:h,middlewareData:f}=e,{element:p,padding:v=0}=xs(n,e)||{};if(p==null)return{};const w=dE(v),T={x:t,y:r},x=fm(i),O=hm(x),R=await u.getDimensions(p),I=x==="y",j=I?"top":"left",U=I?"bottom":"right",B=I?"clientHeight":"clientWidth",H=a.reference[O]+a.reference[x]-T[x]-a.floating[O],ee=T[x]-a.reference[x],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let N=G?G[B]:0;(!N||!await(u.isElement==null?void 0:u.isElement(G)))&&(N=h.floating[B]||a.floating[O]);const C=H/2-ee/2,A=N/2-R[O]/2-1,L=vi(w[j],A),D=vi(w[U],A),M=L,b=N-R[O]-D,X=N/2-R[O]/2+C,xe=wp(M,X,b),ve=!f.arrow&&Sa(i)!=null&&X!==xe&&a.reference[O]/2-(X<M?L:D)-R[O]/2<0,ye=ve?X<M?X-M:X-b:0;return{[x]:T[x]+ye,data:{[x]:xe,centerOffset:X-xe-ye,...ve&&{alignmentOffset:ye}},reset:ve}}}),Zb=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:u,initialPlacement:h,platform:f,elements:p}=e,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:R=!0,...I}=xs(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const j=Ts(i),U=Lr(h),B=Ts(h)===h,H=await(f.isRTL==null?void 0:f.isRTL(p.floating)),ee=T||(B||!R?[Yc(h)]:qb(h)),G=O!=="none";!T&&G&&ee.push(...Qb(h,R,O,H));const N=[h,...ee],C=await zl(e,I),A=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&A.push(C[j]),w){const X=Hb(i,u,H);A.push(C[X[0]],C[X[1]])}if(L=[...L,{placement:i,overflows:A}],!A.every(X=>X<=0)){var D,M;const X=(((D=a.flip)==null?void 0:D.index)||0)+1,xe=N[X];if(xe&&(!(w==="alignment"?U!==Lr(xe):!1)||L.every(Z=>Lr(Z.placement)===U?Z.overflows[0]>0:!0)))return{data:{index:X,overflows:L},reset:{placement:xe}};let ve=(M=L.filter(ye=>ye.overflows[0]<=0).sort((ye,Z)=>ye.overflows[1]-Z.overflows[1])[0])==null?void 0:M.placement;if(!ve)switch(x){case"bestFit":{var b;const ye=(b=L.filter(Z=>{if(G){const te=Lr(Z.placement);return te===U||te==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(te=>te>0).reduce((te,se)=>te+se,0)]).sort((Z,te)=>Z[1]-te[1])[0])==null?void 0:b[0];ye&&(ve=ye);break}case"initialPlacement":ve=h;break}if(i!==ve)return{reset:{placement:ve}}}return{}}}};function Kv(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Gv(n){return Ub.some(e=>n[e]>=0)}const eA=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=xs(n,e);switch(r){case"referenceHidden":{const a=await zl(e,{...i,elementContext:"reference"}),u=Kv(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Gv(u)}}}case"escaped":{const a=await zl(e,{...i,altBoundary:!0}),u=Kv(a,t.floating);return{data:{escapedOffsets:u,escaped:Gv(u)}}}default:return{}}}}},hE=new Set(["left","top"]);async function tA(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Ts(t),h=Sa(t),f=Lr(t)==="y",p=hE.has(u)?-1:1,v=a&&f?-1:1,w=xs(e,n);let{mainAxis:T,crossAxis:x,alignmentAxis:O}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof O=="number"&&(x=h==="end"?O*-1:O),f?{x:x*v,y:T*p}:{x:T*p,y:x*v}}const nA=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:u,middlewareData:h}=e,f=await tA(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:u}}}}},rA=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:I=>{let{x:j,y:U}=I;return{x:j,y:U}}},...f}=xs(n,e),p={x:t,y:r},v=await zl(e,f),w=Lr(Ts(i)),T=dm(w);let x=p[T],O=p[w];if(a){const I=T==="y"?"top":"left",j=T==="y"?"bottom":"right",U=x+v[I],B=x-v[j];x=wp(U,x,B)}if(u){const I=w==="y"?"top":"left",j=w==="y"?"bottom":"right",U=O+v[I],B=O-v[j];O=wp(U,O,B)}const R=h.fn({...e,[T]:x,[w]:O});return{...R,data:{x:R.x-t,y:R.y-r,enabled:{[T]:a,[w]:u}}}}}},sA=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:u}=e,{offset:h=0,mainAxis:f=!0,crossAxis:p=!0}=xs(n,e),v={x:t,y:r},w=Lr(i),T=dm(w);let x=v[T],O=v[w];const R=xs(h,e),I=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(f){const B=T==="y"?"height":"width",H=a.reference[T]-a.floating[B]+I.mainAxis,ee=a.reference[T]+a.reference[B]-I.mainAxis;x<H?x=H:x>ee&&(x=ee)}if(p){var j,U;const B=T==="y"?"width":"height",H=hE.has(Ts(i)),ee=a.reference[w]-a.floating[B]+(H&&((j=u.offset)==null?void 0:j[w])||0)+(H?0:I.crossAxis),G=a.reference[w]+a.reference[B]+(H?0:((U=u.offset)==null?void 0:U[w])||0)-(H?I.crossAxis:0);O<ee?O=ee:O>G&&(O=G)}return{[T]:x,[w]:O}}}},iA=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:u,elements:h}=e,{apply:f=()=>{},...p}=xs(n,e),v=await zl(e,p),w=Ts(i),T=Sa(i),x=Lr(i)==="y",{width:O,height:R}=a.floating;let I,j;w==="top"||w==="bottom"?(I=w,j=T===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(j=w,I=T==="end"?"top":"bottom");const U=R-v.top-v.bottom,B=O-v.left-v.right,H=vi(R-v[I],U),ee=vi(O-v[j],B),G=!e.middlewareData.shift;let N=H,C=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=B),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=U),G&&!T){const L=Dn(v.left,0),D=Dn(v.right,0),M=Dn(v.top,0),b=Dn(v.bottom,0);x?C=O-2*(L!==0||D!==0?L+D:Dn(v.left,v.right)):N=R-2*(M!==0||b!==0?M+b:Dn(v.top,v.bottom))}await f({...e,availableWidth:C,availableHeight:N});const A=await u.getDimensions(h.floating);return O!==A.width||R!==A.height?{reset:{rects:!0}}:{}}}};function xd(){return typeof window<"u"}function Ca(n){return fE(n)?(n.nodeName||"").toLowerCase():"#document"}function On(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Wr(n){var e;return(e=(fE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function fE(n){return xd()?n instanceof Node||n instanceof On(n).Node:!1}function ur(n){return xd()?n instanceof Element||n instanceof On(n).Element:!1}function zr(n){return xd()?n instanceof HTMLElement||n instanceof On(n).HTMLElement:!1}function Qv(n){return!xd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof On(n).ShadowRoot}const oA=new Set(["inline","contents"]);function su(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=cr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!oA.has(i)}const aA=new Set(["table","td","th"]);function lA(n){return aA.has(Ca(n))}const uA=[":popover-open",":modal"];function Td(n){return uA.some(e=>{try{return n.matches(e)}catch{return!1}})}const cA=["transform","translate","scale","rotate","perspective"],dA=["transform","translate","scale","rotate","perspective","filter"],hA=["paint","layout","strict","content"];function pm(n){const e=mm(),t=ur(n)?cr(n):n;return cA.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||dA.some(r=>(t.willChange||"").includes(r))||hA.some(r=>(t.contain||"").includes(r))}function fA(n){let e=wi(n);for(;zr(e)&&!fa(e);){if(pm(e))return e;if(Td(e))return null;e=wi(e)}return null}function mm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pA=new Set(["html","body","#document"]);function fa(n){return pA.has(Ca(n))}function cr(n){return On(n).getComputedStyle(n)}function Sd(n){return ur(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function wi(n){if(Ca(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Qv(n)&&n.host||Wr(n);return Qv(e)?e.host:e}function pE(n){const e=wi(n);return fa(e)?n.ownerDocument?n.ownerDocument.body:n.body:zr(e)&&su(e)?e:pE(e)}function $l(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=pE(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),u=On(i);if(a){const h=Ep(u);return e.concat(u,u.visualViewport||[],su(i)?i:[],h&&t?$l(h):[])}return e.concat(i,$l(i,[],t))}function Ep(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function mE(n){const e=cr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=zr(n),a=i?n.offsetWidth:t,u=i?n.offsetHeight:r,h=Qc(t)!==a||Qc(r)!==u;return h&&(t=a,r=u),{width:t,height:r,$:h}}function gm(n){return ur(n)?n:n.contextElement}function aa(n){const e=gm(n);if(!zr(e))return Vr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=mE(e);let u=(a?Qc(t.width):t.width)/r,h=(a?Qc(t.height):t.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const mA=Vr(0);function gE(n){const e=On(n);return!mm()||!e.visualViewport?mA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gA(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==On(n)?!1:e}function no(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=gm(n);let u=Vr(1);e&&(r?ur(r)&&(u=aa(r)):u=aa(n));const h=gA(a,t,r)?gE(a):Vr(0);let f=(i.left+h.x)/u.x,p=(i.top+h.y)/u.y,v=i.width/u.x,w=i.height/u.y;if(a){const T=On(a),x=r&&ur(r)?On(r):r;let O=T,R=Ep(O);for(;R&&r&&x!==O;){const I=aa(R),j=R.getBoundingClientRect(),U=cr(R),B=j.left+(R.clientLeft+parseFloat(U.paddingLeft))*I.x,H=j.top+(R.clientTop+parseFloat(U.paddingTop))*I.y;f*=I.x,p*=I.y,v*=I.x,w*=I.y,f+=B,p+=H,O=On(R),R=Ep(O)}}return Jc({width:v,height:w,x:f,y:p})}function Cd(n,e){const t=Sd(n).scrollLeft;return e?e.left+t:no(Wr(n)).left+t}function yE(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Cd(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function yA(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",u=Wr(r),h=e?Td(e.floating):!1;if(r===u||h&&a)return t;let f={scrollLeft:0,scrollTop:0},p=Vr(1);const v=Vr(0),w=zr(r);if((w||!w&&!a)&&((Ca(r)!=="body"||su(u))&&(f=Sd(r)),zr(r))){const x=no(r);p=aa(r),v.x=x.x+r.clientLeft,v.y=x.y+r.clientTop}const T=u&&!w&&!a?yE(u,f):Vr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+v.x+T.x,y:t.y*p.y-f.scrollTop*p.y+v.y+T.y}}function vA(n){return Array.from(n.getClientRects())}function wA(n){const e=Wr(n),t=Sd(n),r=n.ownerDocument.body,i=Dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+Cd(n);const h=-t.scrollTop;return cr(r).direction==="rtl"&&(u+=Dn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:u,y:h}}const Yv=25;function _A(n,e){const t=On(n),r=Wr(n),i=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,h=0,f=0;if(i){a=i.width,u=i.height;const v=mm();(!v||v&&e==="fixed")&&(h=i.offsetLeft,f=i.offsetTop)}const p=Cd(r);if(p<=0){const v=r.ownerDocument,w=v.body,T=getComputedStyle(w),x=v.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,O=Math.abs(r.clientWidth-w.clientWidth-x);O<=Yv&&(a-=O)}else p<=Yv&&(a+=p);return{width:a,height:u,x:h,y:f}}const EA=new Set(["absolute","fixed"]);function xA(n,e){const t=no(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=zr(n)?aa(n):Vr(1),u=n.clientWidth*a.x,h=n.clientHeight*a.y,f=i*a.x,p=r*a.y;return{width:u,height:h,x:f,y:p}}function Jv(n,e,t){let r;if(e==="viewport")r=_A(n,t);else if(e==="document")r=wA(Wr(n));else if(ur(e))r=xA(e,t);else{const i=gE(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Jc(r)}function vE(n,e){const t=wi(n);return t===e||!ur(t)||fa(t)?!1:cr(t).position==="fixed"||vE(t,e)}function TA(n,e){const t=e.get(n);if(t)return t;let r=$l(n,[],!1).filter(h=>ur(h)&&Ca(h)!=="body"),i=null;const a=cr(n).position==="fixed";let u=a?wi(n):n;for(;ur(u)&&!fa(u);){const h=cr(u),f=pm(u);!f&&h.position==="fixed"&&(i=null),(a?!f&&!i:!f&&h.position==="static"&&!!i&&EA.has(i.position)||su(u)&&!f&&vE(n,u))?r=r.filter(v=>v!==u):i=h,u=wi(u)}return e.set(n,r),r}function SA(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const u=[...t==="clippingAncestors"?Td(e)?[]:TA(e,this._c):[].concat(t),r],h=u[0],f=u.reduce((p,v)=>{const w=Jv(e,v,i);return p.top=Dn(w.top,p.top),p.right=vi(w.right,p.right),p.bottom=vi(w.bottom,p.bottom),p.left=Dn(w.left,p.left),p},Jv(e,h,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function CA(n){const{width:e,height:t}=mE(n);return{width:e,height:t}}function IA(n,e,t){const r=zr(e),i=Wr(e),a=t==="fixed",u=no(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=Vr(0);function p(){f.x=Cd(i)}if(r||!r&&!a)if((Ca(e)!=="body"||su(i))&&(h=Sd(e)),r){const x=no(e,!0,a,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else i&&p();a&&!r&&i&&p();const v=i&&!r&&!a?yE(i,h):Vr(0),w=u.left+h.scrollLeft-f.x-v.x,T=u.top+h.scrollTop-f.y-v.y;return{x:w,y:T,width:u.width,height:u.height}}function bf(n){return cr(n).position==="static"}function Xv(n,e){if(!zr(n)||cr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Wr(n)===t&&(t=t.ownerDocument.body),t}function wE(n,e){const t=On(n);if(Td(n))return t;if(!zr(n)){let i=wi(n);for(;i&&!fa(i);){if(ur(i)&&!bf(i))return i;i=wi(i)}return t}let r=Xv(n,e);for(;r&&lA(r)&&bf(r);)r=Xv(r,e);return r&&fa(r)&&bf(r)&&!pm(r)?t:r||fA(n)||t}const bA=async function(n){const e=this.getOffsetParent||wE,t=this.getDimensions,r=await t(n.floating);return{reference:IA(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function AA(n){return cr(n).direction==="rtl"}const RA={convertOffsetParentRelativeRectToViewportRelativeRect:yA,getDocumentElement:Wr,getClippingRect:SA,getOffsetParent:wE,getElementRects:bA,getClientRects:vA,getDimensions:CA,getScale:aa,isElement:ur,isRTL:AA};function _E(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function PA(n,e){let t=null,r;const i=Wr(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const p=n.getBoundingClientRect(),{left:v,top:w,width:T,height:x}=p;if(h||e(),!T||!x)return;const O=Cc(w),R=Cc(i.clientWidth-(v+T)),I=Cc(i.clientHeight-(w+x)),j=Cc(v),B={rootMargin:-O+"px "+-R+"px "+-I+"px "+-j+"px",threshold:Dn(0,vi(1,f))||1};let H=!0;function ee(G){const N=G[0].intersectionRatio;if(N!==f){if(!H)return u();N?u(!1,N):r=setTimeout(()=>{u(!1,1e-7)},1e3)}N===1&&!_E(p,n.getBoundingClientRect())&&u(),H=!1}try{t=new IntersectionObserver(ee,{...B,root:i.ownerDocument})}catch{t=new IntersectionObserver(ee,B)}t.observe(n)}return u(!0),a}function NA(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=gm(n),v=i||a?[...p?$l(p):[],...$l(e)]:[];v.forEach(j=>{i&&j.addEventListener("scroll",t,{passive:!0}),a&&j.addEventListener("resize",t)});const w=p&&h?PA(p,t):null;let T=-1,x=null;u&&(x=new ResizeObserver(j=>{let[U]=j;U&&U.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var B;(B=x)==null||B.observe(e)})),t()}),p&&!f&&x.observe(p),x.observe(e));let O,R=f?no(n):null;f&&I();function I(){const j=no(n);R&&!_E(R,j)&&t(),R=j,O=requestAnimationFrame(I)}return t(),()=>{var j;v.forEach(U=>{i&&U.removeEventListener("scroll",t),a&&U.removeEventListener("resize",t)}),w?.(),(j=x)==null||j.disconnect(),x=null,f&&cancelAnimationFrame(O)}}const kA=nA,DA=rA,OA=Zb,MA=iA,LA=eA,Zv=Xb,VA=sA,jA=(n,e,t)=>{const r=new Map,i={platform:RA,...t},a={...i.platform,_c:r};return Jb(n,e,{...i,platform:a})};var FA=typeof document<"u",UA=function(){},jc=FA?k.useLayoutEffect:UA;function Xc(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Xc(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Xc(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function EE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function e0(n,e){const t=EE(n);return Math.round(e*t)/t}function Af(n){const e=k.useRef(n);return jc(()=>{e.current=n}),e}function BA(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:f,open:p}=n,[v,w]=k.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,x]=k.useState(r);Xc(T,r)||x(r);const[O,R]=k.useState(null),[I,j]=k.useState(null),U=k.useCallback(Z=>{Z!==G.current&&(G.current=Z,R(Z))},[]),B=k.useCallback(Z=>{Z!==N.current&&(N.current=Z,j(Z))},[]),H=a||O,ee=u||I,G=k.useRef(null),N=k.useRef(null),C=k.useRef(v),A=f!=null,L=Af(f),D=Af(i),M=Af(p),b=k.useCallback(()=>{if(!G.current||!N.current)return;const Z={placement:e,strategy:t,middleware:T};D.current&&(Z.platform=D.current),jA(G.current,N.current,Z).then(te=>{const se={...te,isPositioned:M.current!==!1};X.current&&!Xc(C.current,se)&&(C.current=se,vd.flushSync(()=>{w(se)}))})},[T,e,t,D,M]);jc(()=>{p===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,w(Z=>({...Z,isPositioned:!1})))},[p]);const X=k.useRef(!1);jc(()=>(X.current=!0,()=>{X.current=!1}),[]),jc(()=>{if(H&&(G.current=H),ee&&(N.current=ee),H&&ee){if(L.current)return L.current(H,ee,b);b()}},[H,ee,b,L,A]);const xe=k.useMemo(()=>({reference:G,floating:N,setReference:U,setFloating:B}),[U,B]),ve=k.useMemo(()=>({reference:H,floating:ee}),[H,ee]),ye=k.useMemo(()=>{const Z={position:t,left:0,top:0};if(!ve.floating)return Z;const te=e0(ve.floating,v.x),se=e0(ve.floating,v.y);return h?{...Z,transform:"translate("+te+"px, "+se+"px)",...EE(ve.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:se}},[t,h,ve.floating,v.x,v.y]);return k.useMemo(()=>({...v,update:b,refs:xe,elements:ve,floatingStyles:ye}),[v,b,xe,ve,ye])}const zA=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Zv({element:r.current,padding:i}).fn(t):{}:r?Zv({element:r,padding:i}).fn(t):{}}}},$A=(n,e)=>({...kA(n),options:[n,e]}),HA=(n,e)=>({...DA(n),options:[n,e]}),qA=(n,e)=>({...VA(n),options:[n,e]}),WA=(n,e)=>({...OA(n),options:[n,e]}),KA=(n,e)=>({...MA(n),options:[n,e]}),GA=(n,e)=>({...LA(n),options:[n,e]}),QA=(n,e)=>({...zA(n),options:[n,e]});var YA="Arrow",xE=k.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return _.jsx(wn.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});xE.displayName=YA;var JA=xE;function XA(n){const[e,t]=k.useState(void 0);return yi(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,h;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,h=p.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var TE="Popper",[SE,CE]=wd(TE),[WL,IE]=SE(TE),bE="PopperAnchor",AE=k.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=IE(bE,t),u=k.useRef(null),h=lr(e,u),f=k.useRef(null);return k.useEffect(()=>{const p=f.current;f.current=r?.current||u.current,p!==f.current&&a.onAnchorChange(f.current)}),r?null:_.jsx(wn.div,{...i,ref:h})});AE.displayName=bE;var ym="PopperContent",[ZA,eR]=SE(ym),RE=k.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:x="optimized",onPlaced:O,...R}=n,I=IE(ym,t),[j,U]=k.useState(null),B=lr(e,pe=>U(pe)),[H,ee]=k.useState(null),G=XA(H),N=G?.width??0,C=G?.height??0,A=r+(a!=="center"?"-"+a:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},D=Array.isArray(p)?p:[p],M=D.length>0,b={padding:L,boundary:D.filter(nR),altBoundary:M},{refs:X,floatingStyles:xe,placement:ve,isPositioned:ye,middlewareData:Z}=BA({strategy:"fixed",placement:A,whileElementsMounted:(...pe)=>NA(...pe,{animationFrame:x==="always"}),elements:{reference:I.anchor},middleware:[$A({mainAxis:i+C,alignmentAxis:u}),f&&HA({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?qA():void 0,...b}),f&&WA({...b}),KA({...b,apply:({elements:pe,rects:Re,availableWidth:Ve,availableHeight:Ze})=>{const{width:un,height:Kn}=Re.reference,Ht=pe.floating.style;Ht.setProperty("--radix-popper-available-width",`${Ve}px`),Ht.setProperty("--radix-popper-available-height",`${Ze}px`),Ht.setProperty("--radix-popper-anchor-width",`${un}px`),Ht.setProperty("--radix-popper-anchor-height",`${Kn}px`)}}),H&&QA({element:H,padding:h}),rR({arrowWidth:N,arrowHeight:C}),T&&GA({strategy:"referenceHidden",...b})]}),[te,se]=kE(ve),z=gi(O);yi(()=>{ye&&z?.()},[ye,z]);const J=Z.arrow?.x,de=Z.arrow?.y,he=Z.arrow?.centerOffset!==0,[Te,Pe]=k.useState();return yi(()=>{j&&Pe(window.getComputedStyle(j).zIndex)},[j]),_.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:ye?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:_.jsx(ZA,{scope:t,placedSide:te,onArrowChange:ee,arrowX:J,arrowY:de,shouldHideArrow:he,children:_.jsx(wn.div,{"data-side":te,"data-align":se,...R,ref:B,style:{...R.style,animation:ye?void 0:"none"}})})})});RE.displayName=ym;var PE="PopperArrow",tR={top:"bottom",right:"left",bottom:"top",left:"right"},NE=k.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=eR(PE,r),u=tR[a.placedSide];return _.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:_.jsx(JA,{...i,ref:t,style:{...i.style,display:"block"}})})});NE.displayName=PE;function nR(n){return n!==null}var rR=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,h=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[p,v]=kE(t),w={start:"0%",center:"50%",end:"100%"}[v],T=(i.arrow?.x??0)+h/2,x=(i.arrow?.y??0)+f/2;let O="",R="";return p==="bottom"?(O=u?w:`${T}px`,R=`${-f}px`):p==="top"?(O=u?w:`${T}px`,R=`${r.floating.height+f}px`):p==="right"?(O=`${-f}px`,R=u?w:`${x}px`):p==="left"&&(O=`${r.floating.width+f}px`,R=u?w:`${x}px`),{data:{x:O,y:R}}}});function kE(n){const[e,t="center"]=n.split("-");return[e,t]}var sR=AE,iR=RE,oR=NE,aR=Symbol("radix.slottable");function lR(n){const e=({children:t})=>_.jsx(_.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=aR,e}var[Id]=wd("Tooltip",[CE]),vm=CE(),DE="TooltipProvider",uR=700,t0="tooltip.open",[cR,OE]=Id(DE),ME=n=>{const{__scopeTooltip:e,delayDuration:t=uR,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=n,u=k.useRef(!0),h=k.useRef(!1),f=k.useRef(0);return k.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),_.jsx(cR,{scope:e,isOpenDelayedRef:u,delayDuration:t,onOpen:k.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:k.useCallback(p=>{h.current=p},[]),disableHoverableContent:i,children:a})};ME.displayName=DE;var LE="Tooltip",[KL,bd]=Id(LE),xp="TooltipTrigger",dR=k.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=bd(xp,t),a=OE(xp,t),u=vm(t),h=k.useRef(null),f=lr(e,h,i.onTriggerChange),p=k.useRef(!1),v=k.useRef(!1),w=k.useCallback(()=>p.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),_.jsx(sR,{asChild:!0,...u,children:_.jsx(wn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:At(n.onPointerMove,T=>{T.pointerType!=="touch"&&!v.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),v.current=!0)}),onPointerLeave:At(n.onPointerLeave,()=>{i.onTriggerLeave(),v.current=!1}),onPointerDown:At(n.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:At(n.onFocus,()=>{p.current||i.onOpen()}),onBlur:At(n.onBlur,i.onClose),onClick:At(n.onClick,i.onClose)})})});dR.displayName=xp;var hR="TooltipPortal",[GL,fR]=Id(hR,{forceMount:void 0}),pa="TooltipContent",VE=k.forwardRef((n,e)=>{const t=fR(pa,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...a}=n,u=bd(pa,n.__scopeTooltip);return _.jsx(om,{present:r||u.open,children:u.disableHoverableContent?_.jsx(jE,{side:i,...a,ref:e}):_.jsx(pR,{side:i,...a,ref:e})})}),pR=k.forwardRef((n,e)=>{const t=bd(pa,n.__scopeTooltip),r=OE(pa,n.__scopeTooltip),i=k.useRef(null),a=lr(e,i),[u,h]=k.useState(null),{trigger:f,onClose:p}=t,v=i.current,{onPointerInTransitChange:w}=r,T=k.useCallback(()=>{h(null),w(!1)},[w]),x=k.useCallback((O,R)=>{const I=O.currentTarget,j={x:O.clientX,y:O.clientY},U=wR(j,I.getBoundingClientRect()),B=_R(j,U),H=ER(R.getBoundingClientRect()),ee=TR([...B,...H]);h(ee),w(!0)},[w]);return k.useEffect(()=>()=>T(),[T]),k.useEffect(()=>{if(f&&v){const O=I=>x(I,v),R=I=>x(I,f);return f.addEventListener("pointerleave",O),v.addEventListener("pointerleave",R),()=>{f.removeEventListener("pointerleave",O),v.removeEventListener("pointerleave",R)}}},[f,v,x,T]),k.useEffect(()=>{if(u){const O=R=>{const I=R.target,j={x:R.clientX,y:R.clientY},U=f?.contains(I)||v?.contains(I),B=!xR(j,u);U?T():B&&(T(),p())};return document.addEventListener("pointermove",O),()=>document.removeEventListener("pointermove",O)}},[f,v,u,p,T]),_.jsx(jE,{...n,ref:a})}),[mR,gR]=Id(LE,{isInside:!1}),yR=lR("TooltipContent"),jE=k.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...h}=n,f=bd(pa,t),p=vm(t),{onClose:v}=f;return k.useEffect(()=>(document.addEventListener(t0,v),()=>document.removeEventListener(t0,v)),[v]),k.useEffect(()=>{if(f.trigger){const w=T=>{T.target?.contains(f.trigger)&&v()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,v]),_.jsx(im,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:w=>w.preventDefault(),onDismiss:v,children:_.jsxs(iR,{"data-state":f.stateAttribute,...p,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(yR,{children:r}),_.jsx(mR,{scope:t,isInside:!0,children:_.jsx(EC,{id:f.contentId,role:"tooltip",children:i||r})})]})})});VE.displayName=pa;var FE="TooltipArrow",vR=k.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=vm(t);return gR(FE,t).isInside?null:_.jsx(oR,{...i,...r,ref:e})});vR.displayName=FE;function wR(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,i,a)){case a:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _R(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function ER(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function xR(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const h=e[a],f=e[u],p=h.x,v=h.y,w=f.x,T=f.y;v>r!=T>r&&t<(w-p)*(r-v)/(T-v)+p&&(i=!i)}return i}function TR(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),SR(e)}function SR(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var CR=ME,UE=VE;const IR=CR,bR=k.forwardRef(({className:n,sideOffset:e=4,...t},r)=>_.jsx(UE,{ref:r,sideOffset:e,className:lo("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));bR.displayName=UE.displayName;var Ad=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AR={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},RR=class{#e=AR;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},Tp=new RR;function PR(n){setTimeout(n,0)}var Rd=typeof window>"u"||"Deno"in globalThis;function sr(){}function NR(n,e){return typeof n=="function"?n(e):n}function kR(n){return typeof n=="number"&&n>=0&&n!==1/0}function DR(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Sp(n,e){return typeof n=="function"?n(e):n}function OR(n,e){return typeof n=="function"?n(e):n}function n0(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:a,queryKey:u,stale:h}=n;if(u){if(r){if(e.queryHash!==wm(u,e.options))return!1}else if(!ql(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||a&&!a(e))}function r0(n,e){const{exact:t,status:r,predicate:i,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Hl(e.options.mutationKey)!==Hl(a))return!1}else if(!ql(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function wm(n,e){return(e?.queryKeyHashFn||Hl)(n)}function Hl(n){return JSON.stringify(n,(e,t)=>Cp(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function ql(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>ql(n[t],e[t])):!1}var MR=Object.prototype.hasOwnProperty;function BE(n,e){if(n===e)return n;const t=s0(n)&&s0(e);if(!t&&!(Cp(n)&&Cp(e)))return e;const i=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),u=a.length,h=t?new Array(u):{};let f=0;for(let p=0;p<u;p++){const v=t?p:a[p],w=n[v],T=e[v];if(w===T){h[v]=w,(t?p<i:MR.call(n,v))&&f++;continue}if(w===null||T===null||typeof w!="object"||typeof T!="object"){h[v]=T;continue}const x=BE(w,T);h[v]=x,x===w&&f++}return i===u&&f===i?n:h}function s0(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Cp(n){if(!i0(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!i0(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function i0(n){return Object.prototype.toString.call(n)==="[object Object]"}function LR(n){return new Promise(e=>{Tp.setTimeout(e,n)})}function VR(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?BE(n,e):e}function jR(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function FR(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var _m=Symbol();function zE(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===_m?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var UR=class extends Ad{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Rd&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},$E=new UR;function BR(){let n,e;const t=new Promise((i,a)=>{n=i,e=a});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var zR=PR;function $R(){let n=[],e=0,t=h=>{h()},r=h=>{h()},i=zR;const a=h=>{e?n.push(h):i(()=>{t(h)})},u=()=>{const h=n;n=[],h.length&&i(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{a(()=>{h(...f)})},schedule:a,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{i=h}}}var an=$R(),HR=class extends Ad{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Rd&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},Zc=new HR;function qR(n){return Math.min(1e3*2**n,3e4)}function HE(n){return(n??"online")==="online"?Zc.isOnline():!0}var Ip=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function qE(n){let e=!1,t=0,r;const i=BR(),a=()=>i.status!=="pending",u=R=>{if(!a()){const I=new Ip(R);T(I),n.onCancel?.(I)}},h=()=>{e=!0},f=()=>{e=!1},p=()=>$E.isFocused()&&(n.networkMode==="always"||Zc.isOnline())&&n.canRun(),v=()=>HE(n.networkMode)&&n.canRun(),w=R=>{a()||(r?.(),i.resolve(R))},T=R=>{a()||(r?.(),i.reject(R))},x=()=>new Promise(R=>{r=I=>{(a()||p())&&R(I)},n.onPause?.()}).then(()=>{r=void 0,a()||n.onContinue?.()}),O=()=>{if(a())return;let R;const I=t===0?n.initialPromise:void 0;try{R=I??n.fn()}catch(j){R=Promise.reject(j)}Promise.resolve(R).then(w).catch(j=>{if(a())return;const U=n.retry??(Rd?0:3),B=n.retryDelay??qR,H=typeof B=="function"?B(t,j):B,ee=U===!0||typeof U=="number"&&t<U||typeof U=="function"&&U(t,j);if(e||!ee){T(j);return}t++,n.onFail?.(t,j),LR(H).then(()=>p()?void 0:x()).then(()=>{e?T(j):O()})})};return{promise:i,status:()=>i.status,cancel:u,continue:()=>(r?.(),i),cancelRetry:h,continueRetry:f,canStart:v,start:()=>(v()?O():x().then(O),i)}}var WE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kR(this.gcTime)&&(this.#e=Tp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Rd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Tp.clearTimeout(this.#e),this.#e=void 0)}},WR=class extends WE{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=a0(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=a0(this.options);t.data!==void 0&&(this.setState(o0(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=VR(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>OR(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_m||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Sp(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!DR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const f=zE(this.options,t),v=(()=>{const w={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(w),w})();return this.#a=!1,this.options.persister?this.options.persister(f,v,this):f(v)},h=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return i(f),f})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=qE({initialPromise:t?.initialPromise,fn:h.fetchFn,onCancel:f=>{f instanceof Ip&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Ip){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...KR(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...o0(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),an.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function KR(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HE(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function o0(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function a0(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function l0(n){return{onFetch:(e,t)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let v=!1;const w=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},T=zE(e.options,e.fetchOptions),x=async(O,R,I)=>{if(v)return Promise.reject();if(R==null&&O.pages.length)return Promise.resolve(O);const U=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:R,direction:I?"backward":"forward",meta:e.options.meta};return w(G),G})(),B=await T(U),{maxPages:H}=e.options,ee=I?FR:jR;return{pages:ee(O.pages,B,H),pageParams:ee(O.pageParams,R,H)}};if(i&&a.length){const O=i==="backward",R=O?GR:u0,I={pages:a,pageParams:u},j=R(r,I);h=await x(I,j,O)}else{const O=n??a.length;do{const R=f===0?u[0]??r.initialPageParam:u0(r,h);if(f>0&&R==null)break;h=await x(h,R),f++}while(f<O)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=p}}}function u0(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function GR(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var QR=class extends WE{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||YR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=qE({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,h)=>{this.#r({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",a=!this.#s.canStart();try{if(i)t();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:a})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#r({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#r({type:"error",error:u})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),an.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function YR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var JR=class extends Ad{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const r=new QR({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){this.#e.add(n);const e=Ic(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=Ic(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const r=t.indexOf(n);r!==-1&&t.splice(r,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Ic(n);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=Ic(n);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){an.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>r0(e,t))}findAll(n={}){return this.getAll().filter(e=>r0(n,e))}notify(n){an.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return an.batch(()=>Promise.all(n.map(e=>e.continue().catch(sr))))}};function Ic(n){return n.options.scope?.id}var XR=class extends Ad{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const r=e.queryKey,i=e.queryHash??wm(r,e);let a=this.get(i);return a||(a=new WR({client:n,queryKey:r,queryHash:i,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(a)),a}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){an.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>n0(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>n0(n,t)):e}notify(n){an.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){an.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},ZR=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(n={}){this.#e=n.queryCache||new XR,this.#t=n.mutationCache||new JR,this.#n=n.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=$E.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Zc.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Sp(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=this.#e.get(r.queryHash)?.state.data,u=NR(e,a);if(u!==void 0)return this.#e.build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return an.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;an.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return an.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=an.batch(()=>this.#e.findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(sr).catch(sr)}invalidateQueries(n,e={}){return an.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=an.batch(()=>this.#e.findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,t);return t.throwOnError||(a=a.catch(sr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(sr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Sp(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(sr).catch(sr)}fetchInfiniteQuery(n){return n.behavior=l0(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(sr).catch(sr)}ensureInfiniteQueryData(n){return n.behavior=l0(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Zc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#s.set(Hl(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(r=>{ql(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){this.#r.set(Hl(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(r=>{ql(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=wm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_m&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},eP=k.createContext(void 0),tP=({client:n,children:e})=>(k.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),_.jsx(eP.Provider,{value:n,children:e}));function Wl(){return Wl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wl.apply(this,arguments)}var oi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(oi||(oi={}));const c0="popstate";function nP(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:u,hash:h}=r.location;return bp("",{pathname:a,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ed(i)}return sP(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function KE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rP(){return Math.random().toString(36).substr(2,8)}function d0(n,e){return{usr:n.state,key:n.key,idx:e}}function bp(n,e,t,r){return t===void 0&&(t=null),Wl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ia(e):e,{state:t,key:e&&e.key||r||rP()})}function ed(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ia(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function sP(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,h=oi.Pop,f=null,p=v();p==null&&(p=0,u.replaceState(Wl({},u.state,{idx:p}),""));function v(){return(u.state||{idx:null}).idx}function w(){h=oi.Pop;let I=v(),j=I==null?null:I-p;p=I,f&&f({action:h,location:R.location,delta:j})}function T(I,j){h=oi.Push;let U=bp(R.location,I,j);p=v()+1;let B=d0(U,p),H=R.createHref(U);try{u.pushState(B,"",H)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign(H)}a&&f&&f({action:h,location:R.location,delta:1})}function x(I,j){h=oi.Replace;let U=bp(R.location,I,j);p=v();let B=d0(U,p),H=R.createHref(U);u.replaceState(B,"",H),a&&f&&f({action:h,location:R.location,delta:0})}function O(I){let j=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof I=="string"?I:ed(I);return U=U.replace(/ $/,"%20"),_t(j,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,j)}let R={get action(){return h},get location(){return n(i,u)},listen(I){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(c0,w),f=I,()=>{i.removeEventListener(c0,w),f=null}},createHref(I){return e(i,I)},createURL:O,encodeLocation(I){let j=O(I);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:x,go(I){return u.go(I)}};return R}var h0;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(h0||(h0={}));function iP(n,e,t){return t===void 0&&(t="/"),oP(n,e,t)}function oP(n,e,t,r){let i=typeof e=="string"?Ia(e):e,a=Em(i.pathname||"/",t);if(a==null)return null;let u=GE(n);aP(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=wP(a);h=gP(u[f],p)}return h}function GE(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(_t(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=li([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),GE(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:pP(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))i(a,u);else for(let f of QE(a.path))i(a,u,f)}),e}function QE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=QE(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function aP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const lP=/^:[\w-]+$/,uP=3,cP=2,dP=1,hP=10,fP=-2,f0=n=>n==="*";function pP(n,e){let t=n.split("/"),r=t.length;return t.some(f0)&&(r+=fP),e&&(r+=cP),t.filter(i=>!f0(i)).reduce((i,a)=>i+(lP.test(a)?uP:a===""?dP:hP),r)}function mP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function gP(n,e,t){let{routesMeta:r}=n,i={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=yP({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),T=f.route;if(!w)return null;Object.assign(i,w.params),u.push({params:i,pathname:li([a,w.pathname]),pathnameBase:TP(li([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=li([a,w.pathnameBase]))}return u}function yP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=vP(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,v,w)=>{let{paramName:T,isOptional:x}=v;if(T==="*"){let R=h[w]||"";u=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const O=h[w];return x&&!O?p[T]=void 0:p[T]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function vP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),KE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return KE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Em(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function _P(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ia(n):n;return{pathname:t?t.startsWith("/")?t:EP(t,e):e,search:SP(r),hash:CP(i)}}function EP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Rf(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xm(n,e){let t=xP(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Tm(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Ia(n):(i=Wl({},n),_t(!i.pathname||!i.pathname.includes("?"),Rf("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Rf("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Rf("#","search","hash",i)));let a=n===""||i.pathname==="",u=a?"/":i.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;i.pathname=T.join("/")}h=w>=0?e[w]:"/"}let f=_P(i,h),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}const li=n=>n.join("/").replace(/\/\/+/g,"/"),TP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function IP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const YE=["post","put","patch","delete"];new Set(YE);const bP=["get",...YE];new Set(bP);function Kl(){return Kl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kl.apply(this,arguments)}const Sm=k.createContext(null),AP=k.createContext(null),Ii=k.createContext(null),Pd=k.createContext(null),Kr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),JE=k.createContext(null);function RP(n,e){let{relative:t}=e===void 0?{}:e;ba()||_t(!1);let{basename:r,navigator:i}=k.useContext(Ii),{hash:a,pathname:u,search:h}=e1(n,{relative:t}),f=u;return r!=="/"&&(f=u==="/"?r:li([r,u])),i.createHref({pathname:f,search:h,hash:a})}function ba(){return k.useContext(Pd)!=null}function uo(){return ba()||_t(!1),k.useContext(Pd).location}function XE(n){k.useContext(Ii).static||k.useLayoutEffect(n)}function co(){let{isDataRoute:n}=k.useContext(Kr);return n?HP():PP()}function PP(){ba()||_t(!1);let n=k.useContext(Sm),{basename:e,future:t,navigator:r}=k.useContext(Ii),{matches:i}=k.useContext(Kr),{pathname:a}=uo(),u=JSON.stringify(xm(i,t.v7_relativeSplatPath)),h=k.useRef(!1);return XE(()=>{h.current=!0}),k.useCallback(function(p,v){if(v===void 0&&(v={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let w=Tm(p,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:li([e,w.pathname])),(v.replace?r.replace:r.push)(w,v.state,v)},[e,r,u,a,n])}const NP=k.createContext(null);function kP(n){let e=k.useContext(Kr).outlet;return e&&k.createElement(NP.Provider,{value:n},e)}function ZE(){let{matches:n}=k.useContext(Kr),e=n[n.length-1];return e?e.params:{}}function e1(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=k.useContext(Ii),{matches:i}=k.useContext(Kr),{pathname:a}=uo(),u=JSON.stringify(xm(i,r.v7_relativeSplatPath));return k.useMemo(()=>Tm(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function DP(n,e){return OP(n,e)}function OP(n,e,t,r){ba()||_t(!1);let{navigator:i}=k.useContext(Ii),{matches:a}=k.useContext(Kr),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=uo(),v;if(e){var w;let I=typeof e=="string"?Ia(e):e;f==="/"||(w=I.pathname)!=null&&w.startsWith(f)||_t(!1),v=I}else v=p;let T=v.pathname||"/",x=T;if(f!=="/"){let I=f.replace(/^\//,"").split("/");x="/"+T.replace(/^\//,"").split("/").slice(I.length).join("/")}let O=iP(n,{pathname:x}),R=FP(O&&O.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:li([f,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:li([f,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,t,r);return e&&R?k.createElement(Pd.Provider,{value:{location:Kl({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:oi.Pop}},R):R}function MP(){let n=$P(),e=IP(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:i},t):null,null)}const LP=k.createElement(MP,null);class VP extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?k.createElement(Kr.Provider,{value:this.props.routeContext},k.createElement(JE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jP(n){let{routeContext:e,match:t,children:r}=n,i=k.useContext(Sm);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Kr.Provider,{value:e},r)}function FP(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=(i=t)==null?void 0:i.errors;if(h!=null){let v=u.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);v>=0||_t(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=v),w.route.id){let{loaderData:T,errors:x}=t,O=w.route.loader&&T[w.route.id]===void 0&&(!x||x[w.route.id]===void 0);if(w.route.lazy||O){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((v,w,T)=>{let x,O=!1,R=null,I=null;t&&(x=h&&w.route.id?h[w.route.id]:void 0,R=w.route.errorElement||LP,f&&(p<0&&T===0?(qP("route-fallback"),O=!0,I=null):p===T&&(O=!0,I=w.route.hydrateFallbackElement||null)));let j=e.concat(u.slice(0,T+1)),U=()=>{let B;return x?B=R:O?B=I:w.route.Component?B=k.createElement(w.route.Component,null):w.route.element?B=w.route.element:B=v,k.createElement(jP,{match:w,routeContext:{outlet:v,matches:j,isDataRoute:t!=null},children:B})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?k.createElement(VP,{location:t.location,revalidation:t.revalidation,component:R,error:x,children:U(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):U()},null)}var t1=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(t1||{}),n1=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(n1||{});function UP(n){let e=k.useContext(Sm);return e||_t(!1),e}function BP(n){let e=k.useContext(AP);return e||_t(!1),e}function zP(n){let e=k.useContext(Kr);return e||_t(!1),e}function r1(n){let e=zP(),t=e.matches[e.matches.length-1];return t.route.id||_t(!1),t.route.id}function $P(){var n;let e=k.useContext(JE),t=BP(),r=r1();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function HP(){let{router:n}=UP(t1.UseNavigateStable),e=r1(n1.UseNavigateStable),t=k.useRef(!1);return XE(()=>{t.current=!0}),k.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Kl({fromRouteId:e},a)))},[n,e])}const p0={};function qP(n,e,t){p0[n]||(p0[n]=!0)}function WP(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Al(n){let{to:e,replace:t,state:r,relative:i}=n;ba()||_t(!1);let{future:a,static:u}=k.useContext(Ii),{matches:h}=k.useContext(Kr),{pathname:f}=uo(),p=co(),v=Tm(e,xm(h,a.v7_relativeSplatPath),f,i==="path"),w=JSON.stringify(v);return k.useEffect(()=>p(JSON.parse(w),{replace:t,state:r,relative:i}),[p,w,i,t,r]),null}function KP(n){return kP(n.context)}function Wn(n){_t(!1)}function GP(n){let{basename:e="/",children:t=null,location:r,navigationType:i=oi.Pop,navigator:a,static:u=!1,future:h}=n;ba()&&_t(!1);let f=e.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:f,navigator:a,static:u,future:Kl({v7_relativeSplatPath:!1},h)}),[f,h,a,u]);typeof r=="string"&&(r=Ia(r));let{pathname:v="/",search:w="",hash:T="",state:x=null,key:O="default"}=r,R=k.useMemo(()=>{let I=Em(v,f);return I==null?null:{location:{pathname:I,search:w,hash:T,state:x,key:O},navigationType:i}},[f,v,w,T,x,O,i]);return R==null?null:k.createElement(Ii.Provider,{value:p},k.createElement(Pd.Provider,{children:t,value:R}))}function QP(n){let{children:e,location:t}=n;return DP(Ap(e),t)}new Promise(()=>{});function Ap(n,e){e===void 0&&(e=[]);let t=[];return k.Children.forEach(n,(r,i)=>{if(!k.isValidElement(r))return;let a=[...e,i];if(r.type===k.Fragment){t.push.apply(t,Ap(r.props.children,a));return}r.type!==Wn&&_t(!1),!r.props.index||!r.props.children||_t(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ap(r.props.children,a)),t.push(u)}),t}function Rp(){return Rp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rp.apply(this,arguments)}function YP(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function JP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XP(n,e){return n.button===0&&(!e||e==="_self")&&!JP(n)}const ZP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e2="6";try{window.__reactRouterVersion=e2}catch{}const t2="startTransition",m0=x_[t2];function n2(n){let{basename:e,children:t,future:r,window:i}=n,a=k.useRef();a.current==null&&(a.current=nP({window:i,v5Compat:!0}));let u=a.current,[h,f]=k.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},v=k.useCallback(w=>{p&&m0?m0(()=>f(w)):f(w)},[f,p]);return k.useLayoutEffect(()=>u.listen(v),[u,v]),k.useEffect(()=>WP(r),[r]),k.createElement(GP,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:u,future:r})}const r2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s1=k.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:w}=e,T=YP(e,ZP),{basename:x}=k.useContext(Ii),O,R=!1;if(typeof p=="string"&&s2.test(p)&&(O=p,r2))try{let B=new URL(window.location.href),H=p.startsWith("//")?new URL(B.protocol+p):new URL(p),ee=Em(H.pathname,x);H.origin===B.origin&&ee!=null?p=ee+H.search+H.hash:R=!0}catch{}let I=RP(p,{relative:i}),j=i2(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:i,viewTransition:w});function U(B){r&&r(B),B.defaultPrevented||j(B)}return k.createElement("a",Rp({},T,{href:O||I,onClick:R||a?r:U,ref:t,target:f}))});var g0;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(g0||(g0={}));var y0;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(y0||(y0={}));function i2(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,f=co(),p=uo(),v=e1(n,{relative:u});return k.useCallback(w=>{if(XP(w,t)){w.preventDefault();let T=r!==void 0?r:ed(p)===ed(v);f(n,{replace:T,state:i,preventScrollReset:a,relative:u,viewTransition:h})}},[p,f,v,r,i,t,n,a,u,h])}const o2=()=>{};var v0={};const i1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},a2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],h=n[t++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},o1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,h=u?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,v=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|p>>6,x=p&63;f||(x=64,u||(T=64)),r.push(t[v],t[w],t[T],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(i1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):a2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||h==null||p==null||w==null)throw new l2;const T=a<<2|h>>4;if(r.push(T),p!==64){const x=h<<4&240|p>>2;if(r.push(x),w!==64){const O=p<<6&192|w;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class l2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u2=function(n){const e=i1(n);return o1.encodeByteArray(e,!0)},td=function(n){return u2(n).replace(/\./g,"")},a1=function(n){try{return o1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const d2=()=>c2().__FIREBASE_DEFAULTS__,h2=()=>{if(typeof process>"u"||typeof v0>"u")return;const n=v0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},f2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&a1(n[1]);return e&&JSON.parse(e)},Nd=()=>{try{return o2()||d2()||h2()||f2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},l1=n=>Nd()?.emulatorHosts?.[n],p2=n=>{const e=l1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},u1=()=>Nd()?.config,c1=n=>Nd()?.[`_${n}`];class m2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Aa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d1(n){return(await fetch(n,{credentials:"include"})).ok}function g2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[td(JSON.stringify(t)),td(JSON.stringify(u)),""].join(".")}const Ml={};function y2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?n.emulator.push(e):n.prod.push(e);return n}function v2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let w0=!1;function h1(n,e){if(typeof window>"u"||typeof document>"u"||!Aa(window.location.host)||Ml[n]===e||Ml[n]||w0)return;Ml[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=y2().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{w0=!0,u()},T}function v(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=v2(r),x=t("text"),O=document.getElementById(x)||document.createElement("span"),R=t("learnmore"),I=document.getElementById(R)||document.createElement("a"),j=t("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const B=T.element;h(B),v(I,R);const H=p();f(U,j),B.append(U,O,I,H),document.body.appendChild(B)}a?(O.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function _2(){const n=Nd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function T2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S2(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function C2(){return!_2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I2(){try{return typeof indexedDB=="object"}catch{return!1}}function b2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const A2="FirebaseError";class As extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=A2,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?R2(a,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new As(i,h,r)}}function R2(n,e){return n.replace(P2,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P2=/\{\$([^}]+)}/g;function N2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ro(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(_0(a)&&_0(u)){if(!ro(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function _0(n){return n!==null&&typeof n=="object"}function ou(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function k2(n,e){const t=new D2(n,e);return t.subscribe.bind(t)}class D2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");O2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Pf),i.error===void 0&&(i.error=Pf),i.complete===void 0&&(i.complete=Pf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Pf(){}function Gr(n){return n&&n._delegate?n._delegate:n}class so{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xi="[DEFAULT]";class M2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new m2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V2(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L2(n){return n===Xi?void 0:n}function V2(n){return n.instantiationMode==="EAGER"}class j2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new M2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const F2={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},U2=Ue.INFO,B2={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},z2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=B2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=U2,this._logHandler=z2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const $2=(n,e)=>e.some(t=>n instanceof t);let E0,x0;function H2(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q2(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f1=new WeakMap,Pp=new WeakMap,p1=new WeakMap,Nf=new WeakMap,Im=new WeakMap;function W2(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ui(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&f1.set(t,n)}).catch(()=>{}),Im.set(e,n),e}function K2(n){if(Pp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Pp.set(n,e)}let Np={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||p1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function G2(n){Np=n(Np)}function Q2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(kf(this),e,...t);return p1.set(r,e.sort?e.sort():[e]),ui(r)}:q2().includes(n)?function(...e){return n.apply(kf(this),e),ui(f1.get(this))}:function(...e){return ui(n.apply(kf(this),e))}}function Y2(n){return typeof n=="function"?Q2(n):(n instanceof IDBTransaction&&K2(n),$2(n,H2())?new Proxy(n,Np):n)}function ui(n){if(n instanceof IDBRequest)return W2(n);if(Nf.has(n))return Nf.get(n);const e=Y2(n);return e!==n&&(Nf.set(n,e),Im.set(e,n)),e}const kf=n=>Im.get(n);function J2(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),h=ui(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ui(u.result),f.oldVersion,f.newVersion,ui(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const X2=["get","getKey","getAll","getAllKeys","count"],Z2=["put","add","delete","clear"],Df=new Map;function T0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Z2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X2.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),i&&f.done]))[0]};return Df.set(e,a),a}G2(n=>({...n,get:(e,t,r)=>T0(e,t)||n.get(e,t,r),has:(e,t)=>!!T0(e,t)||n.has(e,t)}));class eN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function tN(n){return n.getComponent()?.type==="VERSION"}const kp="@firebase/app",S0="0.14.5";const Ss=new Cm("@firebase/app"),nN="@firebase/app-compat",rN="@firebase/analytics-compat",sN="@firebase/analytics",iN="@firebase/app-check-compat",oN="@firebase/app-check",aN="@firebase/auth",lN="@firebase/auth-compat",uN="@firebase/database",cN="@firebase/data-connect",dN="@firebase/database-compat",hN="@firebase/functions",fN="@firebase/functions-compat",pN="@firebase/installations",mN="@firebase/installations-compat",gN="@firebase/messaging",yN="@firebase/messaging-compat",vN="@firebase/performance",wN="@firebase/performance-compat",_N="@firebase/remote-config",EN="@firebase/remote-config-compat",xN="@firebase/storage",TN="@firebase/storage-compat",SN="@firebase/firestore",CN="@firebase/ai",IN="@firebase/firestore-compat",bN="firebase",AN="12.5.0";const Dp="[DEFAULT]",RN={[kp]:"fire-core",[nN]:"fire-core-compat",[sN]:"fire-analytics",[rN]:"fire-analytics-compat",[oN]:"fire-app-check",[iN]:"fire-app-check-compat",[aN]:"fire-auth",[lN]:"fire-auth-compat",[uN]:"fire-rtdb",[cN]:"fire-data-connect",[dN]:"fire-rtdb-compat",[hN]:"fire-fn",[fN]:"fire-fn-compat",[pN]:"fire-iid",[mN]:"fire-iid-compat",[gN]:"fire-fcm",[yN]:"fire-fcm-compat",[vN]:"fire-perf",[wN]:"fire-perf-compat",[_N]:"fire-rc",[EN]:"fire-rc-compat",[xN]:"fire-gcs",[TN]:"fire-gcs-compat",[SN]:"fire-fst",[IN]:"fire-fst-compat",[CN]:"fire-vertex","fire-js":"fire-js",[bN]:"fire-js-all"};const nd=new Map,PN=new Map,Op=new Map;function C0(n,e){try{n.container.addComponent(e)}catch(t){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ma(n){const e=n.name;if(Op.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,n);for(const t of nd.values())C0(t,n);for(const t of PN.values())C0(t,n);return!0}function bm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ir(n){return n==null?!1:n.settings!==void 0}const NN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new iu("app","Firebase",NN);class kN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const Ra=AN;function m1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Dp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(t||(t=u1()),!t)throw ci.create("no-options");const a=nd.get(i);if(a){if(ro(t,a.options)&&ro(r,a.config))return a;throw ci.create("duplicate-app",{appName:i})}const u=new j2(i);for(const f of Op.values())u.addComponent(f);const h=new kN(t,r,u);return nd.set(i,h),h}function g1(n=Dp){const e=nd.get(n);if(!e&&n===Dp&&u1())return m1();if(!e)throw ci.create("no-app",{appName:n});return e}function di(n,e,t){let r=RN[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(u.join(" "));return}ma(new so(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const DN="firebase-heartbeat-database",ON=1,Gl="firebase-heartbeat-store";let Of=null;function y1(){return Of||(Of=J2(DN,ON,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ci.create("idb-open",{originalErrorMessage:n.message})})),Of}async function MN(n){try{const t=(await y1()).transaction(Gl),r=await t.objectStore(Gl).get(v1(n));return await t.done,r}catch(e){if(e instanceof As)Ss.warn(e.message);else{const t=ci.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(t.message)}}}async function I0(n,e){try{const r=(await y1()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,v1(n)),await r.done}catch(t){if(t instanceof As)Ss.warn(t.message);else{const r=ci.create("idb-set",{originalErrorMessage:t?.message});Ss.warn(r.message)}}}function v1(n){return`${n.name}!${n.options.appId}`}const LN=1024,VN=30;class jN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=b0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>VN){const i=BN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b0(),{heartbeatsToSend:t,unsentEntries:r}=FN(this._heartbeatsCache.heartbeats),i=td(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ss.warn(e),""}}}function b0(){return new Date().toISOString().substring(0,10)}function FN(n,e=LN){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),A0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),A0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class UN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I2()?b2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function A0(n){return td(JSON.stringify({version:2,heartbeats:n})).length}function BN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function zN(n){ma(new so("platform-logger",e=>new eN(e),"PRIVATE")),ma(new so("heartbeat",e=>new jN(e),"PRIVATE")),di(kp,S0,n),di(kp,S0,"esm2020"),di("fire-js","")}zN("");function w1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $N=w1,_1=new iu("auth","Firebase",w1());const rd=new Cm("@firebase/auth");function HN(n,...e){rd.logLevel<=Ue.WARN&&rd.warn(`Auth (${Ra}): ${n}`,...e)}function Fc(n,...e){rd.logLevel<=Ue.ERROR&&rd.error(`Auth (${Ra}): ${n}`,...e)}function $r(n,...e){throw Rm(n,...e)}function jr(n,...e){return Rm(n,...e)}function Am(n,e,t){const r={...$N(),[e]:t};return new iu("auth","Firebase",r).create(e,{appName:n.name})}function hi(n){return Am(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&$r(n,"argument-error"),Am(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _1.create(n,...e)}function De(n,e,...t){if(!n)throw Rm(e,...t)}function vs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fc(e),new Error(e)}function Cs(n,e){n||vs(e)}function Mp(){return typeof self<"u"&&self.location?.href||""}function WN(){return R0()==="http:"||R0()==="https:"}function R0(){return typeof self<"u"&&self.location?.protocol||null}function KN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WN()||x2()||"connection"in navigator)?navigator.onLine:!0}function GN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class au{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cs(t>e,"Short delay should be less than long delay!"),this.isMobile=w2()||T2()}get(){return KN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pm(n,e){Cs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class E1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JN=new au(3e4,6e4);function Nm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Pa(n,e,t,r,i={}){return x1(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=ou({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return E2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Aa(n.emulatorConfig.host)&&(p.credentials="include"),E1.fetch()(await T1(n,n.config.apiHost,t,h),p)})}async function x1(n,e,t){n._canInitEmulator=!1;const r={...QN,...e};try{const i=new ZN(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw bc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw bc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw bc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Am(n,v,p);$r(n,v)}}catch(i){if(i instanceof As)throw i;$r(n,"network-request-failed",{message:String(i)})}}async function XN(n,e,t,r,i={}){const a=await Pa(n,e,t,r,i);return"mfaPendingCredential"in a&&$r(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function T1(n,e,t,r){const i=`${e}${t}?${r}`,a=n,u=a.config.emulator?Pm(n.config,i):`${n.config.apiScheme}://${i}`;return YN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class ZN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),JN.get())})}}function bc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=jr(n,e,r);return i.customData._tokenResponse=t,i}async function ek(n,e){return Pa(n,"POST","/v1/accounts:delete",e)}async function sd(n,e){return Pa(n,"POST","/v1/accounts:lookup",e)}function Ll(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tk(n,e=!1){const t=Gr(n),r=await t.getIdToken(e),i=km(r);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a?.sign_in_provider;return{claims:i,token:r,authTime:Ll(Mf(i.auth_time)),issuedAtTime:Ll(Mf(i.iat)),expirationTime:Ll(Mf(i.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Mf(n){return Number(n)*1e3}function km(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const i=a1(t);return i?JSON.parse(i):(Fc("Failed to decode base64 JWT payload"),null)}catch(i){return Fc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function P0(n){const e=km(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof As&&nk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function nk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class rk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function id(n){const e=n.auth,t=await n.getIdToken(),r=await Ql(n,sd(e,{idToken:t}));De(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?S1(i.providerUserInfo):[],u=ik(n.providerData,a),h=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!u?.length,p=h?f:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Lp(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function sk(n){const e=Gr(n);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ik(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function S1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function ok(n,e){const t=await x1(n,{},async()=>{const r=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=await T1(n,i,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&Aa(n.emulatorConfig.host)&&(f.credentials="include"),E1.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ak(n,e){return Pa(n,"POST","/v2/accounts:revokeToken",Nm(n,e))}class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=P0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await ok(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new la;return r&&(De(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(De(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return vs("not implemented")}}function ti(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new rk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Lp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tk(this,e)}reload(){return sk(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Ql(this,ek(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:x,providerData:O,stsTokenManager:R}=t;De(w&&R,e,"internal-error");const I=la.fromJSON(this.name,R);De(typeof w=="string",e,"internal-error"),ti(r,e.name),ti(i,e.name),De(typeof T=="boolean",e,"internal-error"),De(typeof x=="boolean",e,"internal-error"),ti(a,e.name),ti(u,e.name),ti(h,e.name),ti(f,e.name),ti(p,e.name),ti(v,e.name);const j=new ar({uid:w,auth:e,email:i,emailVerified:T,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:I,createdAt:p,lastLoginAt:v});return O&&Array.isArray(O)&&(j.providerData=O.map(U=>({...U}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,r=!1){const i=new la;i.updateFromServerResponse(t);const a=new ar({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await id(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];De(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?S1(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!a?.length,h=new la;h.updateFromIdToken(r);const f=new ar({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Lp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}const N0=new Map;function ws(n){Cs(n instanceof Function,"Expected a class definition");let e=N0.get(n);return e?(Cs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,N0.set(n,e),e)}class C1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}C1.type="NONE";const k0=C1;function Uc(n,e,t){return`firebase:${n}:${e}:${t}`}class ua{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Uc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Uc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sd(this.auth,{idToken:e}).catch(()=>{});return t?ar._fromGetAccountInfoResponse(this.auth,t,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ua(ws(k0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||ws(k0);const u=Uc(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(u);if(v){let w;if(typeof v=="string"){const T=await sd(e,{idToken:v}).catch(()=>{});if(!T)break;w=await ar._fromGetAccountInfoResponse(e,T,v)}else w=ar._fromJSON(e,v);p!==a&&(h=w),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ua(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ua(a,e,r))}}function D0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N1(e))return"Blackberry";if(k1(e))return"Webos";if(b1(e))return"Safari";if((e.includes("chrome/")||A1(e))&&!e.includes("edge/"))return"Chrome";if(P1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function I1(n=rn()){return/firefox\//i.test(n)}function b1(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A1(n=rn()){return/crios\//i.test(n)}function R1(n=rn()){return/iemobile/i.test(n)}function P1(n=rn()){return/android/i.test(n)}function N1(n=rn()){return/blackberry/i.test(n)}function k1(n=rn()){return/webos/i.test(n)}function Dm(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lk(n=rn()){return Dm(n)&&!!window.navigator?.standalone}function uk(){return S2()&&document.documentMode===10}function D1(n=rn()){return Dm(n)||P1(n)||k1(n)||N1(n)||/windows phone/i.test(n)||R1(n)}function O1(n,e=[]){let t;switch(n){case"Browser":t=D0(rn());break;case"Worker":t=`${D0(rn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ra}/${r}`}class ck{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function dk(n,e={}){return Pa(n,"GET","/v2/passwordPolicy",Nm(n,e))}const hk=6;class fk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??hk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class pk{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new ck(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ws(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ua.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sd(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ir(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(hi(this));const t=e?Gr(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dk(this),t=new fk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ak(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ws(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await ua.create(this,[ws(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kd(n){return Gr(n)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=k2(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mk(n){Om=n}function gk(n){return Om.loadJS(n)}function yk(){return Om.gapiScript}function vk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function wk(n,e){const t=bm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(ro(a,e??{}))return i;$r(i,"already-initialized")}return t.initialize({options:e})}function _k(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ws);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ek(n,e,t){const r=kd(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=M1(e),{host:u,port:h}=xk(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(ro(p,r.config.emulator)&&ro(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Aa(u)?(d1(`${a}//${u}${f}`),h1("Auth",!0)):Tk()}function M1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xk(n){const e=M1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:M0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:M0(u)}}}function M0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Tk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class L1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,t){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function ca(n,e){return XN(n,"POST","/v1/accounts:signInWithIdp",Nm(n,e))}const Sk="http://localhost";class io extends L1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const u=new io(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ca(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ca(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ca(e,t)}buildRequest(){const e={requestUri:Sk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ou(t)}return e}}class Mm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends Mm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ri extends lu{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";class gs extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return io._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gs.credential(t,r)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";class si extends lu{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.GITHUB_SIGN_IN_METHOD="github.com";si.PROVIDER_ID="github.com";class ii extends lu{constructor(){super("twitter.com")}static credential(e,t){return io._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ii.credential(t,r)}catch{return null}}}ii.TWITTER_SIGN_IN_METHOD="twitter.com";ii.PROVIDER_ID="twitter.com";class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ar._fromIdTokenResponse(e,r,i),u=L0(r);return new ga({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=L0(r);return new ga({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function L0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class od extends As{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new od(e,t,r,i)}}function V1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(n,a,e,r):a})}async function Ck(n,e,t=!1){const r=await Ql(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ga._forOperation(n,"link",r)}async function Ik(n,e,t=!1){const{auth:r}=n;if(ir(r.app))return Promise.reject(hi(r));const i="reauthenticate";try{const a=await Ql(n,V1(r,i,e,n),t);De(a.idToken,r,"internal-error");const u=km(a.idToken);De(u,r,"internal-error");const{sub:h}=u;return De(n.uid===h,r,"user-mismatch"),ga._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&$r(r,"user-mismatch"),a}}async function bk(n,e,t=!1){if(ir(n.app))return Promise.reject(hi(n));const r="signIn",i=await V1(n,r,e),a=await ga._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function Ak(n,e,t,r){return Gr(n).onIdTokenChanged(e,t,r)}function Rk(n,e,t){return Gr(n).beforeAuthStateChanged(e,t)}function Pk(n,e,t,r){return Gr(n).onAuthStateChanged(e,t,r)}function Nk(n){return Gr(n).signOut()}const ad="__sak";class j1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kk=1e3,Dk=10;class F1 extends j1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);uk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Dk):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},kk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}F1.type="LOCAL";const Ok=F1;class U1 extends j1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}U1.type="SESSION";const B1=U1;function Mk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Dd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await Mk(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];function Lm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class Lk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=Lm("",20);i.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(w){const T=w;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Fr(){return window}function Vk(n){Fr().location.href=n}function z1(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function jk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fk(){return navigator?.serviceWorker?.controller||null}function Uk(){return z1()?self:null}const $1="firebaseLocalStorageDb",Bk=1,ld="firebaseLocalStorage",H1="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Od(n,e){return n.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function zk(){const n=indexedDB.deleteDatabase($1);return new uu(n).toPromise()}function Vp(){const n=indexedDB.open($1,Bk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ld,{keyPath:H1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await zk(),e(await Vp()))})})}async function V0(n,e,t){const r=Od(n,!0).put({[H1]:e,value:t});return new uu(r).toPromise()}async function $k(n,e){const t=Od(n,!1).get(e),r=await new uu(t).toPromise();return r===void 0?null:r.value}function j0(n,e){const t=Od(n,!0).delete(e);return new uu(t).toPromise()}const Hk=800,qk=3;class q1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>qk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(Uk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jk(),!this.activeServiceWorker)return;this.sender=new Lk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Fk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vp();return await V0(e,ad,"1"),await j0(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>$k(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>j0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Od(i,!1).getAll();return new uu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q1.type="LOCAL";const Wk=q1;new au(3e4,6e4);function W1(n,e){return e?ws(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Vm extends L1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ca(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Kk(n){return bk(n.auth,new Vm(n),n.bypassAuthState)}function Gk(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),Ik(t,new Vm(n),n.bypassAuthState)}async function Qk(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),Ck(t,new Vm(n),n.bypassAuthState)}class K1{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kk;case"linkViaPopup":case"linkViaRedirect":return Qk;case"reauthViaPopup":case"reauthViaRedirect":return Gk;default:$r(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yk=new au(2e3,1e4);class ia extends K1{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yk.get())};e()}}ia.currentPopupAction=null;const Jk="pendingRedirect",Bc=new Map;class Xk extends K1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await Zk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zk(n,e){const t=Q1(e),r=G1(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function e4(n,e){return G1(n)._set(Q1(e),"true")}function t4(n,e){Bc.set(n._key(),e)}function G1(n){return ws(n._redirectPersistence)}function Q1(n){return Uc(Jk,n.config.apiKey,n.name)}function n4(n,e,t){return r4(n,e,t)}async function r4(n,e,t){if(ir(n.app))return Promise.reject(hi(n));const r=kd(n);qN(n,e,Mm),await r._initializationPromise;const i=W1(r,t);return await e4(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function s4(n,e,t=!1){if(ir(n.app))return Promise.reject(hi(n));const r=kd(n),i=W1(r,e),u=await new Xk(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const i4=600*1e3;class o4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Y1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(jr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i4&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(e))}saveEventToCache(e){this.cachedEventUids.add(F0(e)),this.lastProcessedEventTime=Date.now()}}function F0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Y1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function a4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y1(n);default:return!1}}async function l4(n,e={}){return Pa(n,"GET","/v1/projects",e)}const u4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c4=/^https?/;async function d4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await l4(n);for(const t of e)try{if(h4(t))return}catch{}$r(n,"unauthorized-domain")}function h4(n){const e=Mp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!c4.test(t))return!1;if(u4.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const f4=new au(3e4,6e4);function U0(){const n=Fr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function p4(n){return new Promise((e,t)=>{function r(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),t(jr(n,"network-request-failed"))},timeout:f4.get()})}if(Fr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fr().gapi?.load)r();else{const i=vk("iframefcb");return Fr()[i]=()=>{gapi.load?r():t(jr(n,"network-request-failed"))},gk(`${yk()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw zc=null,e})}let zc=null;function m4(n){return zc=zc||p4(n),zc}const g4=new au(5e3,15e3),y4="__/auth/iframe",v4="emulator/auth/iframe",w4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E4(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Pm(e,v4):`https://${n.config.authDomain}/${y4}`,r={apiKey:e.apiKey,appName:n.name,v:Ra},i=_4.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ou(r).slice(1)}`}async function x4(n){const e=await m4(n),t=Fr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:E4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w4,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=jr(n,"network-request-failed"),h=Fr().setTimeout(()=>{a(u)},g4.get());function f(){Fr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(u)})}))}const T4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S4=500,C4=600,I4="_blank",b4="http://localhost";class B0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A4(n,e,t,r=S4,i=C4){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...T4,width:r.toString(),height:i.toString(),top:a,left:u},p=rn().toLowerCase();t&&(h=A1(p)?I4:t),I1(p)&&(e=e||b4,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[x,O])=>`${T}${x}=${O},`,"");if(lk(p)&&h!=="_self")return R4(e||"",h),new B0(null);const w=window.open(e||"",h,v);De(w,n,"popup-blocked");try{w.focus()}catch{}return new B0(w)}function R4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const P4="__/auth/handler",N4="emulator/auth/handler",k4=encodeURIComponent("fac");async function z0(n,e,t,r,i,a){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ra,eventId:i};if(e instanceof Mm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",N2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof lu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),p=f?`#${k4}=${encodeURIComponent(f)}`:"";return`${D4(n)}?${ou(h).slice(1)}${p}`}function D4({config:n}){return n.emulator?Pm(n,N4):`https://${n.authDomain}/${P4}`}const Lf="webStorageSupport";class O4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B1,this._completeRedirectFn=s4,this._overrideRedirectResult=t4}async _openPopup(e,t,r,i){Cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await z0(e,t,r,Mp(),i);return A4(e,a,Lm())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await z0(e,t,r,Mp(),i);return Vk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Cs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await x4(e),r=new o4(e);return t.register("authEvent",i=>(De(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lf,{type:Lf},i=>{const a=i?.[0]?.[Lf];a!==void 0&&t(!!a),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=d4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return D1()||b1()||Dm()}}const M4=O4;var $0="@firebase/auth",H0="1.11.1";class L4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function V4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j4(n){ma(new so("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(n)},p=new pk(r,i,a,f);return _k(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ma(new so("auth-internal",e=>{const t=kd(e.getProvider("auth").getImmediate());return(r=>new L4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),di($0,H0,V4(n)),di($0,H0,"esm2020")}const F4=300,U4=c1("authIdTokenMaxAge")||F4;let q0=null;const B4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>U4)return;const i=t?.token;q0!==i&&(q0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z4(n=g1()){const e=bm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wk(n,{popupRedirectResolver:M4,persistence:[Wk,Ok,B1]}),r=c1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=B4(a.toString());Rk(t,u,()=>u(t.currentUser)),Ak(t,h=>u(h))}}const i=l1("auth");return i&&Ek(t,`http://${i}`),t}function $4(){return document.getElementsByTagName("head")?.[0]??document}mk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=jr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",$4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j4("Browser");var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fi,J1;(function(){var n;function e(N,C){function A(){}A.prototype=C.prototype,N.F=C.prototype,N.prototype=new A,N.prototype.constructor=N,N.D=function(L,D,M){for(var b=Array(arguments.length-2),X=2;X<arguments.length;X++)b[X-2]=arguments[X];return C.prototype[D].apply(L,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,C,A){A||(A=0);const L=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)L[D]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(D=0;D<16;++D)L[D]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=N.g[0],A=N.g[1],D=N.g[2];let M=N.g[3],b;b=C+(M^A&(D^M))+L[0]+3614090360&4294967295,C=A+(b<<7&4294967295|b>>>25),b=M+(D^C&(A^D))+L[1]+3905402710&4294967295,M=C+(b<<12&4294967295|b>>>20),b=D+(A^M&(C^A))+L[2]+606105819&4294967295,D=M+(b<<17&4294967295|b>>>15),b=A+(C^D&(M^C))+L[3]+3250441966&4294967295,A=D+(b<<22&4294967295|b>>>10),b=C+(M^A&(D^M))+L[4]+4118548399&4294967295,C=A+(b<<7&4294967295|b>>>25),b=M+(D^C&(A^D))+L[5]+1200080426&4294967295,M=C+(b<<12&4294967295|b>>>20),b=D+(A^M&(C^A))+L[6]+2821735955&4294967295,D=M+(b<<17&4294967295|b>>>15),b=A+(C^D&(M^C))+L[7]+4249261313&4294967295,A=D+(b<<22&4294967295|b>>>10),b=C+(M^A&(D^M))+L[8]+1770035416&4294967295,C=A+(b<<7&4294967295|b>>>25),b=M+(D^C&(A^D))+L[9]+2336552879&4294967295,M=C+(b<<12&4294967295|b>>>20),b=D+(A^M&(C^A))+L[10]+4294925233&4294967295,D=M+(b<<17&4294967295|b>>>15),b=A+(C^D&(M^C))+L[11]+2304563134&4294967295,A=D+(b<<22&4294967295|b>>>10),b=C+(M^A&(D^M))+L[12]+1804603682&4294967295,C=A+(b<<7&4294967295|b>>>25),b=M+(D^C&(A^D))+L[13]+4254626195&4294967295,M=C+(b<<12&4294967295|b>>>20),b=D+(A^M&(C^A))+L[14]+2792965006&4294967295,D=M+(b<<17&4294967295|b>>>15),b=A+(C^D&(M^C))+L[15]+1236535329&4294967295,A=D+(b<<22&4294967295|b>>>10),b=C+(D^M&(A^D))+L[1]+4129170786&4294967295,C=A+(b<<5&4294967295|b>>>27),b=M+(A^D&(C^A))+L[6]+3225465664&4294967295,M=C+(b<<9&4294967295|b>>>23),b=D+(C^A&(M^C))+L[11]+643717713&4294967295,D=M+(b<<14&4294967295|b>>>18),b=A+(M^C&(D^M))+L[0]+3921069994&4294967295,A=D+(b<<20&4294967295|b>>>12),b=C+(D^M&(A^D))+L[5]+3593408605&4294967295,C=A+(b<<5&4294967295|b>>>27),b=M+(A^D&(C^A))+L[10]+38016083&4294967295,M=C+(b<<9&4294967295|b>>>23),b=D+(C^A&(M^C))+L[15]+3634488961&4294967295,D=M+(b<<14&4294967295|b>>>18),b=A+(M^C&(D^M))+L[4]+3889429448&4294967295,A=D+(b<<20&4294967295|b>>>12),b=C+(D^M&(A^D))+L[9]+568446438&4294967295,C=A+(b<<5&4294967295|b>>>27),b=M+(A^D&(C^A))+L[14]+3275163606&4294967295,M=C+(b<<9&4294967295|b>>>23),b=D+(C^A&(M^C))+L[3]+4107603335&4294967295,D=M+(b<<14&4294967295|b>>>18),b=A+(M^C&(D^M))+L[8]+1163531501&4294967295,A=D+(b<<20&4294967295|b>>>12),b=C+(D^M&(A^D))+L[13]+2850285829&4294967295,C=A+(b<<5&4294967295|b>>>27),b=M+(A^D&(C^A))+L[2]+4243563512&4294967295,M=C+(b<<9&4294967295|b>>>23),b=D+(C^A&(M^C))+L[7]+1735328473&4294967295,D=M+(b<<14&4294967295|b>>>18),b=A+(M^C&(D^M))+L[12]+2368359562&4294967295,A=D+(b<<20&4294967295|b>>>12),b=C+(A^D^M)+L[5]+4294588738&4294967295,C=A+(b<<4&4294967295|b>>>28),b=M+(C^A^D)+L[8]+2272392833&4294967295,M=C+(b<<11&4294967295|b>>>21),b=D+(M^C^A)+L[11]+1839030562&4294967295,D=M+(b<<16&4294967295|b>>>16),b=A+(D^M^C)+L[14]+4259657740&4294967295,A=D+(b<<23&4294967295|b>>>9),b=C+(A^D^M)+L[1]+2763975236&4294967295,C=A+(b<<4&4294967295|b>>>28),b=M+(C^A^D)+L[4]+1272893353&4294967295,M=C+(b<<11&4294967295|b>>>21),b=D+(M^C^A)+L[7]+4139469664&4294967295,D=M+(b<<16&4294967295|b>>>16),b=A+(D^M^C)+L[10]+3200236656&4294967295,A=D+(b<<23&4294967295|b>>>9),b=C+(A^D^M)+L[13]+681279174&4294967295,C=A+(b<<4&4294967295|b>>>28),b=M+(C^A^D)+L[0]+3936430074&4294967295,M=C+(b<<11&4294967295|b>>>21),b=D+(M^C^A)+L[3]+3572445317&4294967295,D=M+(b<<16&4294967295|b>>>16),b=A+(D^M^C)+L[6]+76029189&4294967295,A=D+(b<<23&4294967295|b>>>9),b=C+(A^D^M)+L[9]+3654602809&4294967295,C=A+(b<<4&4294967295|b>>>28),b=M+(C^A^D)+L[12]+3873151461&4294967295,M=C+(b<<11&4294967295|b>>>21),b=D+(M^C^A)+L[15]+530742520&4294967295,D=M+(b<<16&4294967295|b>>>16),b=A+(D^M^C)+L[2]+3299628645&4294967295,A=D+(b<<23&4294967295|b>>>9),b=C+(D^(A|~M))+L[0]+4096336452&4294967295,C=A+(b<<6&4294967295|b>>>26),b=M+(A^(C|~D))+L[7]+1126891415&4294967295,M=C+(b<<10&4294967295|b>>>22),b=D+(C^(M|~A))+L[14]+2878612391&4294967295,D=M+(b<<15&4294967295|b>>>17),b=A+(M^(D|~C))+L[5]+4237533241&4294967295,A=D+(b<<21&4294967295|b>>>11),b=C+(D^(A|~M))+L[12]+1700485571&4294967295,C=A+(b<<6&4294967295|b>>>26),b=M+(A^(C|~D))+L[3]+2399980690&4294967295,M=C+(b<<10&4294967295|b>>>22),b=D+(C^(M|~A))+L[10]+4293915773&4294967295,D=M+(b<<15&4294967295|b>>>17),b=A+(M^(D|~C))+L[1]+2240044497&4294967295,A=D+(b<<21&4294967295|b>>>11),b=C+(D^(A|~M))+L[8]+1873313359&4294967295,C=A+(b<<6&4294967295|b>>>26),b=M+(A^(C|~D))+L[15]+4264355552&4294967295,M=C+(b<<10&4294967295|b>>>22),b=D+(C^(M|~A))+L[6]+2734768916&4294967295,D=M+(b<<15&4294967295|b>>>17),b=A+(M^(D|~C))+L[13]+1309151649&4294967295,A=D+(b<<21&4294967295|b>>>11),b=C+(D^(A|~M))+L[4]+4149444226&4294967295,C=A+(b<<6&4294967295|b>>>26),b=M+(A^(C|~D))+L[11]+3174756917&4294967295,M=C+(b<<10&4294967295|b>>>22),b=D+(C^(M|~A))+L[2]+718787259&4294967295,D=M+(b<<15&4294967295|b>>>17),b=A+(M^(D|~C))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(D+(b<<21&4294967295|b>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+M&4294967295}r.prototype.v=function(N,C){C===void 0&&(C=N.length);const A=C-this.blockSize,L=this.C;let D=this.h,M=0;for(;M<C;){if(D==0)for(;M<=A;)i(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<C;)if(L[D++]=N.charCodeAt(M++),D==this.blockSize){i(this,L),D=0;break}}else for(;M<C;)if(L[D++]=N[M++],D==this.blockSize){i(this,L),D=0;break}}this.h=D,this.o+=C},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var A=N.length-8;A<N.length;++A)N[A]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,A=0;A<4;++A)for(let L=0;L<32;L+=8)N[C++]=this.g[A]>>>L&255;return N};function a(N,C){var A=h;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=C(N)}function u(N,C){this.h=C;const A=[];let L=!0;for(let D=N.length-1;D>=0;D--){const M=N[D]|0;L&&M==C||(A[D]=M,L=!1)}this.g=A}var h={};function f(N){return-128<=N&&N<128?a(N,function(C){return new u([C|0],C<0?-1:0)}):new u([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return I(p(-N));const C=[];let A=1;for(let L=0;N>=A;L++)C[L]=N/A|0,A*=4294967296;return new u(C,0)}function v(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return I(v(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(C,8));let L=w;for(let M=0;M<N.length;M+=8){var D=Math.min(8,N.length-M);const b=parseInt(N.substring(M,M+D),C);D<8?(D=p(Math.pow(C,D)),L=L.j(D).add(p(b))):(L=L.j(A),L=L.add(p(b)))}return L}var w=f(0),T=f(1),x=f(16777216);n=u.prototype,n.m=function(){if(R(this))return-I(this).m();let N=0,C=1;for(let A=0;A<this.g.length;A++){const L=this.i(A);N+=(L>=0?L:4294967296+L)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(R(this))return"-"+I(this).toString(N);const C=p(Math.pow(N,6));var A=this;let L="";for(;;){const D=H(A,C).g;A=j(A,D.j(C));let M=((A.g.length>0?A.g[0]:A.h)>>>0).toString(N);if(A=D,O(A))return M+L;for(;M.length<6;)M="0"+M;L=M+L}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function R(N){return N.h==-1}n.l=function(N){return N=j(this,N),R(N)?-1:O(N)?0:1};function I(N){const C=N.g.length,A=[];for(let L=0;L<C;L++)A[L]=~N.g[L];return new u(A,~N.h).add(T)}n.abs=function(){return R(this)?I(this):this},n.add=function(N){const C=Math.max(this.g.length,N.g.length),A=[];let L=0;for(let D=0;D<=C;D++){let M=L+(this.i(D)&65535)+(N.i(D)&65535),b=(M>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);L=b>>>16,M&=65535,b&=65535,A[D]=b<<16|M}return new u(A,A[A.length-1]&-2147483648?-1:0)};function j(N,C){return N.add(I(C))}n.j=function(N){if(O(this)||O(N))return w;if(R(this))return R(N)?I(this).j(I(N)):I(I(this).j(N));if(R(N))return I(this.j(I(N)));if(this.l(x)<0&&N.l(x)<0)return p(this.m()*N.m());const C=this.g.length+N.g.length,A=[];for(var L=0;L<2*C;L++)A[L]=0;for(L=0;L<this.g.length;L++)for(let D=0;D<N.g.length;D++){const M=this.i(L)>>>16,b=this.i(L)&65535,X=N.i(D)>>>16,xe=N.i(D)&65535;A[2*L+2*D]+=b*xe,U(A,2*L+2*D),A[2*L+2*D+1]+=M*xe,U(A,2*L+2*D+1),A[2*L+2*D+1]+=b*X,U(A,2*L+2*D+1),A[2*L+2*D+2]+=M*X,U(A,2*L+2*D+2)}for(N=0;N<C;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=C;N<2*C;N++)A[N]=0;return new u(A,0)};function U(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function B(N,C){this.g=N,this.h=C}function H(N,C){if(O(C))throw Error("division by zero");if(O(N))return new B(w,w);if(R(N))return C=H(I(N),C),new B(I(C.g),I(C.h));if(R(C))return C=H(N,I(C)),new B(I(C.g),C.h);if(N.g.length>30){if(R(N)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var A=T,L=C;L.l(N)<=0;)A=ee(A),L=ee(L);var D=G(A,1),M=G(L,1);for(L=G(L,2),A=G(A,2);!O(L);){var b=M.add(L);b.l(N)<=0&&(D=D.add(A),M=b),L=G(L,1),A=G(A,1)}return C=j(N,D.j(C)),new B(D,C)}for(D=w;N.l(C)>=0;){for(A=Math.max(1,Math.floor(N.m()/C.m())),L=Math.ceil(Math.log(A)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),M=p(A),b=M.j(C);R(b)||b.l(N)>0;)A-=L,M=p(A),b=M.j(C);O(M)&&(M=T),D=D.add(M),N=j(N,b)}return new B(D,N)}n.B=function(N){return H(this,N).h},n.and=function(N){const C=Math.max(this.g.length,N.g.length),A=[];for(let L=0;L<C;L++)A[L]=this.i(L)&N.i(L);return new u(A,this.h&N.h)},n.or=function(N){const C=Math.max(this.g.length,N.g.length),A=[];for(let L=0;L<C;L++)A[L]=this.i(L)|N.i(L);return new u(A,this.h|N.h)},n.xor=function(N){const C=Math.max(this.g.length,N.g.length),A=[];for(let L=0;L<C;L++)A[L]=this.i(L)^N.i(L);return new u(A,this.h^N.h)};function ee(N){const C=N.g.length+1,A=[];for(let L=0;L<C;L++)A[L]=N.i(L)<<1|N.i(L-1)>>>31;return new u(A,N.h)}function G(N,C){const A=C>>5;C%=32;const L=N.g.length-A,D=[];for(let M=0;M<L;M++)D[M]=C>0?N.i(M+A)>>>C|N.i(M+A+1)<<32-C:N.i(M+A);return new u(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,J1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,fi=u}).apply(typeof W0<"u"?W0:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var X1,Rl,Z1,$c,jp,ex,tx,nx;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(c,y){if(y)e:{var E=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var W=c[P];if(!(W in E))break e;E=E[W]}c=c[c.length-1],P=E[c],y=y(P),y!=P&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(y){var E=[],P;for(P in y)Object.prototype.hasOwnProperty.call(y,P)&&E.push([P,y[P]]);return E}});var a=a||{},u=this||self;function h(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function f(c,y,E){return c.call.apply(c.bind,arguments)}function p(c,y,E){return p=f,p.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function w(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(P,W,Y){for(var ce=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ce[Me-2]=arguments[Me];return y.prototype[W].apply(P,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const y=c.length;if(y>0){const E=Array(y);for(let P=0;P<y;P++)E[P]=c[P];return E}return[]}function O(c,y){for(let P=1;P<arguments.length;P++){const W=arguments[P];var E=typeof W;if(E=E!="object"?E:W?Array.isArray(W)?"array":E:"null",E=="array"||E=="object"&&typeof W.length=="number"){E=c.length||0;const Y=W.length||0;c.length=E+Y;for(let ce=0;ce<Y;ce++)c[E+ce]=W[ce]}else c.push(W)}}class R{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function I(c){u.setTimeout(()=>{throw c},0)}function j(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,E){const P=B.get();P.set(y,E),this.h?this.h.next=P:this.g=P,this.h=P}}var B=new R(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,G=!1,N=new U,C=()=>{const c=Promise.resolve(void 0);ee=()=>{c.then(A)}};function A(){for(var c;c=j();){try{c.h.call(c.g)}catch(E){I(E)}var y=B;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}G=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};u.addEventListener("test",E,y),u.removeEventListener("test",E,y)}catch{}return c})();function b(c){return/^[\s\xa0]*$/.test(c)}function X(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}w(X,D),X.prototype.init=function(c,y){const E=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),ve=0;function ye(c,y,E,P,W){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!P,this.ha=W,this.key=++ve,this.da=this.fa=!1}function Z(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function te(c,y,E){for(const P in c)y.call(E,c[P],P,c)}function se(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function z(c){const y={};for(const E in c)y[E]=c[E];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(c,y){let E,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(E in P)c[E]=P[E];for(let Y=0;Y<J.length;Y++)E=J[Y],Object.prototype.hasOwnProperty.call(P,E)&&(c[E]=P[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,E,P,W){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ce=Pe(c,y,P,W);return ce>-1?(y=c[ce],E||(y.fa=!1)):(y=new ye(y,this.src,Y,!!P,W),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var P=c.g[E],W=Array.prototype.indexOf.call(P,y,void 0),Y;(Y=W>=0)&&Array.prototype.splice.call(P,W,1),Y&&(Z(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Pe(c,y,E,P){for(let W=0;W<c.length;++W){const Y=c[W];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==P)return W}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Re={};function Ve(c,y,E,P,W){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)Ve(c,y[Y],E,P,W);return null}return E=Jr(E),c&&c[xe]?c.J(y,E,h(P)?!!P.capture:!1,W):Ze(c,y,E,!1,P,W)}function Ze(c,y,E,P,W,Y){if(!y)throw Error("Invalid event type");const ce=h(W)?!!W.capture:!!W;let Me=Qr(c);if(Me||(c[pe]=Me=new he(c)),E=Me.add(y,E,P,ce,Y),E.proxy)return E;if(P=un(),E.proxy=P,P.src=c,P.listener=E,c.addEventListener)M||(W=ce),W===void 0&&(W=!1),c.addEventListener(y.toString(),P,W);else if(c.attachEvent)c.attachEvent(Rs(y.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function un(){function c(E){return y.call(c.src,c.listener,E)}const y=go;return c}function Kn(c,y,E,P,W){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Kn(c,y[Y],E,P,W);else P=h(P)?!!P.capture:!!P,E=Jr(E),c&&c[xe]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],E=Pe(y,E,P,W),E>-1&&(Z(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=Qr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Pe(y,E,P,W)),(E=c>-1?y[c]:null)&&Ht(E))}function Ht(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xe])Te(y.i,c);else{var E=c.type,P=c.proxy;y.removeEventListener?y.removeEventListener(E,P,c.capture):y.detachEvent?y.detachEvent(Rs(E),P):y.addListener&&y.removeListener&&y.removeListener(P),(E=Qr(y))?(Te(E,c),E.h==0&&(E.src=null,y[pe]=null)):Z(c)}}}function Rs(c){return c in Re?Re[c]:Re[c]="on"+c}function go(c,y){if(c.da)c=!0;else{y=new X(y,this);const E=c.listener,P=c.ha||c.src;c.fa&&Ht(c),c=E.call(P,y)}return c}function Qr(c){return c=c[pe],c instanceof he?c:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jr(c){return typeof c=="function"?c:(c[Yr]||(c[Yr]=function(y){return c.handleEvent(y)}),c[Yr])}function ht(){L.call(this),this.i=new he(this),this.M=this,this.G=null}w(ht,L),ht.prototype[xe]=!0,ht.prototype.removeEventListener=function(c,y,E,P){Kn(this,c,y,E,P)};function ot(c,y){var E,P=c.G;if(P)for(E=[];P;P=P.G)E.push(P);if(c=c.M,P=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var W=y;y=new D(P,c),de(y,W)}W=!0;let Y,ce;if(E)for(ce=E.length-1;ce>=0;ce--)Y=y.g=E[ce],W=Vt(Y,P,!0,y)&&W;if(Y=y.g=c,W=Vt(Y,P,!0,y)&&W,W=Vt(Y,P,!1,y)&&W,E)for(ce=0;ce<E.length;ce++)Y=y.g=E[ce],W=Vt(Y,P,!1,y)&&W}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let P=0;P<E.length;P++)Z(E[P]);delete c.g[y],c.h--}}this.G=null},ht.prototype.J=function(c,y,E,P){return this.i.add(String(c),y,!1,E,P)},ht.prototype.K=function(c,y,E,P){return this.i.add(String(c),y,!0,E,P)};function Vt(c,y,E,P){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let W=!0;for(let Y=0;Y<y.length;++Y){const ce=y[Y];if(ce&&!ce.da&&ce.capture==E){const Me=ce.listener,gt=ce.ha||ce.src;ce.fa&&Te(c.i,ce),W=Me.call(gt,P)!==!1&&W}}return W&&!P.defaultPrevented}function Ps(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(c,y||0)}function _n(c){c.g=Ps(()=>{c.g=null,c.i&&(c.i=!1,_n(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class yo extends L{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_n(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(c){L.call(this),this.h=c,this.g={}}w(dr,L);var Nt=[];function En(c){te(c.g,function(y,E){this.g.hasOwnProperty(E)&&Ht(y)},c),c.g={}}dr.prototype.N=function(){dr.Z.N.call(this),En(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=u.JSON.stringify,vo=u.JSON.parse,Mn=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function fr(){}function bi(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xn(){D.call(this,"d")}w(xn,D);function Ns(){D.call(this,"c")}w(Ns,D);var kt={},ks=null;function pr(){return ks=ks||new ht}kt.Ia="serverreachability";function Xr(c){D.call(this,kt.Ia,c)}w(Xr,D);function Vn(c){const y=pr();ot(y,new Xr(y))}kt.STAT_EVENT="statevent";function Gn(c,y){D.call(this,kt.STAT_EVENT,c),this.stat=y}w(Gn,D);function et(c){const y=pr();ot(y,new Gn(y,c))}kt.Ja="timingevent";function cn(c,y){D.call(this,kt.Ja,c),this.size=y}w(cn,D);function mr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},y)}function Ce(){this.g=!0}Ce.prototype.ua=function(){this.g=!1};function qe(c,y,E,P,W,Y){c.info(function(){if(c.g)if(Y){var ce="",Me=Y.split("&");for(let Je=0;Je<Me.length;Je++){var gt=Me[Je].split("=");if(gt.length>1){const xt=gt[0];gt=gt[1];const Rn=xt.split("_");ce=Rn.length>=2&&Rn[1]=="type"?ce+(xt+"="+gt+"&"):ce+(xt+"=redacted&")}}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+y+`
`+E+`
`+ce})}function Ye(c,y,E,P,W,Y,ce){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+y+`
`+E+`
`+Y+" "+ce})}function ft(c,y,E,P){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Wt(c,E)+(P?" "+P:"")})}function qt(c,y){c.info(function(){return"TIMEOUT: "+y})}Ce.prototype.info=function(){};function Wt(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var E=Y[c];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var W=P[0];if(W!="noop"&&W!="stop"&&W!="close")for(let ce=1;ce<P.length;ce++)P[ce]=""}}}}return hr(Y)}catch{return y}}var Kt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Et={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tn;function Zr(){}w(Zr,fr),Zr.prototype.g=function(){return new XMLHttpRequest},Tn=new Zr;function gr(c){return encodeURIComponent(String(c))}function wo(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function jn(c,y,E,P){this.j=c,this.i=y,this.l=E,this.S=P||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pu}function pu(){this.i=null,this.g="",this.h=!1}var mu={},Va={};function Qn(c,y,E){c.M=1,c.A=ts(Fn(y)),c.u=E,c.R=!0,ja(c,null)}function ja(c,y){c.F=Date.now(),Ai(c),c.B=Fn(c.A);var E=c.B,P=c.S;Array.isArray(P)||(P=[String(P)]),Ga(E.i,"t",P),c.C=0,E=c.j.L,c.h=new pu,c.g=Cu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new yo(p(c.Y,c,c.g),c.P)),y=c.V,E=c.g,P=c.ba;var W="readystatechange";Array.isArray(W)||(W&&(Nt[0]=W.toString()),W=Nt);for(let Y=0;Y<W.length;Y++){const ce=Ve(E,W[Y],P||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.J?z(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Vn(),qe(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Tr(c)==3?y.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const Me=Tr(this.g),gt=this.g.ya(),Je=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Tu(this.g)))){this.K||Me!=4||gt==7||(gt==8||Je<=0?Vn(3):Vn(2)),_o(this);var y=this.g.ca();this.X=y;var E=gu(this);if(this.o=y==200,Ye(this.i,this.v,this.B,this.l,this.S,Me,y),this.o){if(this.U&&!this.L){t:{if(this.g){var P,W=this.g;if((P=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(P)){var Y=P;break t}}Y=null}if(c=Y)ft(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,nt(this,c);else{this.o=!1,this.m=3,et(12),es(this),Ri(this);break e}}if(this.R){c=!0;let xt;for(;!this.K&&this.C<E.length;)if(xt=vu(this,E),xt==Va){Me==4&&(this.m=4,et(14),c=!1),ft(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==mu){this.m=4,et(15),ft(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else ft(this.i,this.l,xt,null),nt(this,xt);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||E.length!=0||this.h.h||(this.m=1,et(16),c=!1),this.o=this.o&&c,!c)ft(this.i,this.l,E,"[Invalid Chunked Response]"),es(this),Ri(this);else if(E.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ji(ce),ce.P=!0,et(11))}}else ft(this.i,this.l,E,null),nt(this,E);Me==4&&es(this),this.o&&!this.K&&(Me==4?Po(this.j,this):(this.o=!1,Ai(this)))}else Ya(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,et(12)):(this.m=0,et(13)),es(this),Ri(this)}}}catch{}finally{}};function gu(c){if(!yu(c))return c.g.la();const y=Tu(c.g);if(y==="")return"";let E="";const P=y.length,W=Tr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return es(c),Ri(c),"";c.h.i=new u.TextDecoder}for(let Y=0;Y<P;Y++)c.h.h=!0,E+=c.h.i.decode(y[Y],{stream:!(W&&Y==P-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vu(c,y){var E=c.C,P=y.indexOf(`
`,E);return P==-1?Va:(E=Number(y.substring(E,P)),isNaN(E)?mu:(P+=1,P+E>y.length?Va:(y=y.slice(P,P+E),c.C=P+E,y)))}jn.prototype.cancel=function(){this.K=!0,es(this)};function Ai(c){c.T=Date.now()+c.H,Fa(c,c.H)}function Fa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mr(p(c.aa,c),y)}function _o(c){c.D&&(u.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(qt(this.i,this.B),this.M!=2&&(Vn(),et(17)),es(this),this.m=2,Ri(this)):Fa(this,this.T-c)};function Ri(c){c.j.I==0||c.K||Po(c.j,c)}function es(c){_o(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,En(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function nt(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Ba(E.h,c))){if(!c.L&&Ba(E.h,c)&&E.I==3){try{var P=E.Ba.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ro(E),bn(E);else break e;Ir(E),et(18)}}else E.xa=W[1],0<E.xa-E.K&&W[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mr(p(E.Va,E),6e3));Pi(E.h)<=1&&E.ta&&(E.ta=void 0)}else An(E,11)}else if((c.L||E.g==c)&&Ro(E),!b(y))for(W=E.Ba.g.parse(y),y=0;y<W.length;y++){let Je=W[y];const xt=Je[0];if(!(xt<=E.K))if(E.K=xt,Je=Je[1],E.I==2)if(Je[0]=="c"){E.M=Je[1],E.ba=Je[2];const Rn=Je[3];Rn!=null&&(E.ka=Rn,E.j.info("VER="+E.ka));const os=Je[4];os!=null&&(E.za=os,E.j.info("SVER="+E.za));const br=Je[5];br!=null&&typeof br=="number"&&br>0&&(P=1.5*br,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Ar=c.g;if(Ar){const Do=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Do){var Y=P.h;Y.g||Do.indexOf("spdy")==-1&&Do.indexOf("quic")==-1&&Do.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(xo(Y,Y.h),Y.h=null))}if(P.G){const Za=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(P.wa=Za,Ge(P.J,P.G,Za))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var ce=c;if(P.na=Xa(P,P.L?P.ba:null,P.W),ce.L){Ni(P.h,ce);var Me=ce,gt=P.O;gt&&(Me.H=gt),Me.D&&(_o(Me),Ai(Me)),P.g=ce}else Gt(P);E.i.length>0&&is(E)}else Je[0]!="stop"&&Je[0]!="close"||An(E,7);else E.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?An(E,7):bo(E):Je[0]!="noop"&&E.l&&E.l.qa(Je),E.A=0)}}Vn(4)}catch{}}var Gd=class{constructor(c,y){this.g=c,this.map=y}};function Eo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pi(c){return c.h?1:c.g?c.g.size:0}function Ba(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function xo(c,y){c.g?c.g.add(y):c.h=y}function Ni(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Eo.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return x(c.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cn(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const P=c[E].indexOf("=");let W,Y=null;P>=0?(W=c[E].substring(0,P),Y=c[E].substring(P+1)):W=c[E],y(W,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function yr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yr?(this.l=c.l,ki(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,Ds(this,Qa(c.i)),this.m=c.m):c&&(y=String(c).match(wu))?(this.l=!1,ki(this,y[1]||"",!0),this.o=Di(y[2]||""),this.g=Di(y[3]||"",!0),vr(this,y[4]),this.h=Di(y[5]||"",!0),Ds(this,y[6]||"",!0),this.m=Di(y[7]||"")):(this.l=!1,this.i=new $e(null,this.l))}yr.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Oi(y,$a,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Oi(y,$a,!0),"@"),c.push(gr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Oi(E,E.charAt(0)=="/"?Mi:Ha,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Oi(E,qa)),c.join("")},yr.prototype.resolve=function(c){const y=Fn(this);let E=!!c.j;E?ki(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var P=c.h;if(E)vr(y,c.u);else if(E=!!c.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var W=y.h.lastIndexOf("/");W!=-1&&(P=y.h.slice(0,W+1)+P)}if(W=P,W==".."||W==".")P="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){P=W.lastIndexOf("/",0)==0,W=W.split("/");const Y=[];for(let ce=0;ce<W.length;){const Me=W[ce++];Me=="."?P&&ce==W.length&&Y.push(""):Me==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),P&&ce==W.length&&Y.push("")):(Y.push(Me),P=!0)}P=Y.join("/")}else P=W}return E?y.h=P:E=c.i.toString()!=="",E?Ds(y,Qa(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Fn(c){return new yr(c)}function ki(c,y,E){c.j=E?Di(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ds(c,y,E){y instanceof $e?(c.i=y,So(c.i,c.l)):(E||(y=Oi(y,Qd)),c.i=new $e(y,c.l))}function Ge(c,y,E){c.i.set(y,E)}function ts(c){return Ge(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Di(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Oi(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,za),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function za(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $a=/[#\/\?@]/g,Ha=/[#\?:]/g,Mi=/[#\?]/g,Qd=/[#\?@]/g,qa=/#/g;function $e(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wr(c){c.g||(c.g=new Map,c.h=0,c.i&&Cn(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=$e.prototype,n.add=function(c,y){wr(this),this.i=null,c=_r(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Wa(c,y){wr(c),y=_r(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function To(c,y){return wr(c),y=_r(c,y),c.g.has(y)}n.forEach=function(c,y){wr(this),this.g.forEach(function(E,P){E.forEach(function(W){c.call(y,W,P,this)},this)},this)};function Ka(c,y){wr(c);let E=[];if(typeof y=="string")To(c,y)&&(E=E.concat(c.g.get(_r(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}n.set=function(c,y){return wr(this),this.i=null,c=_r(this,c),To(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=Ka(this,c),c.length>0?String(c[0]):y):y};function Ga(c,y,E){Wa(c,y),E.length>0&&(c.i=null,c.g.set(_r(c,y),x(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let P=0;P<y.length;P++){var E=y[P];const W=gr(E);E=Ka(this,E);for(let Y=0;Y<E.length;Y++){let ce=W;E[Y]!==""&&(ce+="="+gr(E[Y])),c.push(ce)}}return this.i=c.join("&")};function Qa(c){const y=new $e;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function _r(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function So(c,y){y&&!c.j&&(wr(c),c.i=null,c.g.forEach(function(E,P){const W=P.toLowerCase();P!=W&&(Wa(this,P),Ga(this,W,E))},c)),c.j=y}function Er(c,y){const E=new Ce;if(u.Image){const P=new Image;P.onload=v(jt,E,"TestLoadImage: loaded",!0,y,P),P.onerror=v(jt,E,"TestLoadImage: error",!1,y,P),P.onabort=v(jt,E,"TestLoadImage: abort",!1,y,P),P.ontimeout=v(jt,E,"TestLoadImage: timeout",!1,y,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else y(!1)}function xr(c,y){const E=new Ce,P=new AbortController,W=setTimeout(()=>{P.abort(),jt(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:P.signal}).then(Y=>{clearTimeout(W),Y.ok?jt(E,"TestPingServer: ok",!0,y):jt(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),jt(E,"TestPingServer: error",!1,y)})}function jt(c,y,E,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(E)}catch{}}function Li(){this.g=new Mn}function ns(c){this.i=c.Sb||null,this.h=c.ab||!1}w(ns,fr),ns.prototype.g=function(){return new In(this.i,this.h)};function In(c,y){ht.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(In,ht),n=In.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_u(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _u(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Os(this):Yn(this),this.readyState==3&&_u(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Os(this))},n.Na=function(c){this.g&&(this.response=c,Os(this))},n.ga=function(){this.g&&Os(this)};function Os(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}n.setRequestHeader=function(c,y){this.A.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(In.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Eu(c){let y="";return te(c,function(E,P){y+=P,y+=":",y+=E,y+=`\r
`}),y}function Co(c,y,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Eu(E),typeof c=="string"?E!=null&&gr(E):Ge(c,y,E))}function Xe(c){ht.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xe,ht);var xu=/^https?$/i,Yd=["POST","PUT"];n=Xe.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,y,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tn.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Ms(this,Y);return}if(c=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)E.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Y of P.keys())E.set(Y,P.get(Y));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Yd,y,void 0)>=0)||P||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of E)this.g.setRequestHeader(Y,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Ms(this,Y)}};function Ms(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ls(c),ss(c)}function Ls(c){c.A||(c.A=!0,ot(c,"complete"),ot(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ot(this,"complete"),ot(this,"abort"),ss(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Xe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?rs(this):this.Xa())},n.Xa=function(){rs(this)};function rs(c){if(c.h&&typeof a<"u"){if(c.v&&Tr(c)==4)setTimeout(c.Ca.bind(c),0);else if(ot(c,"readystatechange"),Tr(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var P;if(P=Y===0){let ce=String(c.D).match(wu)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),P=!xu.test(ce?ce.toLowerCase():"")}E=P}if(E)ot(c,"complete"),ot(c,"success");else{c.o=6;try{var W=Tr(c)>2?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.ca()+"]",Ls(c)}}finally{ss(c)}}}}function ss(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||ot(c,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),vo(y)}};function Tu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(c){const y={};c=(c.g&&Tr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(b(c[P]))continue;var E=wo(c[P]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[W]||[];y[W]=Y,Y.push(E)}se(y,function(P){return P.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Io(c){this.za=0,this.i=[],this.j=new Ce,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sr("baseRetryDelayMs",5e3,c),this.Za=Sr("retryDelaySeedMs",1e4,c),this.Ta=Sr("forwardChannelMaxRetries",2,c),this.va=Sr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(c&&c.concurrentRequestLimit),this.Ba=new Li,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Io.prototype,n.ka=8,n.I=1,n.connect=function(c,y,E,P){et(0),this.W=c,this.H=y||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=Xa(this,null,this.W),is(this)};function bo(c){if(Ao(c),c.I==3){var y=c.V++,E=Fn(c.J);if(Ge(E,"SID",c.M),Ge(E,"RID",y),Ge(E,"TYPE","terminate"),Cr(c,E),y=new jn(c,c.j,y),y.M=2,y.A=ts(Fn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=y.A,E=!0),E||(y.g=Cu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ai(y)}Fi(c)}function bn(c){c.g&&(ji(c),c.g.cancel(),c.g=null)}function Ao(c){bn(c),c.v&&(u.clearTimeout(c.v),c.v=null),Ro(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function is(c){if(!Ua(c.h)&&!c.m){c.m=!0;var y=c.Ea;ee||C(),G||(ee(),G=!0),N.add(y,c),c.D=0}}function Su(c,y){return Pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mr(p(c.Ea,c,y),No(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const W=new jn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=z(Y),de(Y,this.U)):Y=this.U),this.u!==null||this.R||(W.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ja(this,W,y),E=Fn(this.J),Ge(E,"RID",c),Ge(E,"CVER",22),this.G&&Ge(E,"X-HTTP-Session-Id",this.G),Cr(this,E),Y&&(this.R?y="headers="+gr(Eu(Y))+"&"+y:this.u&&Co(E,this.u,Y)),xo(this.h,W),this.Ra&&Ge(E,"TYPE","init"),this.S?(Ge(E,"$req",y),Ge(E,"SID","null"),W.U=!0,Qn(W,E,null)):Qn(W,E,y),this.I=2}}else this.I==3&&(c?Vi(this,c):this.i.length==0||Ua(this.h)||Vi(this))};function Vi(c,y){var E;y?E=y.l:E=c.V++;const P=Fn(c.J);Ge(P,"SID",c.M),Ge(P,"RID",E),Ge(P,"AID",c.K),Cr(c,P),c.u&&c.o&&Co(P,c.u,c.o),E=new jn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ja(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,E),Qn(E,P,y)}function Cr(c,y){c.H&&te(c.H,function(E,P){Ge(y,P,E)}),c.l&&te({},function(E,P){Ge(y,P,E)})}function Ja(c,y,E){E=Math.min(c.i.length,E);const P=c.l?p(c.l.Ka,c.l,c):null;e:{var W=c.i;let Me=-1;for(;;){const gt=["count="+E];Me==-1?E>0?(Me=W[0].g,gt.push("ofs="+Me)):Me=0:gt.push("ofs="+Me);let Je=!0;for(let xt=0;xt<E;xt++){var Y=W[xt].g;const Rn=W[xt].map;if(Y-=Me,Y<0)Me=Math.max(0,W[xt].g-100),Je=!1;else try{Y="req"+Y+"_"||"";try{var ce=Rn instanceof Map?Rn:Object.entries(Rn);for(const[os,br]of ce){let Ar=br;h(br)&&(Ar=hr(br)),gt.push(Y+os+"="+encodeURIComponent(Ar))}}catch(os){throw gt.push(Y+"type="+encodeURIComponent("_badmap")),os}}catch{P&&P(Rn)}}if(Je){ce=gt.join("&");break e}}ce=void 0}return c=c.i.splice(0,E),y.G=c,ce}function Gt(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ee||C(),G||(ee(),G=!0),N.add(y,c),c.A=0}}function Ir(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mr(p(c.Da,c),No(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,Vs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mr(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,et(10),bn(this),Vs(this))};function ji(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function Vs(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Fn(c.na);Ge(y,"RID","rpc"),Ge(y,"SID",c.M),Ge(y,"AID",c.K),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ge(y,"TO",c.ia),Ge(y,"TYPE","xmlhttp"),Cr(c,y),c.u&&c.o&&Co(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ts(Fn(y)),E.u=null,E.R=!0,ja(E,c)}n.Va=function(){this.C!=null&&(this.C=null,bn(this),Ir(this),et(19))};function Ro(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function Po(c,y){var E=null;if(c.g==y){Ro(c),ji(c),c.g=null;var P=2}else if(Ba(c.h,y))E=y.G,Ni(c.h,y),P=1;else return;if(c.I!=0){if(y.o)if(P==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var W=c.D;P=pr(),ot(P,new cn(P,E)),is(c)}else Gt(c);else if(W=y.m,W==3||W==0&&y.X>0||!(P==1&&Su(c,y)||P==2&&Ir(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),W){case 1:An(c,5);break;case 4:An(c,10);break;case 3:An(c,6);break;default:An(c,2)}}}function No(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function An(c,y){if(c.j.info("Error code "+y),y==2){var E=p(c.bb,c),P=c.Ua;const W=!P;P=new yr(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ki(P,"https"),ts(P),W?Er(P.toString(),E):xr(P.toString(),E)}else et(2);c.I=0,c.l&&c.l.pa(y),Fi(c),Ao(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Fi(c){if(c.I=0,c.ja=[],c.l){const y=Sn(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ja,y),O(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function Xa(c,y,E){var P=E instanceof yr?Fn(E):new yr(E);if(P.g!="")y&&(P.g=y+"."+P.g),vr(P,P.u);else{var W=u.location;P=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;const Y=new yr(null);P&&ki(Y,P),y&&(Y.g=y),W&&vr(Y,W),E&&(Y.h=E),P=Y}return E=c.G,y=c.wa,E&&y&&Ge(P,E,y),Ge(P,"VER",c.ka),Cr(c,P),P}function Cu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new ns({ab:E})):new Xe(c.ma),y.Fa(c.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}n=Iu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ko(){}ko.prototype.g=function(c,y){return new Ft(c,y)};function Ft(c,y){ht.call(this),this.g=new Io(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!b(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!b(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new js(this)}w(Ft,ht),Ft.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){bo(this.g)},Ft.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=hr(c),c=E);y.i.push(new Gd(y.Ya++,c)),y.I==3&&is(y)},Ft.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,Ft.Z.N.call(this)};function bu(c){xn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}w(bu,xn);function Au(){Ns.call(this),this.status=1}w(Au,Ns);function js(c){this.g=c}w(js,Iu),js.prototype.ra=function(){ot(this.g,"a")},js.prototype.qa=function(c){ot(this.g,new bu(c))},js.prototype.pa=function(c){ot(this.g,new Au)},js.prototype.oa=function(){ot(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,nx=function(){return new ko},tx=function(){return pr()},ex=kt,jp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kt.NO_ERROR=0,Kt.TIMEOUT=8,Kt.HTTP_ERROR=6,$c=Kt,Et.COMPLETE="complete",Z1=Et,bi.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Rl=bi,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,X1=Xe}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const K0="@firebase/firestore",G0="4.9.2";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Na="12.3.0";const oo=new Cm("@firebase/firestore");function ta(){return oo.logLevel}function me(n,...e){if(oo.logLevel<=Ue.DEBUG){const t=e.map(jm);oo.debug(`Firestore (${Na}): ${n}`,...t)}}function Is(n,...e){if(oo.logLevel<=Ue.ERROR){const t=e.map(jm);oo.error(`Firestore (${Na}): ${n}`,...t)}}function ya(n,...e){if(oo.logLevel<=Ue.WARN){const t=e.map(jm);oo.warn(`Firestore (${Na}): ${n}`,...t)}}function jm(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,rx(n,r,t)}function rx(n,e,t){let r=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Is(r),new Error(r)}function Qe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||rx(e,i,r)}function Le(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends As{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class eo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class sx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(en.UNAUTHENTICATED)))}shutdown(){}}class q4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class W4{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new eo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new eo,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new eo)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new sx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class K4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new K4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Q0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Y4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Y4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Be(n,e){return n<e?-1:n>e?1:0}function Fp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return Vf(i)===Vf(a)?Be(i,a):Vf(i)?1:-1}return Be(n.length,e.length)}const J4=55296,X4=57343;function Vf(n){const e=n.charCodeAt(0);return e>=J4&&e<=X4}function va(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}const Y0="__name__";class Or{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Or.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Be(e.length,t.length)}static compareSegments(e,t){const r=Or.isNumericId(e),i=Or.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Or.extractNumericId(e).compare(Or.extractNumericId(t)):Fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}}class ct extends Or{construct(e,t,r){return new ct(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const Z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Or{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return Z4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new nn([Y0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(a(),i++)}if(a(),u)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ct.fromString(e))}static fromName(e){return new Ae(ct.fromString(e).popFirst(5))}static empty(){return new Ae(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ct(e.slice()))}}function eD(n,e,t){if(!t)throw new Se(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tD(n,e,t,r){if(e===!0&&r===!0)throw new Se(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function J0(n){if(!Ae.isDocumentKey(n))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nD(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function Vl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rD(n);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ct(n,e){const t={typeString:n};return e&&(t.value=e),t}function cu(n,e){if(!nD(n))throw new Se(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(i&&typeof u!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Se(oe.INVALID_ARGUMENT,t);return!0}const X0=-62135596800,Z0=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Z0);return new wt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Ct("string",wt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new wt(0,0))}static max(){return new Oe(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function sD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new wt(t+1,0):new wt(t,r));return new _i(i,Ae.empty(),e)}function iD(n){return new _i(n.readTime,n.key,Yl)}class _i{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _i(Oe.min(),Ae.empty(),Yl)}static max(){return new _i(Oe.max(),Ae.empty(),Yl)}}function oD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}const aD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ka(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==aD)throw n;me("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,r)=>{t(e)}))}static reject(e){return new ne(((t,r)=>{r(e)}))}static waitFor(e){return new ne(((t,r)=>{let i=0,a=0,u=!1;e.forEach((h=>{++i,h.next((()=>{++a,u&&a===i&&t()}),(f=>r(f)))})),u=!0,a===i&&t()}))}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next((i=>i?ne.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new ne(((r,i)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((v=>{u[p]=v,++h,h===a&&r(u)}),(v=>i(v)))}}))}static doWhile(e,t){return new ne(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function uD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Da(n){return n.name==="IndexedDbTransactionError"}class Md{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Md.ce=-1;const Um=-1;function Ld(n){return n==null}function Up(n){return n===0&&1/n==-1/0}const ix="";function cD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ew(e)),e=dD(n.get(t),e);return ew(e)}function dD(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case ix:t+="";break;default:t+=a}}return t}function ew(n){return n+ix+""}function tw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dt{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new zt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nw(this.data.getIterator())}getIteratorFrom(e){return new nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _s{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new _s([])}unionWith(e){let t=new Pt(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ox("Invalid base64 string: "+a):a}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const fD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=fD.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xi(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}const ax="server_timestamp",lx="__type__",ux="__previous_value__",cx="__local_write_time__";function Bm(n){return(n?.mapValue?.fields||{})[lx]?.stringValue===ax}function Vd(n){const e=n.mapValue.fields[ux];return Bm(e)?Vd(e):e}function Jl(n){const e=Ei(n.mapValue.fields[cx].timestampValue);return new wt(e.seconds,e.nanos)}class pD{constructor(e,t,r,i,a,u,h,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const ud="(default)";class Xl{constructor(e,t){this.projectId=e,this.database=t||ud}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===ud}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}const mD="__type__",gD="__max__",Pc={mapValue:{}},yD="__vector__",Bp="value";function Ti(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bm(n)?4:wD(n)?9007199254740991:vD(n)?10:11:Ne(28295,{value:n})}function Hr(n,e){if(n===e)return!0;const t=Ti(n);if(t!==Ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jl(n).isEqual(Jl(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Ei(i.timestampValue),h=Ei(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return xi(i.bytesValue).isEqual(xi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return vt(i.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return vt(i.integerValue)===vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=vt(i.doubleValue),h=vt(a.doubleValue);return u===h?Up(u)===Up(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return va(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},h=a.mapValue.fields||{};if(tw(u)!==tw(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Hr(u[f],h[f])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function Zl(n,e){return(n.values||[]).find((t=>Hr(t,e)))!==void 0}function wa(n,e){if(n===e)return 0;const t=Ti(n),r=Ti(e);if(t!==r)return Be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=vt(a.integerValue||a.doubleValue),f=vt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return rw(n.timestampValue,e.timestampValue);case 4:return rw(Jl(n),Jl(e));case 5:return Fp(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=xi(a),f=xi(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=Be(h[p],f[p]);if(v!==0)return v}return Be(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Be(vt(a.latitude),vt(u.latitude));return h!==0?h:Be(vt(a.longitude),vt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return sw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},p=h[Bp]?.arrayValue,v=f[Bp]?.arrayValue,w=Be(p?.values?.length||0,v?.values?.length||0);return w!==0?w:sw(p,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Pc.mapValue&&u===Pc.mapValue)return 0;if(a===Pc.mapValue)return 1;if(u===Pc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const T=Fp(f[w],v[w]);if(T!==0)return T;const x=wa(h[f[w]],p[v[w]]);if(x!==0)return x}return Be(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function rw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Ei(n),r=Ei(e),i=Be(t.seconds,r.seconds);return i!==0?i:Be(t.nanos,r.nanos)}function sw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=wa(t[i],r[i]);if(a)return a}return Be(t.length,r.length)}function _a(n){return zp(n)}function zp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ei(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return xi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=zp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${zp(t.fields[u])}`;return i+"}"})(n.mapValue):Ne(61005,{value:n})}function Hc(n){switch(Ti(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(n);return e?16+Hc(e):16;case 5:return 2*n.stringValue.length;case 6:return xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Hc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Oa(r.fields,((a,u)=>{i+=a.length+Hc(u)})),i})(n.mapValue);default:throw Ne(13486,{value:n})}}function $p(n){return!!n&&"integerValue"in n}function zm(n){return!!n&&"arrayValue"in n}function iw(n){return!!n&&"nullValue"in n}function ow(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qc(n){return!!n&&"mapValue"in n}function vD(n){return(n?.mapValue?.fields||{})[mD]?.stringValue===yD}function jl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Oa(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=jl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jl(n.arrayValue.values[t]);return e}return{...n}}function wD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gD}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(t)}setAll(e){let t=nn.emptyPath(),r={},i=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=jl(u):i.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());qc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Oa(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new or(jl(this.value))}}function dx(n){const e=[];return Oa(n.fields,((t,r)=>{const i=new nn([t]);if(qc(r)){const a=dx(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new _s(e)}class tn{constructor(e,t,r,i,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new tn(e,0,Oe.min(),Oe.min(),Oe.min(),or.empty(),0)}static newFoundDocument(e,t,r,i){return new tn(e,1,t,Oe.min(),r,i,0)}static newNoDocument(e,t){return new tn(e,2,t,Oe.min(),Oe.min(),or.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Oe.min(),Oe.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cd{constructor(e,t){this.position=e,this.inclusive=t}}function aw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(u.referenceValue),t.key):r=wa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function lw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}class dd{constructor(e,t="asc"){this.field=e,this.dir=t}}function _D(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hx{}class Rt extends hx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xD(e,t,r):t==="array-contains"?new CD(e,r):t==="in"?new ID(e,r):t==="not-in"?new bD(e,r):t==="array-contains-any"?new AD(e,r):new Rt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new TD(e,r):new SD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wa(t,this.value)):t!==null&&Ti(this.value)===Ti(t)&&this.matchesComparison(wa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends hx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new qr(e,t)}matches(e){return fx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fx(n){return n.op==="and"}function px(n){return ED(n)&&fx(n)}function ED(n){for(const e of n.filters)if(e instanceof qr)return!1;return!0}function Hp(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+_a(n.value);if(px(n))return n.filters.map((e=>Hp(e))).join(",");{const e=n.filters.map((t=>Hp(t))).join(",");return`${n.op}(${e})`}}function mx(n,e){return n instanceof Rt?(function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&Hr(r.value,i.value)})(n,e):n instanceof qr?(function(r,i){return i instanceof qr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,u,h)=>a&&mx(u,i.filters[h])),!0):!1})(n,e):void Ne(19439)}function gx(n){return n instanceof Rt?(function(t){return`${t.field.canonicalString()} ${t.op} ${_a(t.value)}`})(n):n instanceof qr?(function(t){return t.op.toString()+" {"+t.getFilters().map(gx).join(" ,")+"}"})(n):"Filter"}class xD extends Rt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class TD extends Rt{constructor(e,t){super(e,"in",t),this.keys=yx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class SD extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=yx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yx(n,e){return(e.arrayValue?.values||[]).map((t=>Ae.fromName(t.referenceValue)))}class CD extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zm(t)&&Zl(t.arrayValue,this.value)}}class ID extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zl(this.value.arrayValue,t)}}class bD extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zl(this.value.arrayValue,t)}}class AD extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class RD{constructor(e,t=null,r=[],i=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function uw(n,e=null,t=[],r=[],i=null,a=null,u=null){return new RD(n,e,t,r,i,a,u)}function $m(n){const e=Le(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Hp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>_a(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>_a(r))).join(",")),e.Te=t}return e.Te}function Hm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_D(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lw(n.startAt,e.startAt)&&lw(n.endAt,e.endAt)}function qp(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class jd{constructor(e,t=null,r=[],i=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PD(n,e,t,r,i,a,u,h){return new jd(n,e,t,r,i,a,u,h)}function qm(n){return new jd(n)}function cw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ND(n){return n.collectionGroup!==null}function Fl(n){const e=Le(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Pt(nn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new dd(a,r))})),t.has(nn.keyField().canonicalString())||e.Ie.push(new dd(nn.keyField(),r))}return e.Ie}function Ur(n){const e=Le(n);return e.Ee||(e.Ee=kD(e,Fl(n))),e.Ee}function kD(n,e){if(n.limitType==="F")return uw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new dd(i.field,a)}));const t=n.endAt?new cd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new cd(n.startAt.position,n.startAt.inclusive):null;return uw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Wp(n,e,t){return new jd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fd(n,e){return Hm(Ur(n),Ur(e))&&n.limitType===e.limitType}function vx(n){return`${$m(Ur(n))}|lt:${n.limitType}`}function na(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>gx(i))).join(", ")}]`),Ld(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>_a(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>_a(i))).join(",")),`Target(${r})`})(Ur(n))}; limitType=${n.limitType})`}function Ud(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of Fl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(u,h,f){const p=aw(u,h,f);return u.inclusive?p<=0:p<0})(r.startAt,Fl(r),i)||r.endAt&&!(function(u,h,f){const p=aw(u,h,f);return u.inclusive?p>=0:p>0})(r.endAt,Fl(r),i))})(n,e)}function DD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wx(n){return(e,t)=>{let r=!1;for(const i of Fl(n)){const a=OD(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function OD(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?wa(f,p):Ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:n.dir})}}class ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return hD(this.inner)}size(){return this.innerSize}}const MD=new dt(Ae.comparator);function bs(){return MD}const _x=new dt(Ae.comparator);function Pl(...n){let e=_x;for(const t of n)e=e.insert(t.key,t);return e}function Ex(n){let e=_x;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Zi(){return Ul()}function xx(){return Ul()}function Ul(){return new ho((n=>n.toString()),((n,e)=>n.isEqual(e)))}const LD=new dt(Ae.comparator),VD=new Pt(Ae.comparator);function ze(...n){let e=VD;for(const t of n)e=e.add(t);return e}const jD=new Pt(Be);function FD(){return jD}function UD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Up(e)?"-0":e}}function BD(n){return{integerValue:""+n}}class Bd{constructor(){this._=void 0}}function zD(n,e,t){return n instanceof hd?(function(i,a){const u={fields:{[lx]:{stringValue:ax},[cx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Bm(a)&&(a=Vd(a)),a&&(u.fields[ux]=a),{mapValue:u}})(t,e):n instanceof eu?Sx(n,e):n instanceof tu?Cx(n,e):(function(i,a){const u=Tx(i,a),h=dw(u)+dw(i.Ae);return $p(u)&&$p(i.Ae)?BD(h):UD(i.serializer,h)})(n,e)}function $D(n,e,t){return n instanceof eu?Sx(n,e):n instanceof tu?Cx(n,e):t}function Tx(n,e){return n instanceof fd?(function(r){return $p(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class hd extends Bd{}class eu extends Bd{constructor(e){super(),this.elements=e}}function Sx(n,e){const t=Ix(e);for(const r of n.elements)t.some((i=>Hr(i,r)))||t.push(r);return{arrayValue:{values:t}}}class tu extends Bd{constructor(e){super(),this.elements=e}}function Cx(n,e){let t=Ix(e);for(const r of n.elements)t=t.filter((i=>!Hr(i,r)));return{arrayValue:{values:t}}}class fd extends Bd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function dw(n){return vt(n.integerValue||n.doubleValue)}function Ix(n){return zm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HD(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof eu&&i instanceof eu||r instanceof tu&&i instanceof tu?va(r.elements,i.elements,Hr):r instanceof fd&&i instanceof fd?Hr(r.Ae,i.Ae):r instanceof hd&&i instanceof hd})(n.transform,e.transform)}class qD{constructor(e,t){this.version=e,this.transformResults=t}}class Es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class zd{}function bx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Wm(n.key,Es.none()):new $d(n.key,n.data,Es.none());{const t=n.data,r=or.empty();let i=new Pt(nn.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new Ma(n.key,r,new _s(i.toArray()),Es.none())}}function WD(n,e,t){n instanceof $d?(function(i,a,u){const h=i.value.clone(),f=fw(i.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Ma?(function(i,a,u){if(!Wc(i.precondition,a))return void a.convertToUnknownDocument(u.version);const h=fw(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Ax(i)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Bl(n,e,t,r){return n instanceof $d?(function(a,u,h,f){if(!Wc(a.precondition,u))return h;const p=a.value.clone(),v=pw(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ma?(function(a,u,h,f){if(!Wc(a.precondition,u))return h;const p=pw(a.fieldTransforms,f,u),v=u.data;return v.setAll(Ax(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,h){return Wc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function KD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Tx(r.transform,i||null);a!=null&&(t===null&&(t=or.empty()),t.set(r.field,a))}return t||null}function hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&va(r,i,((a,u)=>HD(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class $d extends zd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ma extends zd{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ax(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function fw(n,e,t){const r=new Map;Qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,h=e.data.field(a.field);r.set(a.field,$D(u,h,t[i]))}return r}function pw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,zD(a,u,e))}return r}class Wm extends zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&WD(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=xx();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(i.key)?null:h;const f=bx(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,((t,r)=>hw(t,r)))&&va(this.baseMutations,e.baseMutations,((t,r)=>hw(t,r)))}}class Km{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return LD})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Km(e,t,r,i)}}class YD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JD{constructor(e,t){this.count=e,this.unchangedNames=t}}var St,He;function XD(n){switch(n){case oe.OK:return Ne(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function Rx(n){if(n===void 0)return Is("GRPC error has no .code"),oe.UNKNOWN;switch(n){case St.OK:return oe.OK;case St.CANCELLED:return oe.CANCELLED;case St.UNKNOWN:return oe.UNKNOWN;case St.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case St.INTERNAL:return oe.INTERNAL;case St.UNAVAILABLE:return oe.UNAVAILABLE;case St.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case St.NOT_FOUND:return oe.NOT_FOUND;case St.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case St.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case St.ABORTED:return oe.ABORTED;case St.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case St.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case St.DATA_LOSS:return oe.DATA_LOSS;default:return Ne(39323,{code:n})}}(He=St||(St={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function ZD(){return new TextEncoder}const eO=new fi([4294967295,4294967295],0);function mw(n){const e=ZD().encode(n),t=new J1;return t.update(e),new Uint8Array(t.digest())}function gw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new fi([t,r],0),new fi([i,a],0)]}class Gm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nl(`Invalid padding: ${t}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fi.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(fi.fromNumber(r)));return i.compare(eO)===1&&(i=new fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=mw(e),[r,i]=gw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Gm(a,i,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=mw(e),[r,i]=gw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hd{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Hd(Oe.min(),i,new dt(Be),bs(),ze())}}class du{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new du(r,t,ze(),ze(),ze())}}class Kc{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class Px{constructor(e,t){this.targetId=e,this.Ce=t}}class Nx{constructor(e,t,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class yw{constructor(){this.ve=0,this.Fe=vw(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:a})}})),new du(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=vw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tO{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=Nc(),this.He=Nc(),this.Ye=new dt(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(qp(a))if(r===0){const u=new Ae(a.path);this.et(t,u,tn.newNoDocument(u,Oe.min()))}else Qe(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,h;try{u=xi(r).toUint8Array()}catch(f){if(f instanceof ox)return ya("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Gm(u,i,a)}catch(f){return ya(f instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&qp(h.target)){const f=new Ae(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,tn.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=ze();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const i=new Hd(e,t,this.Ye,this.je,r);return this.je=bs(),this.Je=Nc(),this.He=Nc(),this.Ye=new dt(Be),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new yw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Nc(){return new dt(Ae.comparator)}function vw(){return new dt(Ae.comparator)}const nO={asc:"ASCENDING",desc:"DESCENDING"},rO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sO={and:"AND",or:"OR"};class iO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kp(n,e){return n.useProto3Json||Ld(e)?e:{value:e}}function kx(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aO(n,e){return kx(n,e.toTimestamp())}function Br(n){return Qe(!!n,49232),Oe.fromTimestamp((function(t){const r=Ei(t);return new wt(r.seconds,r.nanos)})(n))}function Dx(n,e){return Gp(n,e).canonicalString()}function Gp(n,e){const t=(function(i){return new ct(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Ox(n){const e=ct.fromString(n);return Qe(Fx(e),10190,{key:e.toString()}),e}function Qp(n,e){return Dx(n.databaseId,e.path)}function jf(n,e){const t=Ox(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(Lx(t))}function Mx(n,e){return Dx(n.databaseId,e)}function lO(n){const e=Ox(n);return e.length===4?ct.emptyPath():Lx(e)}function Yp(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lx(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ww(n,e,t){return{name:Qp(n,e),fields:t.value.mapValue.fields}}function uO(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,v){return p.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),$t.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$t.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const v=p.code===void 0?oe.UNKNOWN:Rx(p.code);return new Se(v,p.message||"")})(u);t=new Nx(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jf(n,r.document.name),a=Br(r.document.updateTime),u=r.document.createTime?Br(r.document.createTime):Oe.min(),h=new or({mapValue:{fields:r.document.fields}}),f=tn.newFoundDocument(i,a,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];t=new Kc(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jf(n,r.document),a=r.readTime?Br(r.readTime):Oe.min(),u=tn.newNoDocument(i,a),h=r.removedTargetIds||[];t=new Kc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jf(n,r.document),a=r.removedTargetIds||[];t=new Kc([],a,i,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new JD(i,a),h=r.targetId;t=new Px(h,u)}}return t}function cO(n,e){let t;if(e instanceof $d)t={update:ww(n,e.key,e.value)};else if(e instanceof Wm)t={delete:Qp(n,e.key)};else if(e instanceof Ma)t={update:ww(n,e.key,e.data),updateMask:wO(e.fieldMask)};else{if(!(e instanceof GD))return Ne(16599,{Vt:e.type});t={verify:Qp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof hd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof eu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof tu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:aO(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne(27497)})(n,e.precondition)),t}function dO(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map((t=>(function(i,a){let u=i.updateTime?Br(i.updateTime):Br(a);return u.isEqual(Oe.min())&&(u=Br(a)),new qD(u,i.transformResults||[])})(t,e)))):[]}function hO(n,e){return{documents:[Mx(n,e.path)]}}function fO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Mx(n,i);const a=(function(p){if(p.length!==0)return jx(qr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((v=>(function(T){return{field:ra(T.field),direction:gO(T.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Kp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:i}}function pO(n){let e=lO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Qe(r===1,65062);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(w){const T=Vx(w);return T instanceof qr&&px(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((T=>(function(O){return new dd(sa(O.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(w){let T;return T=typeof w=="object"?w.value:w,Ld(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,x=w.values||[];return new cd(x,T)})(t.startAt));let p=null;return t.endAt&&(p=(function(w){const T=!w.before,x=w.values||[];return new cd(x,T)})(t.endAt)),PD(e,i,u,a,h,"F",f,p)}function mO(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Vx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=sa(t.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sa(t.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sa(t.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=sa(t.unaryFilter.field);return Rt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Rt.create(sa(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return qr.create(t.compositeFilter.filters.map((r=>Vx(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(n):Ne(30097,{filter:n})}function gO(n){return nO[n]}function yO(n){return rO[n]}function vO(n){return sO[n]}function ra(n){return{fieldPath:n.canonicalString()}}function sa(n){return nn.fromServerFormat(n.fieldPath)}function jx(n){return n instanceof Rt?(function(t){if(t.op==="=="){if(ow(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NAN"}};if(iw(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ow(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NOT_NAN"}};if(iw(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(t.field),op:yO(t.op),value:t.value}}})(n):n instanceof qr?(function(t){const r=t.getFilters().map((i=>jx(i)));return r.length===1?r[0]:{compositeFilter:{op:vO(t.op),filters:r}}})(n):Ne(54877,{filter:n})}function wO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Fx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ai{constructor(e,t,r,i,a=Oe.min(),u=Oe.min(),h=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _O{constructor(e){this.yt=e}}function EO(n){const e=pO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wp(e,e.limit,"L"):e}class xO{constructor(){this.Cn=new TO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(_i.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class TO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pt(ct.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(ct.comparator)).toArray()}}const _w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ux=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(Ux,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ea(0)}static cr(){return new Ea(-1)}}const Ew="LruGarbageCollector",SO=1048576;function xw([n,e],[t,r]){const i=Be(n,t);return i===0?Be(e,r):i}class CO{constructor(e){this.Ir=e,this.buffer=new Pt(xw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(Ew,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Da(t)?me(Ew,"Ignoring IndexedDB error during garbage collection: ",t):await ka(t)}await this.Vr(3e5)}))}}class bO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Md.ce);const r=new CO(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(_w)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_w):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,u=Date.now(),this.nthSequenceNumber(e,i)))).next((w=>(r=w,h=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),ta()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w}))))}}function AO(n,e){return new bO(n,e)}class RO{constructor(){this.changes=new ho((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class NO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Bl(r.mutation,i,_s.empty(),wt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const i=Zi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let u=Pl();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Zi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,i){let a=bs();const u=Ul(),h=(function(){return Ul()})();return t.forEach(((f,p)=>{const v=r.get(p.key);i.has(p.key)&&(v===void 0||v.mutation instanceof Ma)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Bl(v.mutation,p,v.mutation.getFieldMask(),wt.now())):u.set(p.key,_s.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,v)=>u.set(p,v))),t.forEach(((p,v)=>h.set(p,new PO(v,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Ul();let i=new dt(((u,h)=>u-h)),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||_s.empty();v=h.applyToLocalView(p,v),r.set(f,v);const w=(i.get(h.batchId)||ze()).add(f);i=i.insert(h.batchId,w)}))})).next((()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,w=xx();v.forEach((T=>{if(!a.has(T)){const x=bx(t.get(T),r.get(T));x!==null&&w.set(T,x),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ne.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ND(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ne.resolve(Zi());let h=Yl,f=a;return u.next((p=>ne.forEach(p,((v,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,ze()))).next((v=>({batchId:h,changes:Ex(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next((r=>{let i=Pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=Pl();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const p=(function(w,T){return new jd(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((v=>{v.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((u=>{a.forEach(((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,tn.newInvalidDocument(v)))}));let h=Pl();return u.forEach(((f,p)=>{const v=a.get(f);v!==void 0&&Bl(v.mutation,p,_s.empty(),wt.now()),Ud(t,p)&&(h=h.insert(f,p))})),h}))}}class kO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:EO(i.bundledQuery),readTime:Br(i.readTime)}})(t)),ne.resolve()}}class DO{constructor(){this.overlays=new dt(Ae.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zi();return ne.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),ne.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const i=Zi(),a=t.length+1,u=new Ae(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new dt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=Zi(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Zi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=i)););return ne.resolve(h)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new YD(t,r));let a=this.qr.get(t);a===void 0&&(a=ze(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}class OO{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}class Qm{constructor(){this.Qr=new Pt(Lt.$r),this.Ur=new Pt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Lt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Lt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ae(new ct([])),r=new Lt(t,e),i=new Lt(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ct([])),r=new Lt(t,e),i=new Lt(t,e+1);let a=ze();return this.Ur.forEachInRange([r,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Lt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}class MO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Lt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new QD(a,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Zr=this.Zr.add(new Lt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lt(t,0),i=new Lt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(u=>{const h=this.Xr(u.Yr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Be);return t.forEach((i=>{const a=new Lt(i,0),u=new Lt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const u=new Lt(new Ae(a),0);let h=new Pt(Be);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Yr)),!0)}),u),ne.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(t.mutations,(i=>{const a=new Lt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Lt(t,0),i=this.Zr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class LO{constructor(e){this.ri=e,this.docs=(function(){return new dt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let r=bs();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():tn.newInvalidDocument(i))})),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=bs();const u=t.path,h=new Ae(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||oD(iD(v),r)<=0||(i.has(v.key)||Ud(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ne(9500)}ii(e,t){return ne.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new VO(this)}getSize(e){return ne.resolve(this.size)}}class VO extends RO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class jO{constructor(e){this.persistence=e,this.si=new ho((t=>$m(t)),Hm),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=Ea.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ea(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),ne.waitFor(a).next((()=>i))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}class Bx{constructor(e,t){this.ui={},this.overlays={},this.ci=new Md(0),this.li=!1,this.li=!0,this.hi=new OO,this.referenceDelegate=e(this),this.Pi=new jO(this),this.indexManager=new xO,this.remoteDocumentCache=(function(i){return new LO(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _O(t),this.Ii=new kO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new MO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const i=new FO(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class FO extends lD{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Ym(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const i=Ae.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,Oe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class pd{constructor(e,t){this.persistence=e,this.pi=new ho((r=>cD(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=AO(this,t)}static mi(e,t){return new pd(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ne.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,t).next((h=>{h||(r++,a.removeEntry(u,Oe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hc(e.data.value)),t}br(e,t,r){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=ze(),i=ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Jm(e,t.fromCache,r,i)}}class UO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return C2()?8:uD(rn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new UO;return this.Ss(e,t,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(ta()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",na(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(ta()<=Ue.DEBUG&&me("QueryEngine","Query:",na(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ta()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",na(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):ne.resolve())}ys(e,t){if(cw(t))return ne.resolve(null);let r=Ur(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Wp(t,null,"F"),r=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=ze(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,h);return this.Cs(t,p,u,f.readTime)?this.ys(e,Wp(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,i){return cw(t)||i.isEqual(Oe.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,i)?ne.resolve(null):(ta()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(t)),this.vs(e,u,t,sD(i,Yl)).next((h=>h)))}))}Ds(e,t){let r=new Pt(wx(e));return t.forEach(((i,a)=>{Ud(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return ta()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",na(t)),this.ps.getDocumentsMatchingQuery(e,t,_i.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const Xm="LocalStore",zO=3e8;class $O{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new dt(Be),this.xs=new ho((a=>$m(a)),Hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function HO(n,e,t,r){return new $O(n,e,t,r)}async function zx(n,e){const t=Le(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=ze();for(const p of i){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function qO(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,v){const w=p.batch,T=w.keys();let x=ne.resolve();return T.forEach((O=>{x=x.next((()=>v.getEntry(f,O))).next((R=>{const I=p.docVersions.get(O);Qe(I!==null,48541),R.version.compareTo(I)<0&&(w.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),v.addEntry(R)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=ze();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function $x(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function WO(n,e){const t=Le(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const h=[];e.targetChanges.forEach(((v,w)=>{const T=i.get(w);if(!T)return;h.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(a,v.addedDocuments,w))));let x=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken($t.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),i=i.insert(w,x),(function(R,I,j){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=zO?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,x,v)&&h.push(t.Pi.updateTargetData(a,x))}));let f=bs(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(KO(a,u,e.documentUpdates).next((v=>{f=v.ks,p=v.qs}))),!r.isEqual(Oe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next((w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return ne.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=i,a)))}function KO(n,e,t){let r=ze(),i=ze();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=bs();return t.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):me(Xm,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:i}}))}function GO(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Um),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function QO(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,ne.resolve(i)):t.Pi.allocateTargetId(r).next((u=>(i=new ai(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Jp(n,e,t){const r=Le(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Da(u))throw u;me(Xm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Tw(n,e,t){const r=Le(n);let i=Oe.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,v){const w=Le(f),T=w.xs.get(v);return T!==void 0?ne.resolve(w.Ms.get(T)):w.Pi.getTargetData(p,v)})(r,u,Ur(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?i:Oe.min(),t?a:ze()))).next((h=>(YO(r,DD(e),h),{documents:h,Qs:a})))))}function YO(n,e,t){let r=n.Os.get(e)||Oe.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Sw{constructor(){this.activeTargetIds=FD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JO{constructor(){this.Mo=new Sw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XO{Oo(e){}shutdown(){}}const Cw="ConnectivityMonitor";class Iw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(Cw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(Cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function Xp(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Ff="RestConnection",ZO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ud?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const u=Xp(),h=this.zo(e,t.toUriEncodedString());me(Ff,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(h),v=Aa(p);return this.Jo(e,h,f,r,v).then((w=>(me(Ff,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw ya(Ff,`RPC '${e}' ${u} failed with error: `,w,"url: ",h,"request:",r),w}))}Ho(e,t,r,i,a,u){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Na})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=ZO[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class tM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class nM extends eM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const u=Xp();return new Promise(((h,f)=>{const p=new X1;p.setWithCredentials(!0),p.listenOnce(Z1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $c.NO_ERROR:const w=p.getResponseJson();me(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case $c.TIMEOUT:me(Zt,`RPC '${e}' ${u} timed out`),f(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const T=p.getStatus();if(me(Zt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x?.error;if(O&&O.status&&O.message){const R=(function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(U)>=0?U:oe.UNKNOWN})(O.status);f(new Se(R,O.message))}else f(new Se(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(Zt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(i);me(Zt,`RPC '${e}' ${u} sending request:`,i),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const i=Xp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nx(),h=tx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");me(Zt,`Creating RPC '${e}' stream ${i}: ${v}`,f);const w=u.createWebChannel(v,f);this.I_(w);let T=!1,x=!1;const O=new tM({Yo:I=>{x?me(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(T||(me(Zt,`Opening RPC '${e}' stream ${i} transport.`),w.open(),T=!0),me(Zt,`RPC '${e}' stream ${i} sending:`,I),w.send(I))},Zo:()=>w.close()}),R=(I,j,U)=>{I.listen(j,(B=>{try{U(B)}catch(H){setTimeout((()=>{throw H}),0)}}))};return R(w,Rl.EventType.OPEN,(()=>{x||(me(Zt,`RPC '${e}' stream ${i} transport opened.`),O.o_())})),R(w,Rl.EventType.CLOSE,(()=>{x||(x=!0,me(Zt,`RPC '${e}' stream ${i} transport closed`),O.a_(),this.E_(w))})),R(w,Rl.EventType.ERROR,(I=>{x||(x=!0,ya(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),O.a_(new Se(oe.UNAVAILABLE,"The operation could not be completed")))})),R(w,Rl.EventType.MESSAGE,(I=>{if(!x){const j=I.data[0];Qe(!!j,16349);const U=j,B=U?.error||U[0]?.error;if(B){me(Zt,`RPC '${e}' stream ${i} received error:`,B);const H=B.status;let ee=(function(C){const A=St[C];if(A!==void 0)return Rx(A)})(H),G=B.message;ee===void 0&&(ee=oe.INTERNAL,G="Unknown error status: "+H+" with message "+B.message),x=!0,O.a_(new Se(ee,G)),w.close()}else me(Zt,`RPC '${e}' stream ${i} received:`,j),O.u_(j)}})),R(h,ex.STAT_EVENT,(I=>{I.stat===jp.PROXY?me(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===jp.NOPROXY&&me(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Uf(){return typeof document<"u"?document:null}function Hx(n){return new iO(n,!0)}class qx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bw="PersistentStream";class Wx{constructor(e,t,r,i,a,u,h,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Is(t.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new Se(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(bw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(me(bw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rM extends Wx{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=uO(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Oe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Br(u.readTime):Oe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Yp(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=qp(f)?{documents:hO(a,f)}:{query:fO(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=oO(a,u.resumeToken);const p=Kp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Oe.min())>0){h.readTime=kx(a,u.snapshotVersion.toTimestamp());const p=Kp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=mO(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Yp(this.serializer),t.removeTarget=e,this.q_(t)}}class sM extends Wx{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=dO(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Yp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>cO(this.serializer,r)))};this.q_(t)}}class iM{}class oM extends iM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Gp(t,r),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(oe.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Gp(t,r),i,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ao="RemoteStore";class lM{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{fo(this)&&(me(ao,"Restarting streams for network reachability change."),await(async function(f){const p=Le(f);p.Ea.add(4),await hu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await qd(p)})(this))}))})),this.Ra=new aM(r,i)}}async function qd(n){if(fo(n))for(const e of n.da)await e(!0)}async function hu(n){for(const e of n.da)await e(!1)}function Kx(n,e){const t=Le(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ng(t)?tg(t):La(t).O_()&&eg(t,e))}function Zm(n,e){const t=Le(n),r=La(t);t.Ia.delete(e),r.O_()&&Gx(t,e),t.Ia.size===0&&(r.O_()?r.L_():fo(t)&&t.Ra.set("Unknown"))}function eg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}La(n).Y_(e)}function Gx(n,e){n.Va.Ue(e),La(n).Z_(e)}function tg(n){n.Va=new tO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),La(n).start(),n.Ra.ua()}function ng(n){return fo(n)&&!La(n).x_()&&n.Ia.size>0}function fo(n){return Le(n).Ea.size===0}function Qx(n){n.Va=void 0}async function uM(n){n.Ra.set("Online")}async function cM(n){n.Ia.forEach(((e,t)=>{eg(n,e)}))}async function dM(n,e){Qx(n),ng(n)?(n.Ra.ha(e),tg(n)):n.Ra.set("Unknown")}async function hM(n,e,t){if(n.Ra.set("Online"),e instanceof Nx&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Ia.delete(h),i.Va.removeTarget(h))})(n,e)}catch(r){me(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(n,r)}else if(e instanceof Kc?n.Va.Ze(e):e instanceof Px?n.Va.st(e):n.Va.tt(e),!t.isEqual(Oe.min()))try{const r=await $x(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(p);v&&a.Ia.set(p,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,p)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken($t.EMPTY_BYTE_STRING,v.snapshotVersion)),Gx(a,f);const w=new ai(v.target,f,p,v.sequenceNumber);eg(a,w)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){me(ao,"Failed to raise snapshot:",r),await md(n,r)}}async function md(n,e,t){if(!Da(e))throw e;n.Ea.add(1),await hu(n),n.Ra.set("Offline"),t||(t=()=>$x(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(ao,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await qd(n)}))}function Yx(n,e){return e().catch((t=>md(n,t,e)))}async function Wd(n){const e=Le(n),t=Si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;fM(e);)try{const i=await GO(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,pM(e,i)}catch(i){await md(e,i)}Jx(e)&&Xx(e)}function fM(n){return fo(n)&&n.Ta.length<10}function pM(n,e){n.Ta.push(e);const t=Si(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Jx(n){return fo(n)&&!Si(n).x_()&&n.Ta.length>0}function Xx(n){Si(n).start()}async function mM(n){Si(n).ra()}async function gM(n){const e=Si(n);for(const t of n.Ta)e.ea(t.mutations)}async function yM(n,e,t){const r=n.Ta.shift(),i=Km.from(r,e,t);await Yx(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Wd(n)}async function vM(n,e){e&&Si(n).X_&&await(async function(r,i){if((function(u){return XD(u)&&u!==oe.ABORTED})(i.code)){const a=r.Ta.shift();Si(r).B_(),await Yx(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Wd(r)}})(n,e),Jx(n)&&Xx(n)}async function Aw(n,e){const t=Le(n);t.asyncQueue.verifyOperationInProgress(),me(ao,"RemoteStore received new credentials");const r=fo(t);t.Ea.add(3),await hu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await qd(t)}async function wM(n,e){const t=Le(n);e?(t.Ea.delete(2),await qd(t)):e||(t.Ea.add(2),await hu(t),t.Ra.set("Unknown"))}function La(n){return n.ma||(n.ma=(function(t,r,i){const a=Le(t);return a.sa(),new rM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:uM.bind(null,n),t_:cM.bind(null,n),r_:dM.bind(null,n),H_:hM.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),ng(n)?tg(n):n.Ra.set("Unknown")):(await n.ma.stop(),Qx(n))}))),n.ma}function Si(n){return n.fa||(n.fa=(function(t,r,i){const a=Le(t);return a.sa(),new sM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:mM.bind(null,n),r_:vM.bind(null,n),ta:gM.bind(null,n),na:yM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Wd(n)):(await n.fa.stop(),n.Ta.length>0&&(me(ao,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class rg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,h=new rg(e,t,u,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(n,e){if(Is("AsyncQueue",`${e}: ${n}`),Da(n))return new Se(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class da{static emptySet(e){return new da(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=Pl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Rw{constructor(){this.ga=new dt(Ae.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class xa{constructor(e,t,r,i,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new xa(e,t,da.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class _M{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class EM{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Le(t),a=i.queries;i.queries=Pw(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new Se(oe.ABORTED,"Firestore shutting down"))}}function Pw(){return new ho((n=>vx(n)),Fd)}async function xM(n,e){const t=Le(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new _M,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=sg(u,`Initialization of query '${na(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&ig(t)}async function TM(n,e){const t=Le(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function SM(n,e){const t=Le(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(i)&&(r=!0);u.wa=i}}r&&ig(t)}function CM(n,e,t){const r=Le(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function ig(n){n.Ca.forEach((e=>{e.next()}))}var Zp,Nw;(Nw=Zp||(Zp={})).Ma="default",Nw.Cache="cache";class IM{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zp.Cache}}class Zx{constructor(e){this.key=e}}class eT{constructor(e){this.key=e}}class bM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=wx(e),this.tu=new da(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Rw,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,w)=>{const T=i.get(v),x=Ud(this.query,w)?w:null,O=!!T&&this.mutatedKeys.has(T.key),R=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;T&&x?T.data.isEqual(x.data)?O!==R&&(r.track({type:3,doc:x}),I=!0):this.su(T,x)||(r.track({type:2,doc:x}),I=!0,(f&&this.eu(x,f)>0||p&&this.eu(x,p)<0)&&(h=!0)):!T&&x?(r.track({type:0,doc:x}),I=!0):T&&!x&&(r.track({type:1,doc:T}),I=!0,(f||p)&&(h=!0)),I&&(x?(u=u.add(x),a=R?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,w)=>(function(x,O){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:I})}};return R(x)-R(O)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(r),i=i??!1;const h=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new xa(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new eT(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Zx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class AM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class RM{constructor(e){this.key=e,this.hu=!1}}class PM{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ho((h=>vx(h)),Fd),this.Iu=new Map,this.Eu=new Set,this.du=new dt(Ae.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=Ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NM(n,e,t=!0){const r=oT(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await tT(r,e,t,!0),i}async function kM(n,e){const t=oT(n);await tT(t,e,!0,!1)}async function tT(n,e,t,r){const i=await QO(n.localStore,Ur(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await DM(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&Kx(n.remoteStore,i),h}async function DM(n,e,t,r,i){n.pu=(w,T,x)=>(async function(R,I,j,U){let B=I.view.ru(j);B.Cs&&(B=await Tw(R.localStore,I.query,!1).then((({documents:N})=>I.view.ru(N,B))));const H=U&&U.targetChanges.get(I.targetId),ee=U&&U.targetMismatches.get(I.targetId)!=null,G=I.view.applyChanges(B,R.isPrimaryClient,H,ee);return Dw(R,I.targetId,G.au),G.snapshot})(n,w,T,x);const a=await Tw(n.localStore,e,!0),u=new bM(e,a.Qs),h=u.ru(a.documents),f=du.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=u.applyChanges(h,n.isPrimaryClient,f);Dw(n,t,p.au);const v=new AM(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function OM(n,e,t){const r=Le(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((u=>!Fd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Zm(r.remoteStore,i.targetId),em(r,i.targetId)})).catch(ka)):(em(r,i.targetId),await Jp(r.localStore,i.targetId,!0))}async function MM(n,e){const t=Le(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zm(t.remoteStore,r.targetId))}async function LM(n,e,t){const r=$M(n);try{const i=await(function(u,h){const f=Le(u),p=wt.now(),v=h.reduce(((x,O)=>x.add(O.key)),ze());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let O=bs(),R=ze();return f.Ns.getEntries(x,v).next((I=>{O=I,O.forEach(((j,U)=>{U.isValidDocument()||(R=R.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,O))).next((I=>{w=I;const j=[];for(const U of h){const B=KD(U,w.get(U.key).overlayedDocument);B!=null&&j.push(new Ma(U.key,B,dx(B.value.mapValue),Es.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,j,h)})).next((I=>{T=I;const j=I.applyToLocalDocumentSet(w,R);return f.documentOverlayCache.saveOverlays(x,I.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:Ex(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new dt(Be)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p})(r,i.batchId,t),await fu(r,i.changes),await Wd(r.remoteStore)}catch(i){const a=sg(i,"Failed to persist write");t.reject(a)}}async function nT(n,e){const t=Le(n);try{const r=await WO(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=t.Au.get(a);u&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?Qe(u.hu,14607):i.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await fu(t,r,e)}catch(r){await ka(r)}}function kw(n,e,t){const r=Le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(u,h){const f=Le(u);f.onlineState=h;let p=!1;f.queries.forEach(((v,w)=>{for(const T of w.Sa)T.va(h)&&(p=!0)})),p&&ig(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VM(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new dt(Ae.comparator);u=u.insert(a,tn.newNoDocument(a,Oe.min()));const h=ze().add(a),f=new Hd(Oe.min(),new Map,new dt(Be),u,h);await nT(r,f),r.du=r.du.remove(a),r.Au.delete(e),ag(r)}else await Jp(r.localStore,e,!1).then((()=>em(r,e,t))).catch(ka)}async function jM(n,e){const t=Le(n),r=e.batch.batchId;try{const i=await qO(t.localStore,e);sT(t,r,null),rT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await fu(t,i)}catch(i){await ka(i)}}async function FM(n,e,t){const r=Le(n);try{const i=await(function(u,h){const f=Le(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next((w=>(Qe(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(p,w)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);sT(r,e,t),rT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await fu(r,i)}catch(i){await ka(i)}}function rT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function sT(n,e,t){const r=Le(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function em(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||iT(n,r)}))}function iT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Zm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ag(n))}function Dw(n,e,t){for(const r of t)r instanceof Zx?(n.Ru.addReference(r.key,e),UM(n,r)):r instanceof eT?(me(og,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||iT(n,r.key)):Ne(19791,{wu:r})}function UM(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(me(og,"New document in limbo: "+t),n.Eu.add(r),ag(n))}function ag(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(ct.fromString(e)),r=n.fu.next();n.Au.set(r,new RM(t)),n.du=n.du.insert(t,r),Kx(n.remoteStore,new ai(Ur(qm(t.path)),r,"TargetPurposeLimboResolution",Md.ce))}}async function fu(n,e,t){const r=Le(n),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Jm.As(f.targetId,p);a.push(v)}})))})),await Promise.all(u),r.Pu.H_(i),await(async function(f,p){const v=Le(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(p,(T=>ne.forEach(T.Es,(x=>v.persistence.referenceDelegate.addReference(w,T.targetId,x))).next((()=>ne.forEach(T.ds,(x=>v.persistence.referenceDelegate.removeReference(w,T.targetId,x)))))))))}catch(w){if(!Da(w))throw w;me(Xm,"Failed to update sequence numbers: "+w)}for(const w of p){const T=w.targetId;if(!w.fromCache){const x=v.Ms.get(T),O=x.snapshotVersion,R=x.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(T,R)}}})(r.localStore,a))}async function BM(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){me(og,"User change. New user:",e.toKey());const r=await zx(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new Se(oe.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(t,r.Ls)}}function zM(n,e){const t=Le(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let i=ze();const a=t.Iu.get(e);if(!a)return i;for(const u of a){const h=t.Tu.get(u);i=i.unionWith(h.view.nu)}return i}}function oT(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VM.bind(null,e),e.Pu.H_=SM.bind(null,e.eventManager),e.Pu.yu=CM.bind(null,e.eventManager),e}function $M(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FM.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return HO(this.persistence,new BO,e.initialUser,this.serializer)}Cu(e){return new Bx(Ym.mi,this.serializer)}Du(e){return new JO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class HM extends gd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof pd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Bx((r=>pd.mi(r,t)),this.serializer)}}class tm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BM.bind(null,this.syncEngine),await wM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EM})()}createDatastore(e){const t=Hx(e.databaseInfo.databaseId),r=(function(a){return new nM(a)})(e.databaseInfo);return(function(a,u,h,f){return new oM(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,u,h){return new lM(r,i,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>kw(this.syncEngine,t,0)),(function(){return Iw.v()?new Iw:new XO})())}createSyncEngine(e,t){return(function(i,a,u,h,f,p,v){const w=new PM(i,a,u,h,f,p);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Le(t);me(ao,"RemoteStore shutting down."),r.Ea.add(5),await hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};class qM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ci="FirestoreClient";class WM{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{me(Ci,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(Ci,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bf(n,e){n.asyncQueue.verifyOperationInProgress(),me(Ci,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await zx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Ow(n,e){n.asyncQueue.verifyOperationInProgress();const t=await KM(n);me(Ci,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Aw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>Aw(e.remoteStore,i))),n._onlineComponents=e}async function KM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Ci,"Using user provided OfflineComponentProvider");try{await Bf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ya("Error using user provided cache. Falling back to memory cache: "+t),await Bf(n,new gd)}}else me(Ci,"Using default OfflineComponentProvider"),await Bf(n,new HM(void 0));return n._offlineComponents}async function aT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Ci,"Using user provided OnlineComponentProvider"),await Ow(n,n._uninitializedComponentsProvider._online)):(me(Ci,"Using default OnlineComponentProvider"),await Ow(n,new tm))),n._onlineComponents}function GM(n){return aT(n).then((e=>e.syncEngine))}async function Mw(n){const e=await aT(n),t=e.eventManager;return t.onListen=NM.bind(null,e.syncEngine),t.onUnlisten=OM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MM.bind(null,e.syncEngine),t}function lT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Lw=new Map;const uT="firestore.googleapis.com",Vw=!0;class jw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uT,this.ssl=Vw}else this.host=e.host,this.ssl=e.ssl??Vw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SO)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lg{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new H4;switch(r.type){case"firstParty":return new G4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Lw.get(t);r&&(me("ComponentProvider","Removing Datastore"),Lw.delete(t),r.terminate())})(this),Promise.resolve()}}function QM(n,e,t,r={}){n=Vl(n,lg);const i=Aa(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;i&&(d1(`https://${h}`),h1("Firestore",!0)),a.host!==uT&&a.host!==h&&ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:i,emulatorOptions:r};if(!ro(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=en.MOCK_USER;else{p=g2(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(w)}n._authCredentials=new q4(new sx(p,v))}}class Kd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kd(this.firestore,e,this._query)}}class ln{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(cu(t,ln._jsonSchema))return new ln(e,r||null,new Ae(ct.fromString(t.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Ct("string",ln._jsonSchemaVersion),referencePath:Ct("string")};class nu extends Kd{constructor(e,t,r){super(e,t,qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Ae(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function ug(n,e,...t){if(n=Gr(n),arguments.length===1&&(e=Fm.newId()),eD("doc","path",e),n instanceof lg){const r=ct.fromString(e,...t);return J0(r),new ln(n,null,new Ae(r))}{if(!(n instanceof ln||n instanceof nu))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return J0(r),new ln(n.firestore,n instanceof nu?n.converter:null,new Ae(r))}}const Fw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qx(this,"async_queue_retry"),this._c=()=>{const r=Uf();r&&me(Fw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Uf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new eo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Da(e))throw e;me(Fw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",Bw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=rg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ne(47125,{Pc:Bw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Bw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function zw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class yd extends lg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Uw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function YM(n,e){const t=typeof n=="object"?n:g1(),r=typeof n=="string"?n:ud,i=bm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=p2("firestore");a&&QM(i,...a)}return i}function cT(n){if(n._terminated)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JM(n),n._firestoreClient}function JM(n){const e=n._freezeSettings(),t=(function(i,a,u,h){return new pD(i,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new WM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(n._componentsProvider))}class Mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mr($t.fromBase64String(e))}catch(t){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mr($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Mr._jsonSchema))return Mr.fromBase64String(e.bytes)}}Mr._jsonSchemaVersion="firestore/bytes/1.0",Mr._jsonSchema={type:Ct("string",Mr._jsonSchemaVersion),bytes:Ct("string")};class dT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(cu(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:Ct("string",pi._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class mi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new mi(e.vectorValues);throw new Se(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Ct("string",mi._jsonSchemaVersion),vectorValues:Ct("object")};const XM=new RegExp("[~\\*/\\[\\]]");function ZM(n,e,t){if(e.search(XM)>=0)throw $w(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new dT(...e.split("."))._internalPath}catch{throw $w(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function $w(n,e,t,r,i){let a=`Function ${e}() called with invalid data`;a+=". ";let u="";return new Se(oe.INVALID_ARGUMENT,a+n+u)}class hT{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eL extends hT{data(){return super.data()}}function fT(n,e){return typeof e=="string"?ZM(n,e):e instanceof dT?e._internalPath:e._delegate._internalPath}function tL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nL{convertValue(e,t="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Oa(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Bp].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new mi(t)}convertGeoPoint(e){return new pi(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Vd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const t=Ei(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ct.fromString(e);Qe(Fx(r),9688,{name:e});const i=new Xl(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return i.isEqual(t)||Is(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class to extends hT{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=to._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:Ct("string",to._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Gc extends to{data(e={}){return super.data(e)}}class ha{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Gc(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((h=>{const f=new Gc(i._firestore,i._userDataWriter,h.doc.key,h.doc,new kl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Gc(i._firestore,i._userDataWriter,h.doc.key,h.doc,new kl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:rL(h.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:Ct("string",ha._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class pT extends nL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}function sL(n){return iL(Vl(n.firestore,yd),[new Wm(n._key,Es.none())])}function mT(n,...e){n=Gr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zw(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(zw(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,h;if(n instanceof ln)u=Vl(n.firestore,yd),h=qm(n._key.path),a={next:f=>{e[r]&&e[r](oL(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Vl(n,Kd);u=Vl(f.firestore,yd),h=f._query;const p=new pT(u);a={next:v=>{e[r]&&e[r](new ha(u,p,f,v))},error:e[r+1],complete:e[r+2]},tL(n._query)}return(function(p,v,w,T){const x=new qM(T),O=new IM(v,x,w);return p.asyncQueue.enqueueAndForget((async()=>xM(await Mw(p),O))),()=>{x.Nu(),p.asyncQueue.enqueueAndForget((async()=>TM(await Mw(p),O)))}})(cT(u),h,i,a)}function iL(n,e){return(function(r,i){const a=new eo;return r.asyncQueue.enqueueAndForget((async()=>LM(await GM(r),i,a))),a.promise})(cT(n),e)}function oL(n,e,t){const r=t.docs.get(e._key),i=new pT(n);return new to(n,i,e._key,r,new kl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Na=i})(Ra),ma(new so("firestore",((r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new yd(new W4(r.getProvider("auth-internal")),new Q4(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(p.options.projectId,v)})(u,i),u);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),di(K0,G0,e),di(K0,G0,"esm2020")})();var aL="firebase",lL="12.5.0";di(aL,lL,"app");const uL={projectId:"premium-ember-475717-c9",appId:"1:1095959694703:web:63f45d993a502db6536c9a",databaseURL:"https://premium-ember-475717-c9-default-rtdb.firebaseio.com",storageBucket:"premium-ember-475717-c9.firebasestorage.app",apiKey:"AIzaSyCtVj27tqS7r2f5Mt7R3bseu8v3xJ2A30M",authDomain:"premium-ember-475717-c9.firebaseapp.com",messagingSenderId:"1095959694703"},gT=m1(uL),cg=YM(gT),dg=z4(gT),Hw=async()=>{{console.error("VITE_API_BASE_URL is not defined. Cannot call backend logout.");return}};function cL(){const n=co(),e=uo(),[t,r]=k.useState(!1),i=async()=>{try{await Hw(),await Nk(dg),localStorage.clear(),sessionStorage.clear()}catch(f){console.error("Error during Google logout:",f)}},a=async()=>{try{await Hw(),await sL(ug(cg,"qrcodes","whatsapp-link"))}catch(f){console.error("Error disconnecting from WhatsApp:",f)}},u=e.pathname.startsWith("/chat")||e.pathname==="/chats",h=e.pathname.startsWith("/crm");return _.jsx("header",{className:"border-b border-border bg-background",children:_.jsxs("div",{className:"px-4 py-3",children:[_.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary",children:_.jsx(ys,{className:"h-5 w-5 text-primary-foreground"})}),_.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"WhatsApp"})]}),_.jsxs("div",{className:"flex items-center gap-2 relative",children:[_.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-secondary rounded-full transition-colors",children:_.jsx(X_,{className:"h-5 w-5 text-foreground"})}),t&&_.jsxs("div",{className:"absolute right-0 top-12 w-56 rounded-lg border border-border bg-card shadow-lg z-50 py-1",children:[_.jsxs("button",{onClick:a,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-secondary transition-colors",children:[_.jsx(Fv,{className:"h-4 w-4"}),"Cerrar sesin de WhatsApp"]}),_.jsx("div",{className:"my-1 h-px bg-border"}),_.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-destructive hover:bg-destructive/10 transition-colors",children:[_.jsx(Fv,{className:"h-4 w-4"}),"Cerrar sesin Global"]})]})]})]}),_.jsxs("div",{className:"flex gap-4 border-t border-border pt-3",children:[_.jsxs("button",{onClick:()=>n("/chats"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors ${u?"bg-primary/20 text-primary":"text-muted-foreground hover:text-foreground"}`,children:[_.jsx(ys,{className:"h-4 w-4"}),"Messages"]}),_.jsxs("button",{onClick:()=>n("/crm"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors ${h?"bg-primary/20 text-primary":"text-muted-foreground hover:text-foreground"}`,children:[_.jsx(GC,{className:"h-4 w-4"}),"CRM"]})]})]})})}function Dc({children:n}){return _.jsxs("div",{className:"flex h-screen flex-col bg-background",children:[_.jsx(cL,{}),_.jsx("div",{className:"flex flex-1 overflow-hidden",children:n})]})}function qw(){const[n,e]=k.useState(!1);co();const t=async()=>{e(!0);const r=new gs;try{await n4(dg,r)}catch(i){console.error("Error during Google sign-in:",i),e(!1)}};return _.jsxs("div",{className:"flex h-screen w-full bg-gradient-to-br from-background via-background to-primary/10",children:[_.jsxs("div",{className:"hidden lg:flex w-1/2 flex-col items-center justify-center bg-gradient-to-br from-primary/20 to-background/50 p-12",children:[_.jsx("div",{className:"mb-8 flex h-24 w-24 items-center justify-center rounded-full bg-primary/20 backdrop-blur-xl border border-primary/30",children:_.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary",children:_.jsx(ys,{className:"h-10 w-10 text-primary-foreground"})})}),_.jsx("h1",{className:"mb-4 text-5xl font-bold text-foreground",children:"WhatsApp"}),_.jsx("p",{className:"text-center text-lg text-muted-foreground",children:"Simple. Reliable. Messaging"}),_.jsxs("div",{className:"mt-12 space-y-4",children:[_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:"mt-1 flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:_.jsx(ys,{className:"h-4 w-4 text-primary"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-foreground",children:"Instant Messaging"}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Send messages instantly"})]})]}),_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:"mt-1 flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:_.jsx(ys,{className:"h-4 w-4 text-primary"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-foreground",children:"End-to-End Encrypted"}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Your messages are private"})]})]})]})]}),_.jsx("div",{className:"flex w-full lg:w-1/2 flex-col items-center justify-center p-6 sm:p-12",children:_.jsxs("div",{className:"w-full max-w-md",children:[_.jsxs("div",{className:"mb-8 flex lg:hidden flex-col items-center",children:[_.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary",children:_.jsx(ys,{className:"h-8 w-8 text-primary-foreground"})}),_.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"WhatsApp"})]}),_.jsxs("div",{className:"mb-8 text-center",children:[_.jsx("h2",{className:"mb-2 text-2xl font-bold text-foreground",children:"Sign In"}),_.jsx("p",{className:"text-muted-foreground",children:"Use your Google account to get started"})]}),_.jsxs("button",{onClick:t,disabled:n,className:"mb-6 w-full flex items-center justify-center gap-3 rounded-lg border border-border bg-card px-4 py-3 font-medium text-foreground transition-colors hover:bg-secondary disabled:opacity-50",children:[_.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[_.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),_.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),_.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),_.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n?"Redirecting...":"Sign in with Google"]}),_.jsx("div",{className:"mt-8 border-t border-border pt-6 text-center text-xs text-muted-foreground",children:_.jsx("p",{children:"By signing in, you agree to our Terms of Service"})})]})})]})}var ea={},zf,Ww;function dL(){return Ww||(Ww=1,zf=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),zf}var $f={},ni={},Kw;function po(){if(Kw)return ni;Kw=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ni.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},ni.getSymbolTotalCodewords=function(r){return e[r]},ni.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},ni.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},ni.isKanjiModeEnabled=function(){return typeof n<"u"},ni.toSJIS=function(r){return n(r)},ni}var Hf={},Gw;function hg(){return Gw||(Gw=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(Hf)),Hf}var qf,Qw;function hL(){if(Qw)return qf;Qw=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},qf=n,qf}var Wf,Yw;function fL(){if(Yw)return Wf;Yw=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const a=e*this.size+t;this.data[a]=r,i&&(this.reservedBit[a]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Wf=n,Wf}var Kf={},Jw;function pL(){return Jw||(Jw=1,(function(n){const e=po().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=e(r),u=a===145?26:Math.ceil((a-13)/(2*i-2))*2,h=[a-7];for(let f=1;f<i-1;f++)h[f]=h[f-1]-u;return h.push(6),h.reverse()},n.getPositions=function(r){const i=[],a=n.getRowColCoords(r),u=a.length;for(let h=0;h<u;h++)for(let f=0;f<u;f++)h===0&&f===0||h===0&&f===u-1||h===u-1&&f===0||i.push([a[h],a[f]]);return i}})(Kf)),Kf}var Gf={},Xw;function mL(){if(Xw)return Gf;Xw=1;const n=po().getSymbolSize,e=7;return Gf.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},Gf}var Qf={},Zw;function gL(){return Zw||(Zw=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const a=i.size;let u=0,h=0,f=0,p=null,v=null;for(let w=0;w<a;w++){h=f=0,p=v=null;for(let T=0;T<a;T++){let x=i.get(w,T);x===p?h++:(h>=5&&(u+=e.N1+(h-5)),p=x,h=1),x=i.get(T,w),x===v?f++:(f>=5&&(u+=e.N1+(f-5)),v=x,f=1)}h>=5&&(u+=e.N1+(h-5)),f>=5&&(u+=e.N1+(f-5))}return u},n.getPenaltyN2=function(i){const a=i.size;let u=0;for(let h=0;h<a-1;h++)for(let f=0;f<a-1;f++){const p=i.get(h,f)+i.get(h,f+1)+i.get(h+1,f)+i.get(h+1,f+1);(p===4||p===0)&&u++}return u*e.N2},n.getPenaltyN3=function(i){const a=i.size;let u=0,h=0,f=0;for(let p=0;p<a;p++){h=f=0;for(let v=0;v<a;v++)h=h<<1&2047|i.get(p,v),v>=10&&(h===1488||h===93)&&u++,f=f<<1&2047|i.get(v,p),v>=10&&(f===1488||f===93)&&u++}return u*e.N3},n.getPenaltyN4=function(i){let a=0;const u=i.data.length;for(let f=0;f<u;f++)a+=i.data[f];return Math.abs(Math.ceil(a*100/u/5)-10)*e.N4};function t(r,i,a){switch(r){case n.Patterns.PATTERN000:return(i+a)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return a%3===0;case n.Patterns.PATTERN011:return(i+a)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case n.Patterns.PATTERN101:return i*a%2+i*a%3===0;case n.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case n.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,a){const u=a.size;for(let h=0;h<u;h++)for(let f=0;f<u;f++)a.isReserved(f,h)||a.xor(f,h,t(i,f,h))},n.getBestMask=function(i,a){const u=Object.keys(n.Patterns).length;let h=0,f=1/0;for(let p=0;p<u;p++){a(p),n.applyMask(p,i);const v=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(p,i),v<f&&(f=v,h=p)}return h}})(Qf)),Qf}var Oc={},e_;function yT(){if(e_)return Oc;e_=1;const n=hg(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Oc.getBlocksCount=function(i,a){switch(a){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},Oc.getTotalCodewordsCount=function(i,a){switch(a){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},Oc}var Yf={},bl={},t_;function yL(){if(t_)return bl;t_=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]})(),bl.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},bl.exp=function(r){return n[r]},bl.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},bl}var n_;function vL(){return n_||(n_=1,(function(n){const e=yL();n.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let u=0;u<r.length;u++)for(let h=0;h<i.length;h++)a[u+h]^=e.mul(r[u],i[h]);return a},n.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const u=a[0];for(let f=0;f<i.length;f++)a[f]^=e.mul(i[f],u);let h=0;for(;h<a.length&&a[h]===0;)h++;a=a.slice(h)}return a},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=n.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(Yf)),Yf}var Jf,r_;function wL(){if(r_)return Jf;r_=1;const n=vL();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=n.mod(i,this.genPoly),u=this.degree-a.length;if(u>0){const h=new Uint8Array(this.degree);return h.set(a,u),h}return a},Jf=e,Jf}var Xf={},Zf={},ep={},s_;function vT(){return s_||(s_=1,ep.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),ep}var Dr={},i_;function wT(){if(i_)return Dr;i_=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Dr.KANJI=new RegExp(t,"g"),Dr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Dr.BYTE=new RegExp(r,"g"),Dr.NUMERIC=new RegExp(n,"g"),Dr.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),a=new RegExp("^"+n+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Dr.testKanji=function(f){return i.test(f)},Dr.testNumeric=function(f){return a.test(f)},Dr.testAlphanumeric=function(f){return u.test(f)},Dr}var o_;function mo(){return o_||(o_=1,(function(n){const e=vT(),t=wT();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(a,u){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?a.ccBits[0]:u<27?a.ccBits[1]:a.ccBits[2]},n.getBestModeForData=function(a){return t.testNumeric(a)?n.NUMERIC:t.testAlphanumeric(a)?n.ALPHANUMERIC:t.testKanji(a)?n.KANJI:n.BYTE},n.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},n.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(a,u){if(n.isValid(a))return a;try{return r(a)}catch{return u}}})(Zf)),Zf}var a_;function _L(){return a_||(a_=1,(function(n){const e=po(),t=yT(),r=hg(),i=mo(),a=vT(),u=7973,h=e.getBCHDigit(u);function f(T,x,O){for(let R=1;R<=40;R++)if(x<=n.getCapacity(R,O,T))return R}function p(T,x){return i.getCharCountIndicator(T,x)+4}function v(T,x){let O=0;return T.forEach(function(R){const I=p(R.mode,x);O+=I+R.getBitsLength()}),O}function w(T,x){for(let O=1;O<=40;O++)if(v(T,O)<=n.getCapacity(O,x,i.MIXED))return O}n.from=function(x,O){return a.isValid(x)?parseInt(x,10):O},n.getCapacity=function(x,O,R){if(!a.isValid(x))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=i.BYTE);const I=e.getSymbolTotalCodewords(x),j=t.getTotalCodewordsCount(x,O),U=(I-j)*8;if(R===i.MIXED)return U;const B=U-p(R,x);switch(R){case i.NUMERIC:return Math.floor(B/10*3);case i.ALPHANUMERIC:return Math.floor(B/11*2);case i.KANJI:return Math.floor(B/13);case i.BYTE:default:return Math.floor(B/8)}},n.getBestVersionForData=function(x,O){let R;const I=r.from(O,r.M);if(Array.isArray(x)){if(x.length>1)return w(x,I);if(x.length===0)return 1;R=x[0]}else R=x;return f(R.mode,R.getLength(),I)},n.getEncodedBits=function(x){if(!a.isValid(x)||x<7)throw new Error("Invalid QR Code version");let O=x<<12;for(;e.getBCHDigit(O)-h>=0;)O^=u<<e.getBCHDigit(O)-h;return x<<12|O}})(Xf)),Xf}var tp={},l_;function EL(){if(l_)return tp;l_=1;const n=po(),e=1335,t=21522,r=n.getBCHDigit(e);return tp.getEncodedBits=function(a,u){const h=a.bit<<3|u;let f=h<<10;for(;n.getBCHDigit(f)-r>=0;)f^=e<<n.getBCHDigit(f)-r;return(h<<10|f)^t},tp}var np={},rp,u_;function xL(){if(u_)return rp;u_=1;const n=mo();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,a,u;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),u=parseInt(a,10),r.put(u,10);const h=this.data.length-i;h>0&&(a=this.data.substr(i),u=parseInt(a,10),r.put(u,h*3+1))},rp=e,rp}var sp,c_;function TL(){if(c_)return sp;c_=1;const n=mo(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let u=e.indexOf(this.data[a])*45;u+=e.indexOf(this.data[a+1]),i.put(u,11)}this.data.length%2&&i.put(e.indexOf(this.data[a]),6)},sp=t,sp}var ip,d_;function SL(){if(d_)return ip;d_=1;const n=mo();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},ip=e,ip}var op,h_;function CL(){if(h_)return op;h_=1;const n=mo(),e=po();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=e.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},op=t,op}var ap={exports:{}},f_;function IL(){return f_||(f_=1,(function(n){var e={single_source_shortest_paths:function(t,r,i){var a={},u={};u[r]=0;var h=e.PriorityQueue.make();h.push(r,0);for(var f,p,v,w,T,x,O,R,I;!h.empty();){f=h.pop(),p=f.value,w=f.cost,T=t[p]||{};for(v in T)T.hasOwnProperty(v)&&(x=T[v],O=w+x,R=u[v],I=typeof u[v]>"u",(I||R>O)&&(u[v]=O,h.push(v,O),a[v]=p))}if(typeof i<"u"&&typeof u[i]>"u"){var j=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(j)}return a},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],a=r;a;)i.push(a),t[a],a=t[a];return i.reverse(),i},find_path:function(t,r,i){var a=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},a;t=t||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(ap)),ap.exports}var p_;function bL(){return p_||(p_=1,(function(n){const e=mo(),t=xL(),r=TL(),i=SL(),a=CL(),u=wT(),h=po(),f=IL();function p(j){return unescape(encodeURIComponent(j)).length}function v(j,U,B){const H=[];let ee;for(;(ee=j.exec(B))!==null;)H.push({data:ee[0],index:ee.index,mode:U,length:ee[0].length});return H}function w(j){const U=v(u.NUMERIC,e.NUMERIC,j),B=v(u.ALPHANUMERIC,e.ALPHANUMERIC,j);let H,ee;return h.isKanjiModeEnabled()?(H=v(u.BYTE,e.BYTE,j),ee=v(u.KANJI,e.KANJI,j)):(H=v(u.BYTE_KANJI,e.BYTE,j),ee=[]),U.concat(B,H,ee).sort(function(N,C){return N.index-C.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function T(j,U){switch(U){case e.NUMERIC:return t.getBitsLength(j);case e.ALPHANUMERIC:return r.getBitsLength(j);case e.KANJI:return a.getBitsLength(j);case e.BYTE:return i.getBitsLength(j)}}function x(j){return j.reduce(function(U,B){const H=U.length-1>=0?U[U.length-1]:null;return H&&H.mode===B.mode?(U[U.length-1].data+=B.data,U):(U.push(B),U)},[])}function O(j){const U=[];for(let B=0;B<j.length;B++){const H=j[B];switch(H.mode){case e.NUMERIC:U.push([H,{data:H.data,mode:e.ALPHANUMERIC,length:H.length},{data:H.data,mode:e.BYTE,length:H.length}]);break;case e.ALPHANUMERIC:U.push([H,{data:H.data,mode:e.BYTE,length:H.length}]);break;case e.KANJI:U.push([H,{data:H.data,mode:e.BYTE,length:p(H.data)}]);break;case e.BYTE:U.push([{data:H.data,mode:e.BYTE,length:p(H.data)}])}}return U}function R(j,U){const B={},H={start:{}};let ee=["start"];for(let G=0;G<j.length;G++){const N=j[G],C=[];for(let A=0;A<N.length;A++){const L=N[A],D=""+G+A;C.push(D),B[D]={node:L,lastCount:0},H[D]={};for(let M=0;M<ee.length;M++){const b=ee[M];B[b]&&B[b].node.mode===L.mode?(H[b][D]=T(B[b].lastCount+L.length,L.mode)-T(B[b].lastCount,L.mode),B[b].lastCount+=L.length):(B[b]&&(B[b].lastCount=L.length),H[b][D]=T(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,U))}}ee=C}for(let G=0;G<ee.length;G++)H[ee[G]].end=0;return{map:H,table:B}}function I(j,U){let B;const H=e.getBestModeForData(j);if(B=e.from(U,H),B!==e.BYTE&&B.bit<H.bit)throw new Error('"'+j+'" cannot be encoded with mode '+e.toString(B)+`.
 Suggested mode is: `+e.toString(H));switch(B===e.KANJI&&!h.isKanjiModeEnabled()&&(B=e.BYTE),B){case e.NUMERIC:return new t(j);case e.ALPHANUMERIC:return new r(j);case e.KANJI:return new a(j);case e.BYTE:return new i(j)}}n.fromArray=function(U){return U.reduce(function(B,H){return typeof H=="string"?B.push(I(H,null)):H.data&&B.push(I(H.data,H.mode)),B},[])},n.fromString=function(U,B){const H=w(U,h.isKanjiModeEnabled()),ee=O(H),G=R(ee,B),N=f.find_path(G.map,"start","end"),C=[];for(let A=1;A<N.length-1;A++)C.push(G.table[N[A]].node);return n.fromArray(x(C))},n.rawSplit=function(U){return n.fromArray(w(U,h.isKanjiModeEnabled()))}})(np)),np}var m_;function AL(){if(m_)return $f;m_=1;const n=po(),e=hg(),t=hL(),r=fL(),i=pL(),a=mL(),u=gL(),h=yT(),f=wL(),p=_L(),v=EL(),w=mo(),T=bL();function x(G,N){const C=G.size,A=a.getPositions(N);for(let L=0;L<A.length;L++){const D=A[L][0],M=A[L][1];for(let b=-1;b<=7;b++)if(!(D+b<=-1||C<=D+b))for(let X=-1;X<=7;X++)M+X<=-1||C<=M+X||(b>=0&&b<=6&&(X===0||X===6)||X>=0&&X<=6&&(b===0||b===6)||b>=2&&b<=4&&X>=2&&X<=4?G.set(D+b,M+X,!0,!0):G.set(D+b,M+X,!1,!0))}}function O(G){const N=G.size;for(let C=8;C<N-8;C++){const A=C%2===0;G.set(C,6,A,!0),G.set(6,C,A,!0)}}function R(G,N){const C=i.getPositions(N);for(let A=0;A<C.length;A++){const L=C[A][0],D=C[A][1];for(let M=-2;M<=2;M++)for(let b=-2;b<=2;b++)M===-2||M===2||b===-2||b===2||M===0&&b===0?G.set(L+M,D+b,!0,!0):G.set(L+M,D+b,!1,!0)}}function I(G,N){const C=G.size,A=p.getEncodedBits(N);let L,D,M;for(let b=0;b<18;b++)L=Math.floor(b/3),D=b%3+C-8-3,M=(A>>b&1)===1,G.set(L,D,M,!0),G.set(D,L,M,!0)}function j(G,N,C){const A=G.size,L=v.getEncodedBits(N,C);let D,M;for(D=0;D<15;D++)M=(L>>D&1)===1,D<6?G.set(D,8,M,!0):D<8?G.set(D+1,8,M,!0):G.set(A-15+D,8,M,!0),D<8?G.set(8,A-D-1,M,!0):D<9?G.set(8,15-D-1+1,M,!0):G.set(8,15-D-1,M,!0);G.set(A-8,8,1,!0)}function U(G,N){const C=G.size;let A=-1,L=C-1,D=7,M=0;for(let b=C-1;b>0;b-=2)for(b===6&&b--;;){for(let X=0;X<2;X++)if(!G.isReserved(L,b-X)){let xe=!1;M<N.length&&(xe=(N[M]>>>D&1)===1),G.set(L,b-X,xe),D--,D===-1&&(M++,D=7)}if(L+=A,L<0||C<=L){L-=A,A=-A;break}}}function B(G,N,C){const A=new t;C.forEach(function(X){A.put(X.mode.bit,4),A.put(X.getLength(),w.getCharCountIndicator(X.mode,G)),X.write(A)});const L=n.getSymbolTotalCodewords(G),D=h.getTotalCodewordsCount(G,N),M=(L-D)*8;for(A.getLengthInBits()+4<=M&&A.put(0,4);A.getLengthInBits()%8!==0;)A.putBit(0);const b=(M-A.getLengthInBits())/8;for(let X=0;X<b;X++)A.put(X%2?17:236,8);return H(A,G,N)}function H(G,N,C){const A=n.getSymbolTotalCodewords(N),L=h.getTotalCodewordsCount(N,C),D=A-L,M=h.getBlocksCount(N,C),b=A%M,X=M-b,xe=Math.floor(A/M),ve=Math.floor(D/M),ye=ve+1,Z=xe-ve,te=new f(Z);let se=0;const z=new Array(M),J=new Array(M);let de=0;const he=new Uint8Array(G.buffer);for(let Ve=0;Ve<M;Ve++){const Ze=Ve<X?ve:ye;z[Ve]=he.slice(se,se+Ze),J[Ve]=te.encode(z[Ve]),se+=Ze,de=Math.max(de,Ze)}const Te=new Uint8Array(A);let Pe=0,pe,Re;for(pe=0;pe<de;pe++)for(Re=0;Re<M;Re++)pe<z[Re].length&&(Te[Pe++]=z[Re][pe]);for(pe=0;pe<Z;pe++)for(Re=0;Re<M;Re++)Te[Pe++]=J[Re][pe];return Te}function ee(G,N,C,A){let L;if(Array.isArray(G))L=T.fromArray(G);else if(typeof G=="string"){let xe=N;if(!xe){const ve=T.rawSplit(G);xe=p.getBestVersionForData(ve,C)}L=T.fromString(G,xe||40)}else throw new Error("Invalid data");const D=p.getBestVersionForData(L,C);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!N)N=D;else if(N<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const M=B(N,C,L),b=n.getSymbolSize(N),X=new r(b);return x(X,N),O(X),R(X,N),j(X,C,0),N>=7&&I(X,N),U(X,M),isNaN(A)&&(A=u.getBestMask(X,j.bind(null,X,C))),u.applyMask(A,X),j(X,C,A),{modules:X,version:N,errorCorrectionLevel:C,maskPattern:A,segments:L}}return $f.create=function(N,C){if(typeof N>"u"||N==="")throw new Error("No input text");let A=e.M,L,D;return typeof C<"u"&&(A=e.from(C.errorCorrectionLevel,e.M),L=p.from(C.version),D=u.from(C.maskPattern),C.toSJISFunc&&n.setToSJISFunction(C.toSJISFunc)),ee(N,L,A,D)},$f}var lp={},up={},g_;function _T(){return g_||(g_=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:a,scale:a?4:u,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const a=n.getScale(r,i);return Math.floor((r+i.margin*2)*a)},n.qrToImageData=function(r,i,a){const u=i.modules.size,h=i.modules.data,f=n.getScale(u,a),p=Math.floor((u+a.margin*2)*f),v=a.margin*f,w=[a.color.light,a.color.dark];for(let T=0;T<p;T++)for(let x=0;x<p;x++){let O=(T*p+x)*4,R=a.color.light;if(T>=v&&x>=v&&T<p-v&&x<p-v){const I=Math.floor((T-v)/f),j=Math.floor((x-v)/f);R=w[h[I*u+j]?1:0]}r[O++]=R.r,r[O++]=R.g,r[O++]=R.b,r[O]=R.a}}})(up)),up}var y_;function RL(){return y_||(y_=1,(function(n){const e=_T();function t(i,a,u){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=u,a.width=u,a.style.height=u+"px",a.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(a,u,h){let f=h,p=u;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),u||(p=r()),f=e.getOptions(f);const v=e.getImageWidth(a.modules.size,f),w=p.getContext("2d"),T=w.createImageData(v,v);return e.qrToImageData(T.data,a,f),t(w,p,v),w.putImageData(T,0,0),p},n.renderToDataURL=function(a,u,h){let f=h;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),f||(f={});const p=n.render(a,u,f),v=f.type||"image/png",w=f.rendererOpts||{};return p.toDataURL(v,w.quality)}})(lp)),lp}var cp={},v_;function PL(){if(v_)return cp;v_=1;const n=_T();function e(i,a){const u=i.a/255,h=a+'="'+i.hex+'"';return u<1?h+" "+a+'-opacity="'+u.toFixed(2).slice(1)+'"':h}function t(i,a,u){let h=i+a;return typeof u<"u"&&(h+=" "+u),h}function r(i,a,u){let h="",f=0,p=!1,v=0;for(let w=0;w<i.length;w++){const T=Math.floor(w%a),x=Math.floor(w/a);!T&&!p&&(p=!0),i[w]?(v++,w>0&&T>0&&i[w-1]||(h+=p?t("M",T+u,.5+x+u):t("m",f,0),f=0,p=!1),T+1<a&&i[w+1]||(h+=t("h",v),v=0)):f++}return h}return cp.render=function(a,u,h){const f=n.getOptions(u),p=a.modules.size,v=a.modules.data,w=p+f.margin*2,T=f.color.light.a?"<path "+e(f.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",x="<path "+e(f.color.dark,"stroke")+' d="'+r(v,p,f.margin)+'"/>',O='viewBox="0 0 '+w+" "+w+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+O+' shape-rendering="crispEdges">'+T+x+`</svg>
`;return typeof h=="function"&&h(null,I),I},cp}var w_;function NL(){if(w_)return ea;w_=1;const n=dL(),e=AL(),t=RL(),r=PL();function i(a,u,h,f,p){const v=[].slice.call(arguments,1),w=v.length,T=typeof v[w-1]=="function";if(!T&&!n())throw new Error("Callback required as last argument");if(T){if(w<2)throw new Error("Too few arguments provided");w===2?(p=h,h=u,u=f=void 0):w===3&&(u.getContext&&typeof p>"u"?(p=f,f=void 0):(p=f,f=h,h=u,u=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(h=u,u=f=void 0):w===2&&!u.getContext&&(f=h,h=u,u=void 0),new Promise(function(x,O){try{const R=e.create(h,f);x(a(R,u,f))}catch(R){O(R)}})}try{const x=e.create(h,f);p(null,a(x,u,f))}catch(x){p(x)}}return ea.create=e.create,ea.toCanvas=i.bind(null,t.render),ea.toDataURL=i.bind(null,t.renderToDataURL),ea.toString=i.bind(null,function(a,u,h){return r.render(a,h)}),ea}var kL=NL();const DL=nm(kL);function OL(){const n=co(),[e,t]=k.useState(null),[r,i]=k.useState(!1),a=k.useRef(null);return k.useEffect(()=>{const u=mT(ug(cg,"qrcodes","whatsapp-link"),h=>{const f=h.data();f&&f.qrString?(t(f.qrString),i(!1)):(t(null),i(!0))});return()=>u()},[]),k.useEffect(()=>{e&&a.current&&DL.toCanvas(a.current,e,{width:220,margin:1})},[e]),k.useEffect(()=>{r&&!e&&setTimeout(()=>{n("/chats")},1500)},[r,e,n]),_.jsxs("div",{className:"flex h-screen w-full bg-gradient-to-br from-background via-background to-primary/10",children:[_.jsxs("div",{className:"hidden lg:flex w-1/2 flex-col items-center justify-center bg-gradient-to-br from-primary/20 to-background/50 p-12",children:[_.jsx("div",{className:"mb-8 flex h-24 w-24 items-center justify-center rounded-full bg-primary/20 backdrop-blur-xl border border-primary/30",children:_.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary",children:_.jsx(ys,{className:"h-10 w-10 text-primary-foreground"})})}),_.jsx("h1",{className:"mb-4 text-5xl font-bold text-foreground",children:"WhatsApp"}),_.jsx("p",{className:"text-center text-lg text-muted-foreground mb-12",children:"Connect Your Device"}),_.jsxs("div",{className:"space-y-6 max-w-sm",children:[_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/20 flex-shrink-0",children:_.jsx("span",{className:"text-lg font-semibold text-primary",children:"1"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-foreground mb-1",children:"Open WhatsApp on Your Phone"}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Make sure your phone is nearby and connected to the internet"})]})]}),_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/20 flex-shrink-0",children:_.jsx("span",{className:"text-lg font-semibold text-primary",children:"2"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-foreground mb-1",children:"Scan the QR Code"}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Go to Settings  Linked Devices  Link a Device and scan the QR code"})]})]}),_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/20 flex-shrink-0",children:_.jsx("span",{className:"text-lg font-semibold text-primary",children:"3"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-foreground mb-1",children:"You're All Set"}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Once scanned, you'll be connected and ready to message"})]})]})]}),_.jsx("div",{className:"mt-12 p-4 rounded-lg bg-primary/10 border border-primary/20 max-w-sm",children:_.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.jsx("span",{className:"font-semibold text-foreground block mb-1",children:" Keep Your QR Code Private"}),"Never share your QR code with anyone. Anyone with your QR code can access your WhatsApp account."]})})]}),_.jsx("div",{className:"flex w-full lg:w-1/2 flex-col items-center justify-center p-6 sm:p-12",children:_.jsxs("div",{className:"w-full max-w-md",children:[_.jsxs("div",{className:"mb-8 flex lg:hidden flex-col items-center",children:[_.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary",children:_.jsx(ys,{className:"h-8 w-8 text-primary-foreground"})}),_.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"WhatsApp"})]}),_.jsxs("div",{className:"mb-8 text-center",children:[_.jsx("h2",{className:"mb-2 text-2xl font-bold text-foreground",children:"Scan QR Code"}),_.jsx("p",{className:"text-muted-foreground",children:"Use your phone to scan this code to connect"})]}),_.jsx("div",{className:"mb-8 flex flex-col items-center",children:r?_.jsx("div",{className:"w-64 h-64 bg-gradient-to-br from-primary/20 to-primary/10 rounded-2xl shadow-2xl flex items-center justify-center border border-primary/30",children:_.jsxs("div",{className:"text-center",children:[_.jsx(YC,{className:"h-20 w-20 text-primary mx-auto mb-4 animate-bounce"}),_.jsx("p",{className:"text-lg font-bold text-primary",children:"Connected!"}),_.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Redirecting..."})]})}):_.jsx("div",{className:"relative",children:_.jsx("div",{className:"w-64 h-64 bg-white rounded-2xl shadow-2xl p-4 flex items-center justify-center",children:e?_.jsx("canvas",{ref:a}):_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-primary/20 border-t-primary animate-spin mb-2"}),_.jsx("p",{className:"text-sm text-foreground font-medium",children:"Generating QR Code..."})]})})})})]})})]})}function ML(){const[n]=k.useState([{id:"1",name:"Sarah Johnson",avatar:"SJ",lastMessage:"Sounds great! See you tomorrow",timestamp:"2:45 PM",unread:0,online:!0},{id:"2",name:"Family Group",avatar:"FG",lastMessage:"Mom: Did you see the photos from vacation?",timestamp:"1:30 PM",unread:3,online:!1},{id:"3",name:"John Smith",avatar:"JS",lastMessage:"Thanks for the recommendation!",timestamp:"Yesterday",unread:0,online:!0},{id:"4",name:"Work Team",avatar:"WT",lastMessage:"Alex: Project deadline moved to Friday",timestamp:"Yesterday",unread:5,online:!1},{id:"5",name:"Emma Davis",avatar:"ED",lastMessage:"That sounds perfect!",timestamp:"Monday",unread:0,online:!1},{id:"6",name:"Design Team",avatar:"DT",lastMessage:"Design files are ready for review",timestamp:"Monday",unread:0,online:!1},{id:"7",name:"Michael Brown",avatar:"MB",lastMessage:"Let's catch up soon!",timestamp:"Sunday",unread:0,online:!0},{id:"8",name:"Project Group",avatar:"PG",lastMessage:"All tasks completed on schedule",timestamp:"Sunday",unread:0,online:!1}]),[e,t]=k.useState(""),r=n.filter(i=>i.name.toLowerCase().includes(e.toLowerCase()));return _.jsxs("div",{className:"flex w-full h-full bg-background",children:[_.jsxs("div",{className:"w-full sm:w-96 flex flex-col border-r border-border bg-background",children:[_.jsx("div",{className:"border-b border-border p-4",children:_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"text",placeholder:"Search or start new chat",value:e,onChange:i=>t(i.target.value),className:"w-full rounded-full bg-secondary px-4 py-2 pl-10 text-sm text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),_.jsx(gp,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"})]})}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:r.map(i=>_.jsxs(s1,{to:`/chat/${i.id}`,className:"flex items-start gap-3 border-b border-border px-4 py-3 hover:bg-secondary transition-colors cursor-pointer",children:[_.jsxs("div",{className:"relative mt-1 flex-shrink-0",children:[_.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold",children:i.avatar}),i.online&&_.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-primary border-2 border-background"})]}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"font-semibold text-foreground truncate",children:i.name}),_.jsx("span",{className:"ml-2 flex-shrink-0 text-xs text-muted-foreground",children:i.timestamp})]}),_.jsx("p",{className:"mt-1 text-sm text-muted-foreground truncate",children:i.lastMessage})]}),i.unread>0&&_.jsx("div",{className:"ml-2 flex-shrink-0",children:_.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs font-semibold text-primary-foreground",children:i.unread>9?"9+":i.unread})})]},i.id))})]}),_.jsx("div",{className:"hidden sm:flex flex-1 items-center justify-center bg-gradient-to-br from-background to-secondary",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"flex justify-center mb-4",children:_.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary/10",children:_.jsx(ys,{className:"h-10 w-10 text-primary"})})}),_.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Select a chat to start messaging"}),_.jsx("p",{className:"text-muted-foreground",children:"Choose from your existing conversations or start a new chat"})]})})]})}function LL(){return _.jsx(ML,{})}function VL(){const{id:n}=ZE(),e=co(),t=k.useRef(null),[r,i]=k.useState(""),[a]=k.useState({id:n||"1",name:"Sarah Johnson",avatar:"SJ",online:!0,lastSeen:"Active now"}),[u,h]=k.useState([{id:"1",text:"Hey! How are you doing?",sender:"contact",timestamp:"10:30 AM",status:"read"},{id:"2",text:"I'm doing great! Just finished that project we discussed",sender:"user",timestamp:"10:32 AM",status:"read"},{id:"3",text:"That's awesome! I'd love to see what you've done",sender:"contact",timestamp:"10:33 AM",status:"read"},{id:"4",text:"I'll send you the files later today",sender:"user",timestamp:"10:34 AM",status:"delivered"},{id:"5",text:"Perfect! ",sender:"contact",timestamp:"10:35 AM",status:"read"},{id:"6",text:"By the way, are we still on for tomorrow?",sender:"contact",timestamp:"10:36 AM",status:"read"},{id:"7",text:"Yes, definitely! Looking forward to it",sender:"user",timestamp:"10:37 AM",status:"read"},{id:"8",text:"Sounds great! See you tomorrow",sender:"contact",timestamp:"2:45 PM",status:"read"}]),f=()=>{t.current?.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{f()},[u]);const p=v=>{if(v.preventDefault(),!r.trim())return;const w={id:String(u.length+1),text:r,sender:"user",timestamp:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),status:"sent"};h([...u,w]),i(""),setTimeout(()=>{const T=["That sounds good!","I agree! ","Let's do it!","Sounds perfect!","I'll let you know!"],x=T[Math.floor(Math.random()*T.length)];h(O=>[...O,{id:String(O.length+1),text:x,sender:"contact",timestamp:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),status:"delivered"}])},1e3)};return _.jsxs("div",{className:"flex h-full w-full flex-col bg-gradient-to-b from-background to-secondary/30",children:[_.jsx("div",{className:"border-b border-border bg-background px-4 py-3",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:()=>e("/chats"),className:"p-2 hover:bg-secondary rounded-full transition-colors sm:hidden",children:_.jsx(J_,{className:"h-5 w-5 text-foreground"})}),_.jsxs("div",{className:"relative flex-shrink-0",children:[_.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold text-sm",children:a.avatar}),a.online&&_.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-primary border-2 border-background"})]}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("h2",{className:"font-semibold text-foreground",children:a.name}),_.jsx("p",{className:"text-xs text-muted-foreground",children:a.online?"Active now":a.lastSeen})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{className:"p-2 hover:bg-secondary rounded-full transition-colors",children:_.jsx(Ol,{className:"h-5 w-5 text-foreground"})}),_.jsx("button",{className:"p-2 hover:bg-secondary rounded-full transition-colors",children:_.jsx(TI,{className:"h-5 w-5 text-foreground"})}),_.jsx("button",{className:"p-2 hover:bg-secondary rounded-full transition-colors",children:_.jsx(X_,{className:"h-5 w-5 text-foreground"})})]})]})}),_.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-3",children:[u.map(v=>_.jsx("div",{className:`flex ${v.sender==="user"?"justify-end":"justify-start"}`,children:_.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg rounded-2xl px-4 py-2 ${v.sender==="user"?"bg-primary text-primary-foreground rounded-br-none":"bg-card text-card-foreground border border-border rounded-bl-none"}`,children:[_.jsx("p",{className:"break-words text-sm",children:v.text}),_.jsxs("div",{className:`mt-1 flex items-center justify-end gap-1 text-xs ${v.sender==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:[_.jsx("span",{children:v.timestamp}),v.sender==="user"&&_.jsx("span",{children:v.status==="read"||v.status==="delivered"?"":""})]})]})},v.id)),_.jsx("div",{ref:t})]}),_.jsx("div",{className:"border-t border-border bg-background px-4 py-3",children:_.jsxs("form",{onSubmit:p,className:"flex items-end gap-2",children:[_.jsx("button",{type:"button",className:"p-2 hover:bg-secondary rounded-full transition-colors flex-shrink-0",children:_.jsx(pI,{className:"h-5 w-5 text-foreground"})}),_.jsx("button",{type:"button",className:"p-2 hover:bg-secondary rounded-full transition-colors flex-shrink-0",children:_.jsx(aI,{className:"h-5 w-5 text-foreground"})}),_.jsx("input",{type:"text",value:r,onChange:v=>i(v.target.value),placeholder:"Type a message...",className:"flex-1 rounded-full bg-secondary px-4 py-2 text-sm text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),_.jsx("button",{type:"submit",disabled:!r.trim(),className:"p-2 hover:bg-primary/10 rounded-full transition-colors flex-shrink-0 disabled:opacity-50",children:_.jsx(hI,{className:"h-5 w-5 text-primary"})})]})})]})}function jL(){const[n,e]=k.useState([{id:"1",name:"Sarah Johnson",email:"sarah.johnson@company.com",phone:"+1 (555) 123-4567",avatar:"SJ",status:"active",tags:["Sales","VIP"],lastContact:"2 hours ago",interactions:28,notes:"Interested in premium plan upgrade",company:"Tech Corp",isFavorite:!0},{id:"2",name:"John Smith",email:"john.smith@startup.com",phone:"+1 (555) 234-5678",avatar:"JS",status:"active",tags:["Support","Enterprise"],lastContact:"1 day ago",interactions:15,notes:"Account manager: Michael Brown",company:"Startup Inc",isFavorite:!1},{id:"3",name:"Emma Davis",email:"emma.davis@corp.com",phone:"+1 (555) 345-6789",avatar:"ED",status:"lead",tags:["Prospect","Marketing"],lastContact:"3 days ago",interactions:8,notes:"Sent proposal on Monday",company:"Corporate Solutions",isFavorite:!1},{id:"4",name:"Michael Brown",email:"michael.brown@agency.com",phone:"+1 (555) 456-7890",avatar:"MB",status:"active",tags:["Partner","Agency"],lastContact:"5 days ago",interactions:42,notes:"Regular account review scheduled monthly",company:"Digital Agency",isFavorite:!0},{id:"5",name:"Lisa Chen",email:"lisa.chen@retail.com",phone:"+1 (555) 567-8901",avatar:"LC",status:"active",tags:["Retail","Support"],lastContact:"1 week ago",interactions:19,notes:"Bulk order inquiry in progress",company:"Retail Solutions",isFavorite:!1},{id:"6",name:"James Wilson",email:"james.wilson@finance.com",phone:"+1 (555) 678-9012",avatar:"JW",status:"inactive",tags:["Finance","Inactive"],lastContact:"3 weeks ago",interactions:5,notes:"No activity since Q3",company:"Financial Group",isFavorite:!1}]),[t,r]=k.useState(""),[i,a]=k.useState("all"),[u,h]=k.useState(!1),f=n.filter(w=>{const T=w.name.toLowerCase().includes(t.toLowerCase())||w.email.toLowerCase().includes(t.toLowerCase())||w.company?.toLowerCase().includes(t.toLowerCase()),x=i==="all"||w.status===i;return T&&x}),p=w=>{switch(w){case"active":return"bg-primary/20 text-primary";case"lead":return"bg-yellow-500/20 text-yellow-500";case"inactive":return"bg-muted/50 text-muted-foreground";default:return"bg-muted/20 text-muted-foreground"}},v=w=>{e(n.map(T=>T.id===w?{...T,isFavorite:!T.isFavorite}:T))};return _.jsxs("div",{className:"flex h-full w-full flex-col bg-background",children:[_.jsxs("div",{className:"border-b border-border px-6 py-4",children:[_.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[_.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Contacts & CRM"}),_.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 font-medium text-primary-foreground hover:bg-primary/90 transition-colors",children:[_.jsx(Z_,{className:"h-4 w-4"}),"New Contact"]})]}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your customer relationships and interactions"})]}),_.jsxs("div",{className:"border-b border-border px-6 py-4 space-y-4",children:[_.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Search Contacts"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"text",placeholder:"Search by name, email, or company...",value:t,onChange:w=>r(w.target.value),className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 pl-10 text-sm text-foreground placeholder-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}),_.jsx(gp,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Status"}),_.jsxs("select",{value:i,onChange:w=>a(w.target.value),className:"rounded-lg border border-border bg-secondary px-4 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[_.jsx("option",{value:"all",children:"All Status"}),_.jsx("option",{value:"active",children:"Active"}),_.jsx("option",{value:"lead",children:"Lead"}),_.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[_.jsxs("div",{className:"rounded-lg bg-secondary p-3",children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Contacts"}),_.jsx("p",{className:"text-xl font-bold text-foreground",children:n.length})]}),_.jsxs("div",{className:"rounded-lg bg-secondary p-3",children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Active"}),_.jsx("p",{className:"text-xl font-bold text-primary",children:n.filter(w=>w.status==="active").length})]}),_.jsxs("div",{className:"rounded-lg bg-secondary p-3",children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Leads"}),_.jsx("p",{className:"text-xl font-bold text-yellow-500",children:n.filter(w=>w.status==="lead").length})]}),_.jsxs("div",{className:"rounded-lg bg-secondary p-3",children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Favorites"}),_.jsx("p",{className:"text-xl font-bold text-foreground",children:n.filter(w=>w.isFavorite).length})]})]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:f.length===0?_.jsx("div",{className:"flex h-full items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx(gp,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),_.jsx("p",{className:"text-lg font-semibold text-foreground",children:"No contacts found"}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your search filters"})]})}):_.jsx("div",{className:"space-y-2 p-6",children:f.map(w=>_.jsx(s1,{to:`/crm/${w.id}`,className:"block rounded-lg border border-border bg-card p-4 hover:bg-secondary transition-colors group",children:_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold",children:w.avatar}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-start justify-between mb-2",children:[_.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary",children:w.name}),_.jsx("button",{onClick:T=>{T.preventDefault(),v(w.id)},className:"flex-shrink-0 p-1 hover:bg-secondary rounded transition-colors",children:_.jsx(vI,{className:`h-4 w-4 ${w.isFavorite?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`})})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2 text-xs text-muted-foreground",children:[_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Vc,{className:"h-3 w-3"}),_.jsx("span",{className:"truncate",children:w.email})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Ol,{className:"h-3 w-3"}),_.jsx("span",{children:w.phone})]})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[_.jsx("span",{className:`inline-block rounded-full px-2 py-1 text-xs font-medium ${p(w.status)}`,children:w.status.charAt(0).toUpperCase()+w.status.slice(1)}),w.tags.map(T=>_.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-secondary px-2 py-1 text-xs text-muted-foreground",children:[_.jsx(eE,{className:"h-3 w-3"}),T]},T))]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground",children:[_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(mp,{className:"h-3 w-3"}),_.jsxs("span",{children:[w.interactions," interactions"]})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(XC,{className:"h-3 w-3"}),_.jsxs("span",{children:["Last: ",w.lastContact]})]}),w.company&&_.jsx("span",{className:"rounded bg-secondary px-2 py-1",children:w.company})]}),w.notes&&_.jsxs("p",{className:"mt-2 text-xs text-muted-foreground italic",children:['"',w.notes,'"']})]})]})},w.id))})}),u&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:_.jsxs("div",{className:"w-full max-w-md rounded-lg border border-border bg-card p-6",children:[_.jsx("h2",{className:"mb-4 text-xl font-bold text-foreground",children:"Add New Contact"}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("input",{type:"text",placeholder:"Full Name",className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),_.jsx("input",{type:"email",placeholder:"Email Address",className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),_.jsx("input",{type:"tel",placeholder:"Phone Number",className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),_.jsx("input",{type:"text",placeholder:"Company",className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),_.jsxs("div",{className:"flex gap-3 pt-4",children:[_.jsx("button",{onClick:()=>h(!1),className:"flex-1 rounded-lg border border-border px-4 py-2 font-medium text-foreground hover:bg-secondary transition-colors",children:"Cancel"}),_.jsx("button",{onClick:()=>h(!1),className:"flex-1 rounded-lg bg-primary px-4 py-2 font-medium text-primary-foreground hover:bg-primary/90 transition-colors",children:"Add Contact"})]})]})]})})]})}const FL={1:{id:"1",name:"Sarah Johnson",email:"sarah.johnson@company.com",phone:"+1 (555) 123-4567",avatar:"SJ",company:"Tech Corp",position:"Sales Director",status:"active",tags:["Sales","VIP","Premium"],address:"123 Tech Avenue, San Francisco, CA 94105",joinDate:"2021-03-15",totalValue:"$125,000",notes:"Interested in premium plan upgrade. Very responsive client.",isFavorite:!0,interactions:[{id:"1",type:"message",content:"Sounds great! See you tomorrow",timestamp:"2 hours ago",details:"WhatsApp message received"},{id:"2",type:"call",content:"Product demo call",timestamp:"1 day ago",details:"45 minutes duration"},{id:"3",type:"email",content:"Sent proposal documents",timestamp:"2 days ago",details:"3 attachments included"},{id:"4",type:"note",content:"Client interested in enterprise plan",timestamp:"3 days ago",details:"Added by: Michael Brown"},{id:"5",type:"message",content:"Can we schedule a meeting?",timestamp:"1 week ago",details:"WhatsApp message sent"}]},2:{id:"2",name:"John Smith",email:"john.smith@startup.com",phone:"+1 (555) 234-5678",avatar:"JS",company:"Startup Inc",position:"CTO",status:"active",tags:["Support","Enterprise","Technical"],address:"456 Innovation Blvd, Austin, TX 78704",joinDate:"2022-07-20",totalValue:"$75,000",notes:"Technical contact. Prefers detailed documentation.",isFavorite:!1,interactions:[{id:"1",type:"message",content:"Thanks for the recommendation!",timestamp:"1 day ago",details:"WhatsApp message received"},{id:"2",type:"email",content:"Technical specification request",timestamp:"3 days ago",details:"Sent API documentation"}]}};function UL(){const{id:n}=ZE(),e=co(),t=n?FL[n]:null,[r,i]=k.useState(!1),[a,u]=k.useState(t?.notes||"");return t?_.jsxs("div",{className:"flex h-full w-full flex-col bg-background",children:[_.jsxs("div",{className:"border-b border-border px-6 py-4",children:[_.jsxs("button",{onClick:()=>e("/crm"),className:"mb-4 flex items-center gap-2 text-primary hover:underline transition-colors",children:[_.jsx(J_,{className:"h-4 w-4"}),"Back to Contacts"]}),_.jsx("div",{className:"flex items-start justify-between",children:_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-primary text-primary-foreground font-bold text-xl",children:t.avatar}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-foreground",children:t.name}),_.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.position," at ",t.company]}),_.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.tags.map(h=>_.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-primary/20 px-2 py-1 text-xs text-primary",children:[_.jsx(eE,{className:"h-3 w-3"}),h]},h))})]})]})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:_.jsxs("div",{className:"grid grid-cols-1 gap-6 p-6 lg:grid-cols-3",children:[_.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[_.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[_.jsx("h2",{className:"mb-4 text-lg font-semibold text-foreground",children:"Contact Details"}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Vc,{className:"h-5 w-5 text-muted-foreground"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),_.jsx("p",{className:"text-foreground",children:t.email})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Ol,{className:"h-5 w-5 text-muted-foreground"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),_.jsx("p",{className:"text-foreground",children:t.phone})]})]}),_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx(rI,{className:"mt-1 h-5 w-5 text-muted-foreground flex-shrink-0"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground",children:"Address"}),_.jsx("p",{className:"text-foreground",children:t.address})]})]})]})]}),_.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[_.jsx("h2",{className:"mb-4 text-lg font-semibold text-foreground",children:"Business Information"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Company"}),_.jsx("p",{className:"font-semibold text-foreground",children:t.company})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Position"}),_.jsx("p",{className:"font-semibold text-foreground",children:t.position})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),_.jsx("p",{className:"font-semibold text-foreground capitalize",children:t.status})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Value"}),_.jsx("p",{className:"font-semibold text-foreground",children:t.totalValue})]})]})]}),_.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[_.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[_.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Notes"}),_.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1 text-sm text-foreground hover:bg-secondary transition-colors",children:[_.jsx(gI,{className:"h-4 w-4"}),"Edit"]})]}),r?_.jsxs("div",{className:"space-y-2",children:[_.jsx("textarea",{value:a,onChange:h=>u(h.target.value),className:"w-full h-24 rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>i(!1),className:"flex-1 rounded-lg border border-border px-3 py-1 text-sm text-foreground hover:bg-secondary transition-colors",children:"Cancel"}),_.jsx("button",{onClick:()=>i(!1),className:"flex-1 rounded-lg bg-primary px-3 py-1 text-sm text-primary-foreground hover:bg-primary/90 transition-colors",children:"Save"})]})]}):_.jsx("p",{className:"text-muted-foreground",children:t.notes})]}),_.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[_.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[_.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Interaction History"}),_.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1 text-sm text-foreground hover:bg-secondary transition-colors",children:[_.jsx(Z_,{className:"h-4 w-4"}),"Add"]})]}),_.jsx("div",{className:"space-y-4",children:t.interactions.map(h=>_.jsxs("div",{className:"flex gap-4 pb-4 border-b border-border last:border-0 last:pb-0",children:[_.jsxs("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-secondary",children:[h.type==="message"&&_.jsx(mp,{className:"h-5 w-5 text-muted-foreground"}),h.type==="call"&&_.jsx(Ol,{className:"h-5 w-5 text-muted-foreground"}),h.type==="email"&&_.jsx(Vc,{className:"h-5 w-5 text-muted-foreground"}),h.type==="note"&&_.jsx(mp,{className:"h-5 w-5 text-muted-foreground"})]}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-start justify-between mb-1",children:[_.jsx("p",{className:"font-semibold text-foreground capitalize",children:h.type}),_.jsx("p",{className:"text-xs text-muted-foreground",children:h.timestamp})]}),_.jsx("p",{className:"text-sm text-foreground mb-1",children:h.content}),h.details&&_.jsx("p",{className:"text-xs text-muted-foreground",children:h.details})]})]},h.id))})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[_.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Quick Stats"}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Member Since"}),_.jsx("p",{className:"font-semibold text-foreground",children:t.joinDate})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Interactions"}),_.jsx("p",{className:"font-semibold text-foreground",children:t.interactions.length})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Account Value"}),_.jsx("p",{className:"font-semibold text-foreground",children:t.totalValue})]})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("button",{className:"w-full rounded-lg bg-primary px-4 py-2 font-medium text-primary-foreground hover:bg-primary/90 transition-colors",children:"Send Message"}),_.jsxs("button",{className:"w-full rounded-lg border border-border px-4 py-2 font-medium text-foreground hover:bg-secondary transition-colors flex items-center justify-center gap-2",children:[_.jsx(Ol,{className:"h-4 w-4"}),"Call"]}),_.jsxs("button",{className:"w-full rounded-lg border border-border px-4 py-2 font-medium text-foreground hover:bg-secondary transition-colors flex items-center justify-center gap-2",children:[_.jsx(Vc,{className:"h-4 w-4"}),"Email"]})]}),_.jsx("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 p-4",children:_.jsxs("button",{className:"w-full flex items-center justify-center gap-2 rounded-lg px-4 py-2 font-medium text-red-500 hover:bg-red-500/20 transition-colors",children:[_.jsx(EI,{className:"h-4 w-4"}),"Delete Contact"]})})]})]})})]}):_.jsx("div",{className:"flex h-full w-full items-center justify-center bg-background",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Contact not found"}),_.jsx("button",{onClick:()=>e("/crm"),className:"mt-4 text-primary hover:underline",children:"Back to CRM"})]})})}const BL=()=>{const n=uo();return k.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),_.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),_.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},zL=new ZR,__=({user:n,isAllowed:e,redirectPath:t,children:r})=>!n||!e?_.jsx(Al,{to:t,replace:!0}):r?_.jsx(_.Fragment,{children:r}):_.jsx(KP,{});function $L(){const[n,e]=k.useState(null),[t,r]=k.useState(!1),[i,a]=k.useState(!0);return k.useEffect(()=>{const u=Pk(dg,h=>{e(h),h||r(!1),a(!1)});return()=>u()},[]),k.useEffect(()=>{if(n){const u=ug(cg,"qrcodes","whatsapp-link"),h=mT(u,f=>{r(!f.exists())});return()=>h()}else r(!1)},[n]),i?_.jsx("div",{className:"w-full h-screen bg-background"}):_.jsxs(QP,{children:[_.jsx(Wn,{path:"/",element:n?_.jsx(Al,{to:t?"/chats":"/whatsapp-qr",replace:!0}):_.jsx(qw,{})}),_.jsx(Wn,{path:"/login",element:n&&t?_.jsx(Al,{to:"/chats",replace:!0}):_.jsx(qw,{})}),_.jsxs(Wn,{element:_.jsx(__,{user:n,isAllowed:!!n,redirectPath:"/login"}),children:[_.jsx(Wn,{path:"/whatsapp-qr",element:t?_.jsx(Al,{to:"/chats",replace:!0}):_.jsx(OL,{})}),_.jsx(Wn,{path:"/qr",element:_.jsx(Al,{to:"/whatsapp-qr",replace:!0})}),_.jsxs(Wn,{element:_.jsx(__,{user:n,isAllowed:t,redirectPath:"/whatsapp-qr"}),children:[_.jsx(Wn,{path:"/chats",element:_.jsx(Dc,{children:_.jsx(LL,{})})}),_.jsx(Wn,{path:"/chat/:id",element:_.jsx(Dc,{children:_.jsx(VL,{})})}),_.jsx(Wn,{path:"/crm",element:_.jsx(Dc,{children:_.jsx(jL,{})})}),_.jsx(Wn,{path:"/crm/:id",element:_.jsx(Dc,{children:_.jsx(UL,{})})})]})]}),_.jsx(Wn,{path:"*",element:_.jsx(BL,{})})]})}const HL=()=>_.jsx(tP,{client:zL,children:_.jsx(IR,{children:_.jsxs(n2,{children:[_.jsx(ab,{}),_.jsx(Fb,{}),_.jsx($L,{})]})})});MS.createRoot(document.getElementById("root")).render(_.jsx(HL,{}));
