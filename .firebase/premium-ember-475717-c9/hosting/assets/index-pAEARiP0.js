function gS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function wm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Df={exports:{}},Ol={},Of={exports:{}},Fe={};var Gv;function yS(){if(Gv)return Fe;Gv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function b(z,X,de){this.props=z,this.context=X,this.refs=C,this.updater=de||_}b.prototype.isReactComponent={},b.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=b.prototype;function U(z,X,de){this.props=z,this.context=X,this.refs=C,this.updater=de||_}var B=U.prototype=new j;B.constructor=U,S(B,b.prototype),B.isPureReactComponent=!0;var q=Array.isArray,ee=Object.prototype.hasOwnProperty,G={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(z,X,de){var he,Ie={},Ne=null,me=null;if(X!=null)for(he in X.ref!==void 0&&(me=X.ref),X.key!==void 0&&(Ne=""+X.key),X)ee.call(X,he)&&!k.hasOwnProperty(he)&&(Ie[he]=X[he]);var Re=arguments.length-2;if(Re===1)Ie.children=de;else if(1<Re){for(var Ve=Array(Re),et=0;et<Re;et++)Ve[et]=arguments[et+2];Ie.children=Ve}if(z&&z.defaultProps)for(he in Re=z.defaultProps,Re)Ie[he]===void 0&&(Ie[he]=Re[he]);return{$$typeof:n,type:z,key:Ne,ref:me,props:Ie,_owner:G.current}}function P(z,X){return{$$typeof:n,type:z.type,key:X,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function O(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(de){return X[de]})}var M=/\/+/g;function R(z,X){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):X.toString(36)}function J(z,X,de,he,Ie){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var me=!1;if(z===null)me=!0;else switch(Ne){case"string":case"number":me=!0;break;case"object":switch(z.$$typeof){case n:case e:me=!0}}if(me)return me=z,Ie=Ie(me),z=he===""?"."+R(me,0):he,q(Ie)?(de="",z!=null&&(de=z.replace(M,"$&/")+"/"),J(Ie,X,de,"",function(et){return et})):Ie!=null&&(L(Ie)&&(Ie=P(Ie,de+(!Ie.key||me&&me.key===Ie.key?"":(""+Ie.key).replace(M,"$&/")+"/")+z)),X.push(Ie)),1;if(me=0,he=he===""?".":he+":",q(z))for(var Re=0;Re<z.length;Re++){Ne=z[Re];var Ve=he+R(Ne,Re);me+=J(Ne,X,de,Ve,Ie)}else if(Ve=T(z),typeof Ve=="function")for(z=Ve.call(z),Re=0;!(Ne=z.next()).done;)Ne=Ne.value,Ve=he+R(Ne,Re++),me+=J(Ne,X,de,Ve,Ie);else if(Ne==="object")throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return me}function Te(z,X,de){if(z==null)return z;var he=[],Ie=0;return J(z,he,"","",function(Ne){return X.call(de,Ne,Ie++)}),he}function we(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(de){(z._status===0||z._status===-1)&&(z._status=1,z._result=de)},function(de){(z._status===0||z._status===-1)&&(z._status=2,z._result=de)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var ve={current:null},Z={transition:null},te={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Z,ReactCurrentOwner:G};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Te,forEach:function(z,X,de){Te(z,function(){X.apply(this,arguments)},de)},count:function(z){var X=0;return Te(z,function(){X++}),X},toArray:function(z){return Te(z,function(X){return X})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Fe.Component=b,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=U,Fe.StrictMode=r,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Fe.act=ie,Fe.cloneElement=function(z,X,de){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var he=S({},z.props),Ie=z.key,Ne=z.ref,me=z._owner;if(X!=null){if(X.ref!==void 0&&(Ne=X.ref,me=G.current),X.key!==void 0&&(Ie=""+X.key),z.type&&z.type.defaultProps)var Re=z.type.defaultProps;for(Ve in X)ee.call(X,Ve)&&!k.hasOwnProperty(Ve)&&(he[Ve]=X[Ve]===void 0&&Re!==void 0?Re[Ve]:X[Ve])}var Ve=arguments.length-2;if(Ve===1)he.children=de;else if(1<Ve){Re=Array(Ve);for(var et=0;et<Ve;et++)Re[et]=arguments[et+2];he.children=Re}return{$$typeof:n,type:z.type,key:Ie,ref:Ne,props:he,_owner:me}},Fe.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Fe.createElement=A,Fe.createFactory=function(z){var X=A.bind(null,z);return X.type=z,X},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(z){return{$$typeof:h,render:z}},Fe.isValidElement=L,Fe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:we}},Fe.memo=function(z,X){return{$$typeof:p,type:z,compare:X===void 0?null:X}},Fe.startTransition=function(z){var X=Z.transition;Z.transition={};try{z()}finally{Z.transition=X}},Fe.unstable_act=ie,Fe.useCallback=function(z,X){return ve.current.useCallback(z,X)},Fe.useContext=function(z){return ve.current.useContext(z)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(z){return ve.current.useDeferredValue(z)},Fe.useEffect=function(z,X){return ve.current.useEffect(z,X)},Fe.useId=function(){return ve.current.useId()},Fe.useImperativeHandle=function(z,X,de){return ve.current.useImperativeHandle(z,X,de)},Fe.useInsertionEffect=function(z,X){return ve.current.useInsertionEffect(z,X)},Fe.useLayoutEffect=function(z,X){return ve.current.useLayoutEffect(z,X)},Fe.useMemo=function(z,X){return ve.current.useMemo(z,X)},Fe.useReducer=function(z,X,de){return ve.current.useReducer(z,X,de)},Fe.useRef=function(z){return ve.current.useRef(z)},Fe.useState=function(z){return ve.current.useState(z)},Fe.useSyncExternalStore=function(z,X,de){return ve.current.useSyncExternalStore(z,X,de)},Fe.useTransition=function(){return ve.current.useTransition()},Fe.version="18.3.1",Fe}var Qv;function _m(){return Qv||(Qv=1,Of.exports=yS()),Of.exports}var Yv;function vS(){if(Yv)return Ol;Yv=1;var n=_m(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var g,w={},T=null,_=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(_=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(w[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:e,type:h,key:T,ref:_,props:w,_owner:i.current}}return Ol.Fragment=t,Ol.jsx=u,Ol.jsxs=u,Ol}var Xv;function wS(){return Xv||(Xv=1,Df.exports=vS()),Df.exports}var E=wS(),Nc={},Mf={exports:{}},vn={},Lf={exports:{}},Vf={};var Jv;function _S(){return Jv||(Jv=1,(function(n){function e(Z,te){var ie=Z.length;Z.push(te);e:for(;0<ie;){var z=ie-1>>>1,X=Z[z];if(0<i(X,te))Z[z]=te,Z[ie]=X,ie=z;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var te=Z[0],ie=Z.pop();if(ie!==te){Z[0]=ie;e:for(var z=0,X=Z.length,de=X>>>1;z<de;){var he=2*(z+1)-1,Ie=Z[he],Ne=he+1,me=Z[Ne];if(0>i(Ie,ie))Ne<X&&0>i(me,Ie)?(Z[z]=me,Z[Ne]=ie,z=Ne):(Z[z]=Ie,Z[he]=ie,z=he);else if(Ne<X&&0>i(me,ie))Z[z]=me,Z[Ne]=ie,z=Ne;else break e}}return te}function i(Z,te){var ie=Z.sortIndex-te.sortIndex;return ie!==0?ie:Z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,w=null,T=3,_=!1,S=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(Z){for(var te=t(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=Z)r(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(p)}}function q(Z){if(C=!1,B(Z),!S)if(t(f)!==null)S=!0,we(ee);else{var te=t(p);te!==null&&ve(q,te.startTime-Z)}}function ee(Z,te){S=!1,C&&(C=!1,j(A),A=-1),_=!0;var ie=T;try{for(B(te),w=t(f);w!==null&&(!(w.expirationTime>te)||Z&&!O());){var z=w.callback;if(typeof z=="function"){w.callback=null,T=w.priorityLevel;var X=z(w.expirationTime<=te);te=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&r(f),B(te)}else r(f);w=t(f)}if(w!==null)var de=!0;else{var he=t(p);he!==null&&ve(q,he.startTime-te),de=!1}return de}finally{w=null,T=ie,_=!1}}var G=!1,k=null,A=-1,P=5,L=-1;function O(){return!(n.unstable_now()-L<P)}function M(){if(k!==null){var Z=n.unstable_now();L=Z;var te=!0;try{te=k(!0,Z)}finally{te?R():(G=!1,k=null)}}else G=!1}var R;if(typeof U=="function")R=function(){U(M)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Te=J.port2;J.port1.onmessage=M,R=function(){Te.postMessage(null)}}else R=function(){b(M,0)};function we(Z){k=Z,G||(G=!0,R())}function ve(Z,te){A=b(function(){Z(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,we(ee))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var te=3;break;default:te=T}var ie=T;T=te;try{return Z()}finally{T=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,te){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=T;T=Z;try{return te()}finally{T=ie}},n.unstable_scheduleCallback=function(Z,te,ie){var z=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?z+ie:z):ie=z,Z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ie+X,Z={id:g++,callback:te,priorityLevel:Z,startTime:ie,expirationTime:X,sortIndex:-1},ie>z?(Z.sortIndex=ie,e(p,Z),t(f)===null&&Z===t(p)&&(C?(j(A),A=-1):C=!0,ve(q,ie-z))):(Z.sortIndex=X,e(f,Z),S||_||(S=!0,we(ee))),Z},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Z){var te=T;return function(){var ie=T;T=te;try{return Z.apply(this,arguments)}finally{T=ie}}}})(Vf)),Vf}var Zv;function ES(){return Zv||(Zv=1,Lf.exports=_S()),Lf.exports}var ew;function xS(){if(ew)return vn;ew=1;var n=_m(),e=ES();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function T(s){return f.call(w,s)?!0:f.call(g,s)?!1:p.test(s)?w[s]=!0:(g[s]=!0,!1)}function _(s,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,o,l,d){if(o===null||typeof o>"u"||_(s,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(s,o,l,d,m,y,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new C(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(j,U);b[o]=new C(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(j,U);b[o]=new C(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(j,U);b[o]=new C(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,o,l,d){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,l,m,d)&&(l=null),d||m===null?T(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?s.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?s.setAttributeNS(d,o,l):s.setAttribute(o,l))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),G=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),Z=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,z;function X(s){if(z===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var de=!1;function he(s,o){if(!s||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var d=Q}Reflect.construct(s,[],o)}else{try{o.call()}catch(Q){d=Q}s.call(o.prototype)}else{try{throw Error()}catch(Q){d=Q}s()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),y=d.stack.split(`
`),I=m.length-1,V=y.length-1;1<=I&&0<=V&&m[I]!==y[V];)V--;for(;1<=I&&0<=V;I--,V--)if(m[I]!==y[V]){if(I!==1||V!==1)do if(I--,V--,0>V||m[I]!==y[V]){var F=`
`+m[I].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=I&&0<=V);break}}}finally{de=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?X(s):""}function Ie(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case G:return"Portal";case P:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case J:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Te:return o=s.displayName||null,o!==null?o:Ne(s.type)||"Memo";case we:o=s._payload,s=s._init;try{return Ne(s(o))}catch{}}return null}function me(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ve(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function et(s){var o=Ve(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){d=""+I,y.call(this,I)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function dn(s){s._valueTracker||(s._valueTracker=et(s))}function Xn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return s&&(d=Ve(s)?s.checked?"true":"false":s.value),s=d,s!==l?(o.setValue(s),!0):!1}function Kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ds(s,o){var l=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function To(s,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Re(o.value!=null?o.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ts(s,o){o=o.checked,o!=null&&B(s,"checked",o,!1)}function ns(s,o){ts(s,o);var l=Re(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ft(s,o.type,l):o.hasOwnProperty("defaultValue")&&ft(s,o.type,Re(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function rs(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function ft(s,o,l){(o!=="number"||Kt(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var lt=Array.isArray;function Ft(s,o,l,d){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Re(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Os(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Tn(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(lt(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:Re(l)}}function Io(s,o){var l=Re(o.value),d=Re(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function yr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function kt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function In(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?kt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var vr,So=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,l,d,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=vr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Fn(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oi=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(s){Oi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),wr[o]=wr[s]})});function Un(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||wr.hasOwnProperty(s)&&wr[s]?(""+o).trim():o+"px"}function Sn(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Un(l,o[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,m):s[l]=m}}var Ms=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dt(s,o){if(o){if(Ms[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ls(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _r=null;function ss(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bn=null,Jn=null,tt=null;function hn(s){if(s=wl(s)){if(typeof Bn!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Wu(o),Bn(s.stateNode,s.type,o))}}function Er(s){Jn?tt?tt.push(s):tt=[s]:Jn=s}function Ce(){if(Jn){var s=Jn,o=tt;if(tt=Jn=null,hn(s),o)for(s=0;s<o.length;s++)hn(o[s])}}function He(s,o){return s(o)}function Ye(){}var pt=!1;function Gt(s,o,l){if(pt)return s(o,l);pt=!0;try{return He(s,o,l)}finally{pt=!1,(Jn!==null||tt!==null)&&(Ye(),Ce())}}function Qt(s,o){var l=s.stateNode;if(l===null)return null;var d=Wu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Yt=!1;if(h)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){Yt=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{Yt=!1}function Cn(s,o,l,d,m,y,I,V,F){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(l,Q)}catch(oe){this.onError(oe)}}var is=!1,xr=null,Co=!1,zn=null,Iu={onError:function(s){is=!0,xr=s}};function Su(s,o,l,d,m,y,I,V,F){is=!1,xr=null,Cn.apply(Iu,arguments)}function Ka(s,o,l,d,m,y,I,V,F){if(Su.apply(this,arguments),is){if(is){var Q=xr;is=!1,xr=null}else throw Error(t(198));Co||(Co=!0,zn=Q)}}function Zn(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function Ga(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Cu(s){if(Zn(s)!==s)throw Error(t(188))}function bu(s){var o=s.alternate;if(!o){if(o=Zn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,d=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Cu(m),s;if(y===d)return Cu(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=y;else{for(var I=!1,V=m.child;V;){if(V===l){I=!0,l=m,d=y;break}if(V===d){I=!0,d=m,l=y;break}V=V.sibling}if(!I){for(V=y.child;V;){if(V===l){I=!0,l=y,d=m;break}if(V===d){I=!0,d=y,l=m;break}V=V.sibling}if(!I)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function Au(s){return s=bu(s),s!==null?Mi(s):null}function Mi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Mi(s);if(o!==null)return o;s=s.sibling}return null}var Qa=e.unstable_scheduleCallback,bo=e.unstable_cancelCallback,Li=e.unstable_shouldYield,os=e.unstable_requestPaint,st=e.unstable_now,uh=e.unstable_getCurrentPriorityLevel,Ao=e.unstable_ImmediatePriority,Ya=e.unstable_UserBlockingPriority,Vi=e.unstable_NormalPriority,Xa=e.unstable_LowPriority,Ro=e.unstable_IdlePriority,ji=null,bn=null;function Ru(s){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(ji,s,void 0,(s.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:Fi,Tr=Math.log,$n=Math.LN2;function Fi(s){return s>>>=0,s===0?32:31-(Tr(s)/$n|0)|0}var Ir=64,Vs=4194304;function Ge(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function as(s,o){var l=s.pendingLanes;if(l===0)return 0;var d=0,m=s.suspendedLanes,y=s.pingedLanes,I=l&268435455;if(I!==0){var V=I&~m;V!==0?d=Ge(V):(y&=I,y!==0&&(d=Ge(y)))}else I=l&~m,I!==0?d=Ge(I):y!==0&&(d=Ge(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)l=31-An(o),m=1<<l,d|=s[l],o&=~m;return d}function Ui(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bi(s,o){for(var l=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var I=31-An(y),V=1<<I,F=m[I];F===-1?((V&l)===0||(V&d)!==0)&&(m[I]=Ui(V,o)):F<=o&&(s.expiredLanes|=V),y&=~V}}function Ja(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Za(){var s=Ir;return Ir<<=1,(Ir&4194240)===0&&(Ir=64),s}function el(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function zi(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-An(o),s[o]=l}function ch(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-An(l),y=1<<m;o[m]=0,d[m]=-1,s[m]=-1,l&=~y}}function tl(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var d=31-An(l),m=1<<d;m&o|s[d]&o&&(s[d]|=o),l&=~m}}var $e=0;function Sr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var nl,Po,rl,sl,il,Cr=!1,No=[],br=null,Ar=null,Ut=null,$i=new Map,ls=new Map,Rn=[],Pu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function js(s,o){switch(s){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":$i.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(o.pointerId)}}function er(s,o,l,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=wl(o),o!==null&&Po(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Nu(s,o,l,d,m){switch(o){case"focusin":return br=er(br,s,o,l,d,m),!0;case"dragenter":return Ar=er(Ar,s,o,l,d,m),!0;case"mouseover":return Ut=er(Ut,s,o,l,d,m),!0;case"pointerover":var y=m.pointerId;return $i.set(y,er($i.get(y)||null,s,o,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,ls.set(y,er(ls.get(y)||null,s,o,l,d,m)),!0}return!1}function ko(s){var o=Ki(s.target);if(o!==null){var l=Zn(o);if(l!==null){if(o=l.tag,o===13){if(o=Ga(l),o!==null){s.blockedOn=o,il(s.priority,function(){rl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Je(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Do(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);_r=d,l.target.dispatchEvent(d),_r=null}else return o=wl(l),o!==null&&Po(o),s.blockedOn=l,!1;o.shift()}return!0}function ku(s,o,l){Je(s)&&l.delete(o)}function dh(){Cr=!1,br!==null&&Je(br)&&(br=null),Ar!==null&&Je(Ar)&&(Ar=null),Ut!==null&&Je(Ut)&&(Ut=null),$i.forEach(ku),ls.forEach(ku)}function Fs(s,o){s.blockedOn===o&&(s.blockedOn=null,Cr||(Cr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dh)))}function Us(s){function o(m){return Fs(m,s)}if(0<No.length){Fs(No[0],s);for(var l=1;l<No.length;l++){var d=No[l];d.blockedOn===s&&(d.blockedOn=null)}}for(br!==null&&Fs(br,s),Ar!==null&&Fs(Ar,s),Ut!==null&&Fs(Ut,s),$i.forEach(o),ls.forEach(o),l=0;l<Rn.length;l++)d=Rn[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Rn.length&&(l=Rn[0],l.blockedOn===null);)ko(l),l.blockedOn===null&&Rn.shift()}var us=q.ReactCurrentBatchConfig,cs=!0;function Rr(s,o,l,d){var m=$e,y=us.transition;us.transition=null;try{$e=1,ol(s,o,l,d)}finally{$e=m,us.transition=y}}function Du(s,o,l,d){var m=$e,y=us.transition;us.transition=null;try{$e=4,ol(s,o,l,d)}finally{$e=m,us.transition=y}}function ol(s,o,l,d){if(cs){var m=Do(s,o,l,d);if(m===null)xh(s,o,d,Pr,l),js(s,d);else if(Nu(m,s,o,l,d))d.stopPropagation();else if(js(s,d),o&4&&-1<Pu.indexOf(s)){for(;m!==null;){var y=wl(m);if(y!==null&&nl(y),y=Do(s,o,l,d),y===null&&xh(s,o,d,Pr,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else xh(s,o,d,null,l)}}var Pr=null;function Do(s,o,l,d){if(Pr=null,s=ss(d),s=Ki(s),s!==null)if(o=Zn(s),o===null)s=null;else if(l=o.tag,l===13){if(s=Ga(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Pr=s,null}function Oo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uh()){case Ao:return 1;case Ya:return 4;case Vi:case Xa:return 16;case Ro:return 536870912;default:return 16}default:return 16}}var Pn=null,Mo=null,ds=null;function Ou(){if(ds)return ds;var s,o=Mo,l=o.length,d,m="value"in Pn?Pn.value:Pn.textContent,y=m.length;for(s=0;s<l&&o[s]===m[s];s++);var I=l-s;for(d=1;d<=I&&o[l-d]===m[y-d];d++);return ds=m.slice(s,1<d?1-d:void 0)}function qi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Nr(){return!0}function al(){return!1}function Xt(s){function o(l,d,m,y,I){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(l=s[V],this[V]=l?l(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Nr:al,this.isPropagationStopped=al,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),o}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Xt(kr),Bs=ie({},kr,{view:0,detail:0}),Lo=Xt(Bs),Vo,jo,Nn,Wi=ie({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Me,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Nn&&(Nn&&s.type==="mousemove"?(Vo=s.screenX-Nn.screenX,jo=s.screenY-Nn.screenY):jo=Vo=0,Nn=s),Vo)},movementY:function(s){return"movementY"in s?s.movementY:jo}}),ll=Xt(Wi),Mu=ie({},Wi,{dataTransfer:0}),Lu=Xt(Mu),Fo=ie({},Bs,{relatedTarget:0}),Bt=Xt(Fo),Vu=ie({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=Xt(Vu),zs=ie({},kr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Xt(zs),v=ie({},kr,{data:0}),x=Xt(v),N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Y[s])?!!o[s]:!1}function Me(){return ce}var yt=ie({},Bs,{key:function(s){if(s.key){var o=N[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Me,charCode:function(s){return s.type==="keypress"?qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xe=Xt(yt),xt=ie({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kn=Xt(xt),hs=ie({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Me}),Dr=Xt(hs),Or=ie({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uo=Xt(Or),ul=ie({},Wi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),cI=Xt(ul),dI=[9,13,27,32],hh=h&&"CompositionEvent"in window,cl=null;h&&"documentMode"in document&&(cl=document.documentMode);var hI=h&&"TextEvent"in window&&!cl,Ug=h&&(!hh||cl&&8<cl&&11>=cl),Bg=" ",zg=!1;function $g(s,o){switch(s){case"keyup":return dI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bo=!1;function fI(s,o){switch(s){case"compositionend":return qg(o);case"keypress":return o.which!==32?null:(zg=!0,Bg);case"textInput":return s=o.data,s===Bg&&zg?null:s;default:return null}}function pI(s,o){if(Bo)return s==="compositionend"||!hh&&$g(s,o)?(s=Ou(),ds=Mo=Pn=null,Bo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ug&&o.locale!=="ko"?null:o.data;default:return null}}var mI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!mI[s.type]:o==="textarea"}function Wg(s,o,l,d){Er(d),o=$u(o,"onChange"),0<o.length&&(l=new Hi("onChange","change",null,l,d),s.push({event:l,listeners:o}))}var dl=null,hl=null;function gI(s){cy(s,0)}function Fu(s){var o=Wo(s);if(Xn(o))return s}function yI(s,o){if(s==="change")return o}var Kg=!1;if(h){var fh;if(h){var ph="oninput"in document;if(!ph){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),ph=typeof Gg.oninput=="function"}fh=ph}else fh=!1;Kg=fh&&(!document.documentMode||9<document.documentMode)}function Qg(){dl&&(dl.detachEvent("onpropertychange",Yg),hl=dl=null)}function Yg(s){if(s.propertyName==="value"&&Fu(hl)){var o=[];Wg(o,hl,s,ss(s)),Gt(gI,o)}}function vI(s,o,l){s==="focusin"?(Qg(),dl=o,hl=l,dl.attachEvent("onpropertychange",Yg)):s==="focusout"&&Qg()}function wI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Fu(hl)}function _I(s,o){if(s==="click")return Fu(o)}function EI(s,o){if(s==="input"||s==="change")return Fu(o)}function xI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var tr=typeof Object.is=="function"?Object.is:xI;function fl(s,o){if(tr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!tr(s[m],o[m]))return!1}return!0}function Xg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Jg(s,o){var l=Xg(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=o&&d>=o)return{node:l,offset:o-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xg(l)}}function Zg(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Zg(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ey(){for(var s=window,o=Kt();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Kt(s.document)}return o}function mh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function TI(s){var o=ey(),l=s.focusedElem,d=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Zg(l.ownerDocument.documentElement,l)){if(d!==null&&mh(l)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!s.extend&&y>d&&(m=d,d=y,y=m),m=Jg(l,y);var I=Jg(l,d);m&&I&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>d?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var II=h&&"documentMode"in document&&11>=document.documentMode,zo=null,gh=null,pl=null,yh=!1;function ty(s,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yh||zo==null||zo!==Kt(d)||(d=zo,"selectionStart"in d&&mh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),pl&&fl(pl,d)||(pl=d,d=$u(gh,"onSelect"),0<d.length&&(o=new Hi("onSelect","select",null,o,l),s.push({event:o,listeners:d}),o.target=zo)))}function Uu(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var $o={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},vh={},ny={};h&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Bu(s){if(vh[s])return vh[s];if(!$o[s])return s;var o=$o[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in ny)return vh[s]=o[l];return s}var ry=Bu("animationend"),sy=Bu("animationiteration"),iy=Bu("animationstart"),oy=Bu("transitionend"),ay=new Map,ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(s,o){ay.set(s,o),a(o,[s])}for(var wh=0;wh<ly.length;wh++){var _h=ly[wh],SI=_h.toLowerCase(),CI=_h[0].toUpperCase()+_h.slice(1);$s(SI,"on"+CI)}$s(ry,"onAnimationEnd"),$s(sy,"onAnimationIteration"),$s(iy,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(oy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function uy(s,o,l){var d=s.type||"unknown-event";s.currentTarget=l,Ka(d,o,void 0,s),s.currentTarget=null}function cy(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var I=d.length-1;0<=I;I--){var V=d[I],F=V.instance,Q=V.currentTarget;if(V=V.listener,F!==y&&m.isPropagationStopped())break e;uy(m,V,Q),y=F}else for(I=0;I<d.length;I++){if(V=d[I],F=V.instance,Q=V.currentTarget,V=V.listener,F!==y&&m.isPropagationStopped())break e;uy(m,V,Q),y=F}}}if(Co)throw s=zn,Co=!1,zn=null,s}function it(s,o){var l=o[Ah];l===void 0&&(l=o[Ah]=new Set);var d=s+"__bubble";l.has(d)||(dy(o,s,2,!1),l.add(d))}function Eh(s,o,l){var d=0;o&&(d|=4),dy(l,s,d,o)}var zu="_reactListening"+Math.random().toString(36).slice(2);function gl(s){if(!s[zu]){s[zu]=!0,r.forEach(function(l){l!=="selectionchange"&&(bI.has(l)||Eh(l,!1,s),Eh(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[zu]||(o[zu]=!0,Eh("selectionchange",!1,o))}}function dy(s,o,l,d){switch(Oo(o)){case 1:var m=Rr;break;case 4:m=Du;break;default:m=ol}l=m.bind(null,o,l,s),m=void 0,!Yt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function xh(s,o,l,d,m){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var V=d.stateNode.containerInfo;if(V===m||V.nodeType===8&&V.parentNode===m)break;if(I===4)for(I=d.return;I!==null;){var F=I.tag;if((F===3||F===4)&&(F=I.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;I=I.return}for(;V!==null;){if(I=Ki(V),I===null)return;if(F=I.tag,F===5||F===6){d=y=I;continue e}V=V.parentNode}}d=d.return}Gt(function(){var Q=y,oe=ss(l),ae=[];e:{var se=ay.get(s);if(se!==void 0){var fe=Hi,_e=s;switch(s){case"keypress":if(qi(l)===0)break e;case"keydown":case"keyup":fe=Xe;break;case"focusin":_e="focus",fe=Bt;break;case"focusout":_e="blur",fe=Bt;break;case"beforeblur":case"afterblur":fe=Bt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Dr;break;case ry:case sy:case iy:fe=ju;break;case oy:fe=Uo;break;case"scroll":fe=Lo;break;case"wheel":fe=cI;break;case"copy":case"cut":case"paste":fe=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=kn}var Ee=(o&4)!==0,vt=!Ee&&s==="scroll",H=Ee?se!==null?se+"Capture":null:se;Ee=[];for(var $=Q,K;$!==null;){K=$;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,H!==null&&(le=Qt($,H),le!=null&&Ee.push(yl($,le,K)))),vt)break;$=$.return}0<Ee.length&&(se=new fe(se,_e,null,l,oe),ae.push({event:se,listeners:Ee}))}}if((o&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",se&&l!==_r&&(_e=l.relatedTarget||l.fromElement)&&(Ki(_e)||_e[fs]))break e;if((fe||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(_e=l.relatedTarget||l.toElement,fe=Q,_e=_e?Ki(_e):null,_e!==null&&(vt=Zn(_e),_e!==vt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(fe=null,_e=Q),fe!==_e)){if(Ee=ll,le="onMouseLeave",H="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=kn,le="onPointerLeave",H="onPointerEnter",$="pointer"),vt=fe==null?se:Wo(fe),K=_e==null?se:Wo(_e),se=new Ee(le,$+"leave",fe,l,oe),se.target=vt,se.relatedTarget=K,le=null,Ki(oe)===Q&&(Ee=new Ee(H,$+"enter",_e,l,oe),Ee.target=K,Ee.relatedTarget=vt,le=Ee),vt=le,fe&&_e)t:{for(Ee=fe,H=_e,$=0,K=Ee;K;K=qo(K))$++;for(K=0,le=H;le;le=qo(le))K++;for(;0<$-K;)Ee=qo(Ee),$--;for(;0<K-$;)H=qo(H),K--;for(;$--;){if(Ee===H||H!==null&&Ee===H.alternate)break t;Ee=qo(Ee),H=qo(H)}Ee=null}else Ee=null;fe!==null&&hy(ae,se,fe,Ee,!1),_e!==null&&vt!==null&&hy(ae,vt,_e,Ee,!0)}}e:{if(se=Q?Wo(Q):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var xe=yI;else if(Hg(se))if(Kg)xe=EI;else{xe=wI;var be=vI}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(xe=_I);if(xe&&(xe=xe(s,Q))){Wg(ae,xe,l,oe);break e}be&&be(s,se,Q),s==="focusout"&&(be=se._wrapperState)&&be.controlled&&se.type==="number"&&ft(se,"number",se.value)}switch(be=Q?Wo(Q):window,s){case"focusin":(Hg(be)||be.contentEditable==="true")&&(zo=be,gh=Q,pl=null);break;case"focusout":pl=gh=zo=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,ty(ae,l,oe);break;case"selectionchange":if(II)break;case"keydown":case"keyup":ty(ae,l,oe)}var Ae;if(hh)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Bo?$g(s,l)&&(ke="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(Ug&&l.locale!=="ko"&&(Bo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Bo&&(Ae=Ou()):(Pn=oe,Mo="value"in Pn?Pn.value:Pn.textContent,Bo=!0)),be=$u(Q,ke),0<be.length&&(ke=new x(ke,s,null,l,oe),ae.push({event:ke,listeners:be}),Ae?ke.data=Ae:(Ae=qg(l),Ae!==null&&(ke.data=Ae)))),(Ae=hI?fI(s,l):pI(s,l))&&(Q=$u(Q,"onBeforeInput"),0<Q.length&&(oe=new x("onBeforeInput","beforeinput",null,l,oe),ae.push({event:oe,listeners:Q}),oe.data=Ae))}cy(ae,o)})}function yl(s,o,l){return{instance:s,listener:o,currentTarget:l}}function $u(s,o){for(var l=o+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Qt(s,l),y!=null&&d.unshift(yl(s,y,m)),y=Qt(s,o),y!=null&&d.push(yl(s,y,m))),s=s.return}return d}function qo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function hy(s,o,l,d,m){for(var y=o._reactName,I=[];l!==null&&l!==d;){var V=l,F=V.alternate,Q=V.stateNode;if(F!==null&&F===d)break;V.tag===5&&Q!==null&&(V=Q,m?(F=Qt(l,y),F!=null&&I.unshift(yl(l,F,V))):m||(F=Qt(l,y),F!=null&&I.push(yl(l,F,V)))),l=l.return}I.length!==0&&s.push({event:o,listeners:I})}var AI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function fy(s){return(typeof s=="string"?s:""+s).replace(AI,`
`).replace(RI,"")}function qu(s,o,l){if(o=fy(o),fy(s)!==o&&l)throw Error(t(425))}function Hu(){}var Th=null,Ih=null;function Sh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ch=typeof setTimeout=="function"?setTimeout:void 0,PI=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,NI=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(s){return py.resolve(null).then(s).catch(kI)}:Ch;function kI(s){setTimeout(function(){throw s})}function bh(s,o){var l=o,d=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){s.removeChild(m),Us(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Us(o)}function qs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function my(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Mr="__reactFiber$"+Ho,vl="__reactProps$"+Ho,fs="__reactContainer$"+Ho,Ah="__reactEvents$"+Ho,DI="__reactListeners$"+Ho,OI="__reactHandles$"+Ho;function Ki(s){var o=s[Mr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[fs]||l[Mr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=my(s);s!==null;){if(l=s[Mr])return l;s=my(s)}return o}s=l,l=s.parentNode}return null}function wl(s){return s=s[Mr]||s[fs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Wo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Wu(s){return s[vl]||null}var Rh=[],Ko=-1;function Hs(s){return{current:s}}function ot(s){0>Ko||(s.current=Rh[Ko],Rh[Ko]=null,Ko--)}function nt(s,o){Ko++,Rh[Ko]=s.current,s.current=o}var Ws={},Jt=Hs(Ws),fn=Hs(!1),Gi=Ws;function Go(s,o){var l=s.type.contextTypes;if(!l)return Ws;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function pn(s){return s=s.childContextTypes,s!=null}function Ku(){ot(fn),ot(Jt)}function gy(s,o,l){if(Jt.current!==Ws)throw Error(t(168));nt(Jt,o),nt(fn,l)}function yy(s,o,l){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,me(s)||"Unknown",m));return ie({},l,d)}function Gu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ws,Gi=Jt.current,nt(Jt,s),nt(fn,fn.current),!0}function vy(s,o,l){var d=s.stateNode;if(!d)throw Error(t(169));l?(s=yy(s,o,Gi),d.__reactInternalMemoizedMergedChildContext=s,ot(fn),ot(Jt),nt(Jt,s)):ot(fn),nt(fn,l)}var ps=null,Qu=!1,Ph=!1;function wy(s){ps===null?ps=[s]:ps.push(s)}function MI(s){Qu=!0,wy(s)}function Ks(){if(!Ph&&ps!==null){Ph=!0;var s=0,o=$e;try{var l=ps;for($e=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}ps=null,Qu=!1}catch(m){throw ps!==null&&(ps=ps.slice(s+1)),Qa(Ao,Ks),m}finally{$e=o,Ph=!1}}return null}var Qo=[],Yo=0,Yu=null,Xu=0,qn=[],Hn=0,Qi=null,ms=1,gs="";function Yi(s,o){Qo[Yo++]=Xu,Qo[Yo++]=Yu,Yu=s,Xu=o}function _y(s,o,l){qn[Hn++]=ms,qn[Hn++]=gs,qn[Hn++]=Qi,Qi=s;var d=ms;s=gs;var m=32-An(d)-1;d&=~(1<<m),l+=1;var y=32-An(o)+m;if(30<y){var I=m-m%5;y=(d&(1<<I)-1).toString(32),d>>=I,m-=I,ms=1<<32-An(o)+m|l<<m|d,gs=y+s}else ms=1<<y|l<<m|d,gs=s}function Nh(s){s.return!==null&&(Yi(s,1),_y(s,1,0))}function kh(s){for(;s===Yu;)Yu=Qo[--Yo],Qo[Yo]=null,Xu=Qo[--Yo],Qo[Yo]=null;for(;s===Qi;)Qi=qn[--Hn],qn[Hn]=null,gs=qn[--Hn],qn[Hn]=null,ms=qn[--Hn],qn[Hn]=null}var Dn=null,On=null,ut=!1,nr=null;function Ey(s,o){var l=Qn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function xy(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Dn=s,On=qs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Dn=s,On=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Qi!==null?{id:ms,overflow:gs}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Qn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,Dn=s,On=null,!0):!1;default:return!1}}function Dh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Oh(s){if(ut){var o=On;if(o){var l=o;if(!xy(s,o)){if(Dh(s))throw Error(t(418));o=qs(l.nextSibling);var d=Dn;o&&xy(s,o)?Ey(d,l):(s.flags=s.flags&-4097|2,ut=!1,Dn=s)}}else{if(Dh(s))throw Error(t(418));s.flags=s.flags&-4097|2,ut=!1,Dn=s}}}function Ty(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Dn=s}function Ju(s){if(s!==Dn)return!1;if(!ut)return Ty(s),ut=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Sh(s.type,s.memoizedProps)),o&&(o=On)){if(Dh(s))throw Iy(),Error(t(418));for(;o;)Ey(s,o),o=qs(o.nextSibling)}if(Ty(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){On=qs(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}On=null}}else On=Dn?qs(s.stateNode.nextSibling):null;return!0}function Iy(){for(var s=On;s;)s=qs(s.nextSibling)}function Xo(){On=Dn=null,ut=!1}function Mh(s){nr===null?nr=[s]:nr.push(s)}var LI=q.ReactCurrentBatchConfig;function _l(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,s));var m=d,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(I){var V=m.refs;I===null?delete V[y]:V[y]=I},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Zu(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Sy(s){var o=s._init;return o(s._payload)}function Cy(s){function o(H,$){if(s){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function l(H,$){if(!s)return null;for(;$!==null;)o(H,$),$=$.sibling;return null}function d(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function m(H,$){return H=ti(H,$),H.index=0,H.sibling=null,H}function y(H,$,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=2,$):K):(H.flags|=2,$)):(H.flags|=1048576,$)}function I(H){return s&&H.alternate===null&&(H.flags|=2),H}function V(H,$,K,le){return $===null||$.tag!==6?($=bf(K,H.mode,le),$.return=H,$):($=m($,K),$.return=H,$)}function F(H,$,K,le){var xe=K.type;return xe===k?oe(H,$,K.props.children,le,K.key):$!==null&&($.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===we&&Sy(xe)===$.type)?(le=m($,K.props),le.ref=_l(H,$,K),le.return=H,le):(le=Tc(K.type,K.key,K.props,null,H.mode,le),le.ref=_l(H,$,K),le.return=H,le)}function Q(H,$,K,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Af(K,H.mode,le),$.return=H,$):($=m($,K.children||[]),$.return=H,$)}function oe(H,$,K,le,xe){return $===null||$.tag!==7?($=so(K,H.mode,le,xe),$.return=H,$):($=m($,K),$.return=H,$)}function ae(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=bf(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ee:return K=Tc($.type,$.key,$.props,null,H.mode,K),K.ref=_l(H,null,$),K.return=H,K;case G:return $=Af($,H.mode,K),$.return=H,$;case we:var le=$._init;return ae(H,le($._payload),K)}if(lt($)||te($))return $=so($,H.mode,K,null),$.return=H,$;Zu(H,$)}return null}function se(H,$,K,le){var xe=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return xe!==null?null:V(H,$,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ee:return K.key===xe?F(H,$,K,le):null;case G:return K.key===xe?Q(H,$,K,le):null;case we:return xe=K._init,se(H,$,xe(K._payload),le)}if(lt(K)||te(K))return xe!==null?null:oe(H,$,K,le,null);Zu(H,K)}return null}function fe(H,$,K,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number")return H=H.get(K)||null,V($,H,""+le,xe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case ee:return H=H.get(le.key===null?K:le.key)||null,F($,H,le,xe);case G:return H=H.get(le.key===null?K:le.key)||null,Q($,H,le,xe);case we:var be=le._init;return fe(H,$,K,be(le._payload),xe)}if(lt(le)||te(le))return H=H.get(K)||null,oe($,H,le,xe,null);Zu($,le)}return null}function _e(H,$,K,le){for(var xe=null,be=null,Ae=$,ke=$=0,Lt=null;Ae!==null&&ke<K.length;ke++){Ae.index>ke?(Lt=Ae,Ae=null):Lt=Ae.sibling;var Ke=se(H,Ae,K[ke],le);if(Ke===null){Ae===null&&(Ae=Lt);break}s&&Ae&&Ke.alternate===null&&o(H,Ae),$=y(Ke,$,ke),be===null?xe=Ke:be.sibling=Ke,be=Ke,Ae=Lt}if(ke===K.length)return l(H,Ae),ut&&Yi(H,ke),xe;if(Ae===null){for(;ke<K.length;ke++)Ae=ae(H,K[ke],le),Ae!==null&&($=y(Ae,$,ke),be===null?xe=Ae:be.sibling=Ae,be=Ae);return ut&&Yi(H,ke),xe}for(Ae=d(H,Ae);ke<K.length;ke++)Lt=fe(Ae,H,ke,K[ke],le),Lt!==null&&(s&&Lt.alternate!==null&&Ae.delete(Lt.key===null?ke:Lt.key),$=y(Lt,$,ke),be===null?xe=Lt:be.sibling=Lt,be=Lt);return s&&Ae.forEach(function(ni){return o(H,ni)}),ut&&Yi(H,ke),xe}function Ee(H,$,K,le){var xe=te(K);if(typeof xe!="function")throw Error(t(150));if(K=xe.call(K),K==null)throw Error(t(151));for(var be=xe=null,Ae=$,ke=$=0,Lt=null,Ke=K.next();Ae!==null&&!Ke.done;ke++,Ke=K.next()){Ae.index>ke?(Lt=Ae,Ae=null):Lt=Ae.sibling;var ni=se(H,Ae,Ke.value,le);if(ni===null){Ae===null&&(Ae=Lt);break}s&&Ae&&ni.alternate===null&&o(H,Ae),$=y(ni,$,ke),be===null?xe=ni:be.sibling=ni,be=ni,Ae=Lt}if(Ke.done)return l(H,Ae),ut&&Yi(H,ke),xe;if(Ae===null){for(;!Ke.done;ke++,Ke=K.next())Ke=ae(H,Ke.value,le),Ke!==null&&($=y(Ke,$,ke),be===null?xe=Ke:be.sibling=Ke,be=Ke);return ut&&Yi(H,ke),xe}for(Ae=d(H,Ae);!Ke.done;ke++,Ke=K.next())Ke=fe(Ae,H,ke,Ke.value,le),Ke!==null&&(s&&Ke.alternate!==null&&Ae.delete(Ke.key===null?ke:Ke.key),$=y(Ke,$,ke),be===null?xe=Ke:be.sibling=Ke,be=Ke);return s&&Ae.forEach(function(mS){return o(H,mS)}),ut&&Yi(H,ke),xe}function vt(H,$,K,le){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case ee:e:{for(var xe=K.key,be=$;be!==null;){if(be.key===xe){if(xe=K.type,xe===k){if(be.tag===7){l(H,be.sibling),$=m(be,K.props.children),$.return=H,H=$;break e}}else if(be.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===we&&Sy(xe)===be.type){l(H,be.sibling),$=m(be,K.props),$.ref=_l(H,be,K),$.return=H,H=$;break e}l(H,be);break}else o(H,be);be=be.sibling}K.type===k?($=so(K.props.children,H.mode,le,K.key),$.return=H,H=$):(le=Tc(K.type,K.key,K.props,null,H.mode,le),le.ref=_l(H,$,K),le.return=H,H=le)}return I(H);case G:e:{for(be=K.key;$!==null;){if($.key===be)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(H,$.sibling),$=m($,K.children||[]),$.return=H,H=$;break e}else{l(H,$);break}else o(H,$);$=$.sibling}$=Af(K,H.mode,le),$.return=H,H=$}return I(H);case we:return be=K._init,vt(H,$,be(K._payload),le)}if(lt(K))return _e(H,$,K,le);if(te(K))return Ee(H,$,K,le);Zu(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(l(H,$.sibling),$=m($,K),$.return=H,H=$):(l(H,$),$=bf(K,H.mode,le),$.return=H,H=$),I(H)):l(H,$)}return vt}var Jo=Cy(!0),by=Cy(!1),ec=Hs(null),tc=null,Zo=null,Lh=null;function Vh(){Lh=Zo=tc=null}function jh(s){var o=ec.current;ot(ec),s._currentValue=o}function Fh(s,o,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===l)break;s=s.return}}function ea(s,o){tc=s,Lh=Zo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(mn=!0),s.firstContext=null)}function Wn(s){var o=s._currentValue;if(Lh!==s)if(s={context:s,memoizedValue:o,next:null},Zo===null){if(tc===null)throw Error(t(308));Zo=s,tc.dependencies={lanes:0,firstContext:s}}else Zo=Zo.next=s;return o}var Xi=null;function Uh(s){Xi===null?Xi=[s]:Xi.push(s)}function Ay(s,o,l,d){var m=o.interleaved;return m===null?(l.next=l,Uh(o)):(l.next=m.next,m.next=l),o.interleaved=l,ys(s,d)}function ys(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Gs=!1;function Bh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ry(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function vs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Qs(s,o,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,ys(s,l)}return m=d.interleaved,m===null?(o.next=o,Uh(d)):(o.next=m.next,m.next=o),d.interleaved=o,ys(s,l)}function nc(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,tl(s,l)}}function Py(s,o){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function rc(s,o,l,d){var m=s.updateQueue;Gs=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var F=V,Q=F.next;F.next=null,I===null?y=Q:I.next=Q,I=F;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,V=oe.lastBaseUpdate,V!==I&&(V===null?oe.firstBaseUpdate=Q:V.next=Q,oe.lastBaseUpdate=F))}if(y!==null){var ae=m.baseState;I=0,oe=Q=F=null,V=y;do{var se=V.lane,fe=V.eventTime;if((d&se)===se){oe!==null&&(oe=oe.next={eventTime:fe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var _e=s,Ee=V;switch(se=o,fe=l,Ee.tag){case 1:if(_e=Ee.payload,typeof _e=="function"){ae=_e.call(fe,ae,se);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ee.payload,se=typeof _e=="function"?_e.call(fe,ae,se):_e,se==null)break e;ae=ie({},ae,se);break e;case 2:Gs=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,se=m.effects,se===null?m.effects=[V]:se.push(V))}else fe={eventTime:fe,lane:se,tag:V.tag,payload:V.payload,callback:V.callback,next:null},oe===null?(Q=oe=fe,F=ae):oe=oe.next=fe,I|=se;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;se=V,V=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(oe===null&&(F=ae),m.baseState=F,m.firstBaseUpdate=Q,m.lastBaseUpdate=oe,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);eo|=I,s.lanes=I,s.memoizedState=ae}}function Ny(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var El={},Lr=Hs(El),xl=Hs(El),Tl=Hs(El);function Ji(s){if(s===El)throw Error(t(174));return s}function zh(s,o){switch(nt(Tl,o),nt(xl,s),nt(Lr,El),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:In(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=In(o,s)}ot(Lr),nt(Lr,o)}function ta(){ot(Lr),ot(xl),ot(Tl)}function ky(s){Ji(Tl.current);var o=Ji(Lr.current),l=In(o,s.type);o!==l&&(nt(xl,s),nt(Lr,l))}function $h(s){xl.current===s&&(ot(Lr),ot(xl))}var ct=Hs(0);function sc(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var qh=[];function Hh(){for(var s=0;s<qh.length;s++)qh[s]._workInProgressVersionPrimary=null;qh.length=0}var ic=q.ReactCurrentDispatcher,Wh=q.ReactCurrentBatchConfig,Zi=0,dt=null,At=null,Ot=null,oc=!1,Il=!1,Sl=0,VI=0;function Zt(){throw Error(t(321))}function Kh(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!tr(s[l],o[l]))return!1;return!0}function Gh(s,o,l,d,m,y){if(Zi=y,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ic.current=s===null||s.memoizedState===null?BI:zI,s=l(d,m),Il){y=0;do{if(Il=!1,Sl=0,25<=y)throw Error(t(301));y+=1,Ot=At=null,o.updateQueue=null,ic.current=$I,s=l(d,m)}while(Il)}if(ic.current=uc,o=At!==null&&At.next!==null,Zi=0,Ot=At=dt=null,oc=!1,o)throw Error(t(300));return s}function Qh(){var s=Sl!==0;return Sl=0,s}function Vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?dt.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Kn(){if(At===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var o=Ot===null?dt.memoizedState:Ot.next;if(o!==null)Ot=o,At=s;else{if(s===null)throw Error(t(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ot===null?dt.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function Cl(s,o){return typeof o=="function"?o(s):o}function Yh(s){var o=Kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=At,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var V=I=null,F=null,Q=y;do{var oe=Q.lane;if((Zi&oe)===oe)F!==null&&(F=F.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:s(d,Q.action);else{var ae={lane:oe,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};F===null?(V=F=ae,I=d):F=F.next=ae,dt.lanes|=oe,eo|=oe}Q=Q.next}while(Q!==null&&Q!==y);F===null?I=d:F.next=V,tr(d,o.memoizedState)||(mn=!0),o.memoizedState=d,o.baseState=I,o.baseQueue=F,l.lastRenderedState=d}if(s=l.interleaved,s!==null){m=s;do y=m.lane,dt.lanes|=y,eo|=y,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Xh(s){var o=Kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var I=m=m.next;do y=s(y,I.action),I=I.next;while(I!==m);tr(y,o.memoizedState)||(mn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function Dy(){}function Oy(s,o){var l=dt,d=Kn(),m=o(),y=!tr(d.memoizedState,m);if(y&&(d.memoizedState=m,mn=!0),d=d.queue,Jh(Vy.bind(null,l,d,s),[s]),d.getSnapshot!==o||y||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,bl(9,Ly.bind(null,l,d,m,o),void 0,null),Mt===null)throw Error(t(349));(Zi&30)!==0||My(l,o,m)}return m}function My(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Ly(s,o,l,d){o.value=l,o.getSnapshot=d,jy(o)&&Fy(s)}function Vy(s,o,l){return l(function(){jy(o)&&Fy(s)})}function jy(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!tr(s,l)}catch{return!0}}function Fy(s){var o=ys(s,1);o!==null&&or(o,s,1,-1)}function Uy(s){var o=Vr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:s},o.queue=s,s=s.dispatch=UI.bind(null,dt,s),[o.memoizedState,s]}function bl(s,o,l,d){return s={tag:s,create:o,destroy:l,deps:d,next:null},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,o.lastEffect=s)),s}function By(){return Kn().memoizedState}function ac(s,o,l,d){var m=Vr();dt.flags|=s,m.memoizedState=bl(1|o,l,void 0,d===void 0?null:d)}function lc(s,o,l,d){var m=Kn();d=d===void 0?null:d;var y=void 0;if(At!==null){var I=At.memoizedState;if(y=I.destroy,d!==null&&Kh(d,I.deps)){m.memoizedState=bl(o,l,y,d);return}}dt.flags|=s,m.memoizedState=bl(1|o,l,y,d)}function zy(s,o){return ac(8390656,8,s,o)}function Jh(s,o){return lc(2048,8,s,o)}function $y(s,o){return lc(4,2,s,o)}function qy(s,o){return lc(4,4,s,o)}function Hy(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Wy(s,o,l){return l=l!=null?l.concat([s]):null,lc(4,4,Hy.bind(null,o,s),l)}function Zh(){}function Ky(s,o){var l=Kn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Kh(o,d[1])?d[0]:(l.memoizedState=[s,o],s)}function Gy(s,o){var l=Kn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Kh(o,d[1])?d[0]:(s=s(),l.memoizedState=[s,o],s)}function Qy(s,o,l){return(Zi&21)===0?(s.baseState&&(s.baseState=!1,mn=!0),s.memoizedState=l):(tr(l,o)||(l=Za(),dt.lanes|=l,eo|=l,s.baseState=!0),o)}function jI(s,o){var l=$e;$e=l!==0&&4>l?l:4,s(!0);var d=Wh.transition;Wh.transition={};try{s(!1),o()}finally{$e=l,Wh.transition=d}}function Yy(){return Kn().memoizedState}function FI(s,o,l){var d=Zs(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Xy(s))Jy(o,l);else if(l=Ay(s,o,l,d),l!==null){var m=ln();or(l,s,d,m),Zy(l,o,d)}}function UI(s,o,l){var d=Zs(s),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xy(s))Jy(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var I=o.lastRenderedState,V=y(I,l);if(m.hasEagerState=!0,m.eagerState=V,tr(V,I)){var F=o.interleaved;F===null?(m.next=m,Uh(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}l=Ay(s,o,m,d),l!==null&&(m=ln(),or(l,s,d,m),Zy(l,o,d))}}function Xy(s){var o=s.alternate;return s===dt||o!==null&&o===dt}function Jy(s,o){Il=oc=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Zy(s,o,l){if((l&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,tl(s,l)}}var uc={readContext:Wn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},BI={readContext:Wn,useCallback:function(s,o){return Vr().memoizedState=[s,o===void 0?null:o],s},useContext:Wn,useEffect:zy,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,ac(4194308,4,Hy.bind(null,o,s),l)},useLayoutEffect:function(s,o){return ac(4194308,4,s,o)},useInsertionEffect:function(s,o){return ac(4,2,s,o)},useMemo:function(s,o){var l=Vr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var d=Vr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=FI.bind(null,dt,s),[d.memoizedState,s]},useRef:function(s){var o=Vr();return s={current:s},o.memoizedState=s},useState:Uy,useDebugValue:Zh,useDeferredValue:function(s){return Vr().memoizedState=s},useTransition:function(){var s=Uy(!1),o=s[0];return s=jI.bind(null,s[1]),Vr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var d=dt,m=Vr();if(ut){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Mt===null)throw Error(t(349));(Zi&30)!==0||My(d,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,zy(Vy.bind(null,d,y,s),[s]),d.flags|=2048,bl(9,Ly.bind(null,d,y,l,o),void 0,null),l},useId:function(){var s=Vr(),o=Mt.identifierPrefix;if(ut){var l=gs,d=ms;l=(d&~(1<<32-An(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=Sl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=VI++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},zI={readContext:Wn,useCallback:Ky,useContext:Wn,useEffect:Jh,useImperativeHandle:Wy,useInsertionEffect:$y,useLayoutEffect:qy,useMemo:Gy,useReducer:Yh,useRef:By,useState:function(){return Yh(Cl)},useDebugValue:Zh,useDeferredValue:function(s){var o=Kn();return Qy(o,At.memoizedState,s)},useTransition:function(){var s=Yh(Cl)[0],o=Kn().memoizedState;return[s,o]},useMutableSource:Dy,useSyncExternalStore:Oy,useId:Yy,unstable_isNewReconciler:!1},$I={readContext:Wn,useCallback:Ky,useContext:Wn,useEffect:Jh,useImperativeHandle:Wy,useInsertionEffect:$y,useLayoutEffect:qy,useMemo:Gy,useReducer:Xh,useRef:By,useState:function(){return Xh(Cl)},useDebugValue:Zh,useDeferredValue:function(s){var o=Kn();return At===null?o.memoizedState=s:Qy(o,At.memoizedState,s)},useTransition:function(){var s=Xh(Cl)[0],o=Kn().memoizedState;return[s,o]},useMutableSource:Dy,useSyncExternalStore:Oy,useId:Yy,unstable_isNewReconciler:!1};function rr(s,o){if(s&&s.defaultProps){o=ie({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function ef(s,o,l,d){o=s.memoizedState,l=l(d,o),l=l==null?o:ie({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var cc={isMounted:function(s){return(s=s._reactInternals)?Zn(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var d=ln(),m=Zs(s),y=vs(d,m);y.payload=o,l!=null&&(y.callback=l),o=Qs(s,y,m),o!==null&&(or(o,s,m,d),nc(o,s,m))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var d=ln(),m=Zs(s),y=vs(d,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Qs(s,y,m),o!==null&&(or(o,s,m,d),nc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=ln(),d=Zs(s),m=vs(l,d);m.tag=2,o!=null&&(m.callback=o),o=Qs(s,m,d),o!==null&&(or(o,s,d,l),nc(o,s,d))}};function ev(s,o,l,d,m,y,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,I):o.prototype&&o.prototype.isPureReactComponent?!fl(l,d)||!fl(m,y):!0}function tv(s,o,l){var d=!1,m=Ws,y=o.contextType;return typeof y=="object"&&y!==null?y=Wn(y):(m=pn(o)?Gi:Jt.current,d=o.contextTypes,y=(d=d!=null)?Go(s,m):Ws),o=new o(l,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=cc,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function nv(s,o,l,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==s&&cc.enqueueReplaceState(o,o.state,null)}function tf(s,o,l,d){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},Bh(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Wn(y):(y=pn(o)?Gi:Jt.current,m.context=Go(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(ef(s,o,y,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&cc.enqueueReplaceState(m,m.state,null),rc(s,l,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function na(s,o){try{var l="",d=o;do l+=Ie(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function nf(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function rf(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var qI=typeof WeakMap=="function"?WeakMap:Map;function rv(s,o,l){l=vs(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){yc||(yc=!0,wf=d),rf(s,o)},l}function sv(s,o,l){l=vs(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){rf(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){rf(s,o),typeof d!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),l}function iv(s,o,l){var d=s.pingCache;if(d===null){d=s.pingCache=new qI;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),s=sS.bind(null,s,o,l),o.then(s,s))}function ov(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function av(s,o,l,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=vs(-1,1),o.tag=2,Qs(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var HI=q.ReactCurrentOwner,mn=!1;function an(s,o,l,d){o.child=s===null?by(o,null,l,d):Jo(o,s.child,l,d)}function lv(s,o,l,d,m){l=l.render;var y=o.ref;return ea(o,m),d=Gh(s,o,l,d,y,m),l=Qh(),s!==null&&!mn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ws(s,o,m)):(ut&&l&&Nh(o),o.flags|=1,an(s,o,d,m),o.child)}function uv(s,o,l,d,m){if(s===null){var y=l.type;return typeof y=="function"&&!Cf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,cv(s,o,y,d,m)):(s=Tc(l.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:fl,l(I,d)&&s.ref===o.ref)return ws(s,o,m)}return o.flags|=1,s=ti(y,d),s.ref=o.ref,s.return=o,o.child=s}function cv(s,o,l,d,m){if(s!==null){var y=s.memoizedProps;if(fl(y,d)&&s.ref===o.ref)if(mn=!1,o.pendingProps=d=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(mn=!0);else return o.lanes=s.lanes,ws(s,o,m)}return sf(s,o,l,d,m)}function dv(s,o,l){var d=o.pendingProps,m=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(sa,Mn),Mn|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,nt(sa,Mn),Mn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,nt(sa,Mn),Mn|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,nt(sa,Mn),Mn|=d;return an(s,o,m,l),o.child}function hv(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function sf(s,o,l,d,m){var y=pn(l)?Gi:Jt.current;return y=Go(o,y),ea(o,m),l=Gh(s,o,l,d,y,m),d=Qh(),s!==null&&!mn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ws(s,o,m)):(ut&&d&&Nh(o),o.flags|=1,an(s,o,l,m),o.child)}function fv(s,o,l,d,m){if(pn(l)){var y=!0;Gu(o)}else y=!1;if(ea(o,m),o.stateNode===null)hc(s,o),tv(o,l,d),tf(o,l,d,m),d=!0;else if(s===null){var I=o.stateNode,V=o.memoizedProps;I.props=V;var F=I.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Wn(Q):(Q=pn(l)?Gi:Jt.current,Q=Go(o,Q));var oe=l.getDerivedStateFromProps,ae=typeof oe=="function"||typeof I.getSnapshotBeforeUpdate=="function";ae||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==d||F!==Q)&&nv(o,I,d,Q),Gs=!1;var se=o.memoizedState;I.state=se,rc(o,d,I,m),F=o.memoizedState,V!==d||se!==F||fn.current||Gs?(typeof oe=="function"&&(ef(o,l,oe,d),F=o.memoizedState),(V=Gs||ev(o,l,V,d,se,F,Q))?(ae||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=F),I.props=d,I.state=F,I.context=Q,d=V):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{I=o.stateNode,Ry(s,o),V=o.memoizedProps,Q=o.type===o.elementType?V:rr(o.type,V),I.props=Q,ae=o.pendingProps,se=I.context,F=l.contextType,typeof F=="object"&&F!==null?F=Wn(F):(F=pn(l)?Gi:Jt.current,F=Go(o,F));var fe=l.getDerivedStateFromProps;(oe=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==ae||se!==F)&&nv(o,I,d,F),Gs=!1,se=o.memoizedState,I.state=se,rc(o,d,I,m);var _e=o.memoizedState;V!==ae||se!==_e||fn.current||Gs?(typeof fe=="function"&&(ef(o,l,fe,d),_e=o.memoizedState),(Q=Gs||ev(o,l,Q,d,se,_e,F)||!1)?(oe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(d,_e,F),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(d,_e,F)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=_e),I.props=d,I.state=_e,I.context=F,d=Q):(typeof I.componentDidUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),d=!1)}return of(s,o,l,d,y,m)}function of(s,o,l,d,m,y){hv(s,o);var I=(o.flags&128)!==0;if(!d&&!I)return m&&vy(o,l,!1),ws(s,o,y);d=o.stateNode,HI.current=o;var V=I&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&I?(o.child=Jo(o,s.child,null,y),o.child=Jo(o,null,V,y)):an(s,o,V,y),o.memoizedState=d.state,m&&vy(o,l,!0),o.child}function pv(s){var o=s.stateNode;o.pendingContext?gy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&gy(s,o.context,!1),zh(s,o.containerInfo)}function mv(s,o,l,d,m){return Xo(),Mh(m),o.flags|=256,an(s,o,l,d),o.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(s){return{baseLanes:s,cachePool:null,transitions:null}}function gv(s,o,l){var d=o.pendingProps,m=ct.current,y=!1,I=(o.flags&128)!==0,V;if((V=I)||(V=s!==null&&s.memoizedState===null?!1:(m&2)!==0),V?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),nt(ct,m&1),s===null)return Oh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=d.children,s=d.fallback,y?(d=o.mode,y=o.child,I={mode:"hidden",children:I},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=I):y=Ic(I,d,0,null),s=so(s,d,l,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=lf(l),o.memoizedState=af,s):uf(o,I));if(m=s.memoizedState,m!==null&&(V=m.dehydrated,V!==null))return WI(s,o,I,d,V,m,l);if(y){y=d.fallback,I=o.mode,m=s.child,V=m.sibling;var F={mode:"hidden",children:d.children};return(I&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=F,o.deletions=null):(d=ti(m,F),d.subtreeFlags=m.subtreeFlags&14680064),V!==null?y=ti(V,y):(y=so(y,I,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,I=s.child.memoizedState,I=I===null?lf(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},y.memoizedState=I,y.childLanes=s.childLanes&~l,o.memoizedState=af,d}return y=s.child,s=y.sibling,d=ti(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=d,o.memoizedState=null,d}function uf(s,o){return o=Ic({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function dc(s,o,l,d){return d!==null&&Mh(d),Jo(o,s.child,null,l),s=uf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function WI(s,o,l,d,m,y,I){if(l)return o.flags&256?(o.flags&=-257,d=nf(Error(t(422))),dc(s,o,I,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=Ic({mode:"visible",children:d.children},m,0,null),y=so(y,m,I,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&Jo(o,s.child,null,I),o.child.memoizedState=lf(I),o.memoizedState=af,y);if((o.mode&1)===0)return dc(s,o,I,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var V=d.dgst;return d=V,y=Error(t(419)),d=nf(y,d,void 0),dc(s,o,I,d)}if(V=(I&s.childLanes)!==0,mn||V){if(d=Mt,d!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|I))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,ys(s,m),or(d,s,m,-1))}return Sf(),d=nf(Error(t(421))),dc(s,o,I,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=iS.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,On=qs(m.nextSibling),Dn=o,ut=!0,nr=null,s!==null&&(qn[Hn++]=ms,qn[Hn++]=gs,qn[Hn++]=Qi,ms=s.id,gs=s.overflow,Qi=o),o=uf(o,d.children),o.flags|=4096,o)}function yv(s,o,l){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Fh(s.return,o,l)}function cf(s,o,l,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function vv(s,o,l){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(an(s,o,d.children,l),d=ct.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yv(s,l,o);else if(s.tag===19)yv(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(nt(ct,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&sc(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),cf(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&sc(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}cf(o,!0,l,null,y);break;case"together":cf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function hc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ws(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),eo|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=ti(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=ti(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function KI(s,o,l){switch(o.tag){case 3:pv(o),Xo();break;case 5:ky(o);break;case 1:pn(o.type)&&Gu(o);break;case 4:zh(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;nt(ec,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(nt(ct,ct.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?gv(s,o,l):(nt(ct,ct.current&1),s=ws(s,o,l),s!==null?s.sibling:null);nt(ct,ct.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(s.flags&128)!==0){if(d)return vv(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(ct,ct.current),d)break;return null;case 22:case 23:return o.lanes=0,dv(s,o,l)}return ws(s,o,l)}var wv,df,_v,Ev;wv=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},df=function(){},_v=function(s,o,l,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,Ji(Lr.current);var y=null;switch(l){case"input":m=Ds(s,m),d=Ds(s,d),y=[];break;case"select":m=ie({},m,{value:void 0}),d=ie({},d,{value:void 0}),y=[];break;case"textarea":m=Os(s,m),d=Os(s,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Hu)}Dt(l,d);var I;l=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var V=m[Q];for(I in V)V.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in d){var F=d[Q];if(V=m?.[Q],d.hasOwnProperty(Q)&&F!==V&&(F!=null||V!=null))if(Q==="style")if(V){for(I in V)!V.hasOwnProperty(I)||F&&F.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in F)F.hasOwnProperty(I)&&V[I]!==F[I]&&(l||(l={}),l[I]=F[I])}else l||(y||(y=[]),y.push(Q,l)),l=F;else Q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,V=V?V.__html:void 0,F!=null&&V!==F&&(y=y||[]).push(Q,F)):Q==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(Q,""+F):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(F!=null&&Q==="onScroll"&&it("scroll",s),y||V===F||(y=[])):(y=y||[]).push(Q,F))}l&&(y=y||[]).push("style",l);var Q=y;(o.updateQueue=Q)&&(o.flags|=4)}},Ev=function(s,o,l,d){l!==d&&(o.flags|=4)};function Al(s,o){if(!ut)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function en(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=l,o}function GI(s,o,l){var d=o.pendingProps;switch(kh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return pn(o.type)&&Ku(),en(o),null;case 3:return d=o.stateNode,ta(),ot(fn),ot(Jt),Hh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Ju(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,nr!==null&&(xf(nr),nr=null))),df(s,o),en(o),null;case 5:$h(o);var m=Ji(Tl.current);if(l=o.type,s!==null&&o.stateNode!=null)_v(s,o,l,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return en(o),null}if(s=Ji(Lr.current),Ju(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[Mr]=o,d[vl]=y,s=(o.mode&1)!==0,l){case"dialog":it("cancel",d),it("close",d);break;case"iframe":case"object":case"embed":it("load",d);break;case"video":case"audio":for(m=0;m<ml.length;m++)it(ml[m],d);break;case"source":it("error",d);break;case"img":case"image":case"link":it("error",d),it("load",d);break;case"details":it("toggle",d);break;case"input":To(d,y),it("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},it("invalid",d);break;case"textarea":Tn(d,y),it("invalid",d)}Dt(l,y),m=null;for(var I in y)if(y.hasOwnProperty(I)){var V=y[I];I==="children"?typeof V=="string"?d.textContent!==V&&(y.suppressHydrationWarning!==!0&&qu(d.textContent,V,s),m=["children",V]):typeof V=="number"&&d.textContent!==""+V&&(y.suppressHydrationWarning!==!0&&qu(d.textContent,V,s),m=["children",""+V]):i.hasOwnProperty(I)&&V!=null&&I==="onScroll"&&it("scroll",d)}switch(l){case"input":dn(d),rs(d,y,!0);break;case"textarea":dn(d),yr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Hu)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=I.createElement(l,{is:d.is}):(s=I.createElement(l),l==="select"&&(I=s,d.multiple?I.multiple=!0:d.size&&(I.size=d.size))):s=I.createElementNS(s,l),s[Mr]=o,s[vl]=d,wv(s,o,!1,!1),o.stateNode=s;e:{switch(I=Ls(l,d),l){case"dialog":it("cancel",s),it("close",s),m=d;break;case"iframe":case"object":case"embed":it("load",s),m=d;break;case"video":case"audio":for(m=0;m<ml.length;m++)it(ml[m],s);m=d;break;case"source":it("error",s),m=d;break;case"img":case"image":case"link":it("error",s),it("load",s),m=d;break;case"details":it("toggle",s),m=d;break;case"input":To(s,d),m=Ds(s,d),it("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=ie({},d,{value:void 0}),it("invalid",s);break;case"textarea":Tn(s,d),m=Os(s,d),it("invalid",s);break;default:m=d}Dt(l,m),V=m;for(y in V)if(V.hasOwnProperty(y)){var F=V[y];y==="style"?Sn(s,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&So(s,F)):y==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Fn(s,F):typeof F=="number"&&Fn(s,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?F!=null&&y==="onScroll"&&it("scroll",s):F!=null&&B(s,y,F,I))}switch(l){case"input":dn(s),rs(s,d,!1);break;case"textarea":dn(s),yr(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Re(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?Ft(s,!!d.multiple,y,!1):d.defaultValue!=null&&Ft(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Hu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return en(o),null;case 6:if(s&&o.stateNode!=null)Ev(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ji(Tl.current),Ji(Lr.current),Ju(o)){if(d=o.stateNode,l=o.memoizedProps,d[Mr]=o,(y=d.nodeValue!==l)&&(s=Dn,s!==null))switch(s.tag){case 3:qu(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&qu(d.nodeValue,l,(s.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Mr]=o,o.stateNode=d}return en(o),null;case 13:if(ot(ct),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ut&&On!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Iy(),Xo(),o.flags|=98560,y=!1;else if(y=Ju(o),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Mr]=o}else Xo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;en(o),y=!1}else nr!==null&&(xf(nr),nr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ct.current&1)!==0?Rt===0&&(Rt=3):Sf())),o.updateQueue!==null&&(o.flags|=4),en(o),null);case 4:return ta(),df(s,o),s===null&&gl(o.stateNode.containerInfo),en(o),null;case 10:return jh(o.type._context),en(o),null;case 17:return pn(o.type)&&Ku(),en(o),null;case 19:if(ot(ct),y=o.memoizedState,y===null)return en(o),null;if(d=(o.flags&128)!==0,I=y.rendering,I===null)if(d)Al(y,!1);else{if(Rt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=sc(s),I!==null){for(o.flags|=128,Al(y,!1),d=I.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,s=d,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,s=I.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return nt(ct,ct.current&1|2),o.child}s=s.sibling}y.tail!==null&&st()>ia&&(o.flags|=128,d=!0,Al(y,!1),o.lanes=4194304)}else{if(!d)if(s=sc(I),s!==null){if(o.flags|=128,d=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Al(y,!0),y.tail===null&&y.tailMode==="hidden"&&!I.alternate&&!ut)return en(o),null}else 2*st()-y.renderingStartTime>ia&&l!==1073741824&&(o.flags|=128,d=!0,Al(y,!1),o.lanes=4194304);y.isBackwards?(I.sibling=o.child,o.child=I):(l=y.last,l!==null?l.sibling=I:o.child=I,y.last=I)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=st(),o.sibling=null,l=ct.current,nt(ct,d?l&1|2:l&1),o):(en(o),null);case 22:case 23:return If(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Mn&1073741824)!==0&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function QI(s,o){switch(kh(o),o.tag){case 1:return pn(o.type)&&Ku(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ta(),ot(fn),ot(Jt),Hh(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return $h(o),null;case 13:if(ot(ct),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Xo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ot(ct),null;case 4:return ta(),null;case 10:return jh(o.type._context),null;case 22:case 23:return If(),null;case 24:return null;default:return null}}var fc=!1,tn=!1,YI=typeof WeakSet=="function"?WeakSet:Set,ye=null;function ra(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){mt(s,o,d)}else l.current=null}function hf(s,o,l){try{l()}catch(d){mt(s,o,d)}}var xv=!1;function XI(s,o){if(Th=cs,s=ey(),mh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,V=-1,F=-1,Q=0,oe=0,ae=s,se=null;t:for(;;){for(var fe;ae!==l||m!==0&&ae.nodeType!==3||(V=I+m),ae!==y||d!==0&&ae.nodeType!==3||(F=I+d),ae.nodeType===3&&(I+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)se=ae,ae=fe;for(;;){if(ae===s)break t;if(se===l&&++Q===m&&(V=I),se===y&&++oe===d&&(F=I),(fe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=fe}l=V===-1||F===-1?null:{start:V,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ih={focusedElem:s,selectionRange:l},cs=!1,ye=o;ye!==null;)if(o=ye,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ye=s;else for(;ye!==null;){o=ye;try{var _e=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Ee=_e.memoizedProps,vt=_e.memoizedState,H=o.stateNode,$=H.getSnapshotBeforeUpdate(o.elementType===o.type?Ee:rr(o.type,Ee),vt);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){mt(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,ye=s;break}ye=o.return}return _e=xv,xv=!1,_e}function Rl(s,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&hf(o,l,y)}m=m.next}while(m!==d)}}function pc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function ff(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Tv(s){var o=s.alternate;o!==null&&(s.alternate=null,Tv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Mr],delete o[vl],delete o[Ah],delete o[DI],delete o[OI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Iv(s){return s.tag===5||s.tag===3||s.tag===4}function Sv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Iv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pf(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Hu));else if(d!==4&&(s=s.child,s!==null))for(pf(s,o,l),s=s.sibling;s!==null;)pf(s,o,l),s=s.sibling}function mf(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(mf(s,o,l),s=s.sibling;s!==null;)mf(s,o,l),s=s.sibling}var zt=null,sr=!1;function Ys(s,o,l){for(l=l.child;l!==null;)Cv(s,o,l),l=l.sibling}function Cv(s,o,l){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(ji,l)}catch{}switch(l.tag){case 5:tn||ra(l,o);case 6:var d=zt,m=sr;zt=null,Ys(s,o,l),zt=d,sr=m,zt!==null&&(sr?(s=zt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):zt.removeChild(l.stateNode));break;case 18:zt!==null&&(sr?(s=zt,l=l.stateNode,s.nodeType===8?bh(s.parentNode,l):s.nodeType===1&&bh(s,l),Us(s)):bh(zt,l.stateNode));break;case 4:d=zt,m=sr,zt=l.stateNode.containerInfo,sr=!0,Ys(s,o,l),zt=d,sr=m;break;case 0:case 11:case 14:case 15:if(!tn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,I=y.destroy;y=y.tag,I!==void 0&&((y&2)!==0||(y&4)!==0)&&hf(l,o,I),m=m.next}while(m!==d)}Ys(s,o,l);break;case 1:if(!tn&&(ra(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(V){mt(l,o,V)}Ys(s,o,l);break;case 21:Ys(s,o,l);break;case 22:l.mode&1?(tn=(d=tn)||l.memoizedState!==null,Ys(s,o,l),tn=d):Ys(s,o,l);break;default:Ys(s,o,l)}}function bv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new YI),o.forEach(function(d){var m=oS.bind(null,s,d);l.has(d)||(l.add(d),d.then(m,m))})}}function ir(s,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=s,I=o,V=I;e:for(;V!==null;){switch(V.tag){case 5:zt=V.stateNode,sr=!1;break e;case 3:zt=V.stateNode.containerInfo,sr=!0;break e;case 4:zt=V.stateNode.containerInfo,sr=!0;break e}V=V.return}if(zt===null)throw Error(t(160));Cv(y,I,m),zt=null,sr=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(Q){mt(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Av(o,s),o=o.sibling}function Av(s,o){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ir(o,s),jr(s),d&4){try{Rl(3,s,s.return),pc(3,s)}catch(Ee){mt(s,s.return,Ee)}try{Rl(5,s,s.return)}catch(Ee){mt(s,s.return,Ee)}}break;case 1:ir(o,s),jr(s),d&512&&l!==null&&ra(l,l.return);break;case 5:if(ir(o,s),jr(s),d&512&&l!==null&&ra(l,l.return),s.flags&32){var m=s.stateNode;try{Fn(m,"")}catch(Ee){mt(s,s.return,Ee)}}if(d&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,I=l!==null?l.memoizedProps:y,V=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{V==="input"&&y.type==="radio"&&y.name!=null&&ts(m,y),Ls(V,I);var Q=Ls(V,y);for(I=0;I<F.length;I+=2){var oe=F[I],ae=F[I+1];oe==="style"?Sn(m,ae):oe==="dangerouslySetInnerHTML"?So(m,ae):oe==="children"?Fn(m,ae):B(m,oe,ae,Q)}switch(V){case"input":ns(m,y);break;case"textarea":Io(m,y);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var fe=y.value;fe!=null?Ft(m,!!y.multiple,fe,!1):se!==!!y.multiple&&(y.defaultValue!=null?Ft(m,!!y.multiple,y.defaultValue,!0):Ft(m,!!y.multiple,y.multiple?[]:"",!1))}m[vl]=y}catch(Ee){mt(s,s.return,Ee)}}break;case 6:if(ir(o,s),jr(s),d&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(Ee){mt(s,s.return,Ee)}}break;case 3:if(ir(o,s),jr(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Us(o.containerInfo)}catch(Ee){mt(s,s.return,Ee)}break;case 4:ir(o,s),jr(s);break;case 13:ir(o,s),jr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(vf=st())),d&4&&bv(s);break;case 22:if(oe=l!==null&&l.memoizedState!==null,s.mode&1?(tn=(Q=tn)||oe,ir(o,s),tn=Q):ir(o,s),jr(s),d&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!oe&&(s.mode&1)!==0)for(ye=s,oe=s.child;oe!==null;){for(ae=ye=oe;ye!==null;){switch(se=ye,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Rl(4,se,se.return);break;case 1:ra(se,se.return);var _e=se.stateNode;if(typeof _e.componentWillUnmount=="function"){d=se,l=se.return;try{o=d,_e.props=o.memoizedProps,_e.state=o.memoizedState,_e.componentWillUnmount()}catch(Ee){mt(d,l,Ee)}}break;case 5:ra(se,se.return);break;case 22:if(se.memoizedState!==null){Nv(ae);continue}}fe!==null?(fe.return=se,ye=fe):Nv(ae)}oe=oe.sibling}e:for(oe=null,ae=s;;){if(ae.tag===5){if(oe===null){oe=ae;try{m=ae.stateNode,Q?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(V=ae.stateNode,F=ae.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null,V.style.display=Un("display",I))}catch(Ee){mt(s,s.return,Ee)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Q?"":ae.memoizedProps}catch(Ee){mt(s,s.return,Ee)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:ir(o,s),jr(s),d&4&&bv(s);break;case 21:break;default:ir(o,s),jr(s)}}function jr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(Iv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Fn(m,""),d.flags&=-33);var y=Sv(s);mf(s,y,m);break;case 3:case 4:var I=d.stateNode.containerInfo,V=Sv(s);pf(s,V,I);break;default:throw Error(t(161))}}catch(F){mt(s,s.return,F)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function JI(s,o,l){ye=s,Rv(s)}function Rv(s,o,l){for(var d=(s.mode&1)!==0;ye!==null;){var m=ye,y=m.child;if(m.tag===22&&d){var I=m.memoizedState!==null||fc;if(!I){var V=m.alternate,F=V!==null&&V.memoizedState!==null||tn;V=fc;var Q=tn;if(fc=I,(tn=F)&&!Q)for(ye=m;ye!==null;)I=ye,F=I.child,I.tag===22&&I.memoizedState!==null?kv(m):F!==null?(F.return=I,ye=F):kv(m);for(;y!==null;)ye=y,Rv(y),y=y.sibling;ye=m,fc=V,tn=Q}Pv(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ye=y):Pv(s)}}function Pv(s){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:tn||pc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!tn)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:rr(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Ny(o,y,d);break;case 3:var I=o.updateQueue;if(I!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Ny(o,I,l)}break;case 5:var V=o.stateNode;if(l===null&&o.flags&4){l=V;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var oe=Q.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Us(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||o.flags&512&&ff(o)}catch(se){mt(o,o.return,se)}}if(o===s){ye=null;break}if(l=o.sibling,l!==null){l.return=o.return,ye=l;break}ye=o.return}}function Nv(s){for(;ye!==null;){var o=ye;if(o===s){ye=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ye=l;break}ye=o.return}}function kv(s){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{pc(4,o)}catch(F){mt(o,l,F)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(F){mt(o,m,F)}}var y=o.return;try{ff(o)}catch(F){mt(o,y,F)}break;case 5:var I=o.return;try{ff(o)}catch(F){mt(o,I,F)}}}catch(F){mt(o,o.return,F)}if(o===s){ye=null;break}var V=o.sibling;if(V!==null){V.return=o.return,ye=V;break}ye=o.return}}var ZI=Math.ceil,mc=q.ReactCurrentDispatcher,gf=q.ReactCurrentOwner,Gn=q.ReactCurrentBatchConfig,We=0,Mt=null,Tt=null,$t=0,Mn=0,sa=Hs(0),Rt=0,Pl=null,eo=0,gc=0,yf=0,Nl=null,gn=null,vf=0,ia=1/0,_s=null,yc=!1,wf=null,Xs=null,vc=!1,Js=null,wc=0,kl=0,_f=null,_c=-1,Ec=0;function ln(){return(We&6)!==0?st():_c!==-1?_c:_c=st()}function Zs(s){return(s.mode&1)===0?1:(We&2)!==0&&$t!==0?$t&-$t:LI.transition!==null?(Ec===0&&(Ec=Za()),Ec):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Oo(s.type)),s)}function or(s,o,l,d){if(50<kl)throw kl=0,_f=null,Error(t(185));zi(s,l,d),((We&2)===0||s!==Mt)&&(s===Mt&&((We&2)===0&&(gc|=l),Rt===4&&ei(s,$t)),yn(s,d),l===1&&We===0&&(o.mode&1)===0&&(ia=st()+500,Qu&&Ks()))}function yn(s,o){var l=s.callbackNode;Bi(s,o);var d=as(s,s===Mt?$t:0);if(d===0)l!==null&&bo(l),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(l!=null&&bo(l),o===1)s.tag===0?MI(Ov.bind(null,s)):wy(Ov.bind(null,s)),NI(function(){(We&6)===0&&Ks()}),l=null;else{switch(Sr(d)){case 1:l=Ao;break;case 4:l=Ya;break;case 16:l=Vi;break;case 536870912:l=Ro;break;default:l=Vi}l=zv(l,Dv.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function Dv(s,o){if(_c=-1,Ec=0,(We&6)!==0)throw Error(t(327));var l=s.callbackNode;if(oa()&&s.callbackNode!==l)return null;var d=as(s,s===Mt?$t:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=xc(s,d);else{o=d;var m=We;We|=2;var y=Lv();(Mt!==s||$t!==o)&&(_s=null,ia=st()+500,no(s,o));do try{nS();break}catch(V){Mv(s,V)}while(!0);Vh(),mc.current=y,We=m,Tt!==null?o=0:(Mt=null,$t=0,o=Rt)}if(o!==0){if(o===2&&(m=Ja(s),m!==0&&(d=m,o=Ef(s,m))),o===1)throw l=Pl,no(s,0),ei(s,d),yn(s,st()),l;if(o===6)ei(s,d);else{if(m=s.current.alternate,(d&30)===0&&!eS(m)&&(o=xc(s,d),o===2&&(y=Ja(s),y!==0&&(d=y,o=Ef(s,y))),o===1))throw l=Pl,no(s,0),ei(s,d),yn(s,st()),l;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:ro(s,gn,_s);break;case 3:if(ei(s,d),(d&130023424)===d&&(o=vf+500-st(),10<o)){if(as(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){ln(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Ch(ro.bind(null,s,gn,_s),o);break}ro(s,gn,_s);break;case 4:if(ei(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var I=31-An(d);y=1<<I,I=o[I],I>m&&(m=I),d&=~y}if(d=m,d=st()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ZI(d/1960))-d,10<d){s.timeoutHandle=Ch(ro.bind(null,s,gn,_s),d);break}ro(s,gn,_s);break;case 5:ro(s,gn,_s);break;default:throw Error(t(329))}}}return yn(s,st()),s.callbackNode===l?Dv.bind(null,s):null}function Ef(s,o){var l=Nl;return s.current.memoizedState.isDehydrated&&(no(s,o).flags|=256),s=xc(s,o),s!==2&&(o=gn,gn=l,o!==null&&xf(o)),s}function xf(s){gn===null?gn=s:gn.push.apply(gn,s)}function eS(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!tr(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ei(s,o){for(o&=~yf,o&=~gc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-An(o),d=1<<l;s[l]=-1,o&=~d}}function Ov(s){if((We&6)!==0)throw Error(t(327));oa();var o=as(s,0);if((o&1)===0)return yn(s,st()),null;var l=xc(s,o);if(s.tag!==0&&l===2){var d=Ja(s);d!==0&&(o=d,l=Ef(s,d))}if(l===1)throw l=Pl,no(s,0),ei(s,o),yn(s,st()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ro(s,gn,_s),yn(s,st()),null}function Tf(s,o){var l=We;We|=1;try{return s(o)}finally{We=l,We===0&&(ia=st()+500,Qu&&Ks())}}function to(s){Js!==null&&Js.tag===0&&(We&6)===0&&oa();var o=We;We|=1;var l=Gn.transition,d=$e;try{if(Gn.transition=null,$e=1,s)return s()}finally{$e=d,Gn.transition=l,We=o,(We&6)===0&&Ks()}}function If(){Mn=sa.current,ot(sa)}function no(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,PI(l)),Tt!==null)for(l=Tt.return;l!==null;){var d=l;switch(kh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ku();break;case 3:ta(),ot(fn),ot(Jt),Hh();break;case 5:$h(d);break;case 4:ta();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:jh(d.type._context);break;case 22:case 23:If()}l=l.return}if(Mt=s,Tt=s=ti(s.current,null),$t=Mn=o,Rt=0,Pl=null,yf=gc=eo=0,gn=Nl=null,Xi!==null){for(o=0;o<Xi.length;o++)if(l=Xi[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var I=y.next;y.next=m,d.next=I}l.pending=d}Xi=null}return s}function Mv(s,o){do{var l=Tt;try{if(Vh(),ic.current=uc,oc){for(var d=dt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}oc=!1}if(Zi=0,Ot=At=dt=null,Il=!1,Sl=0,gf.current=null,l===null||l.return===null){Rt=1,Pl=o,Tt=null;break}e:{var y=s,I=l.return,V=l,F=o;if(o=$t,V.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Q=F,oe=V,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var fe=ov(I);if(fe!==null){fe.flags&=-257,av(fe,I,V,y,o),fe.mode&1&&iv(y,Q,o),o=fe,F=Q;var _e=o.updateQueue;if(_e===null){var Ee=new Set;Ee.add(F),o.updateQueue=Ee}else _e.add(F);break e}else{if((o&1)===0){iv(y,Q,o),Sf();break e}F=Error(t(426))}}else if(ut&&V.mode&1){var vt=ov(I);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),av(vt,I,V,y,o),Mh(na(F,V));break e}}y=F=na(F,V),Rt!==4&&(Rt=2),Nl===null?Nl=[y]:Nl.push(y),y=I;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var H=rv(y,F,o);Py(y,H);break e;case 1:V=F;var $=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Xs===null||!Xs.has(K)))){y.flags|=65536,o&=-o,y.lanes|=o;var le=sv(y,V,o);Py(y,le);break e}}y=y.return}while(y!==null)}jv(l)}catch(xe){o=xe,Tt===l&&l!==null&&(Tt=l=l.return);continue}break}while(!0)}function Lv(){var s=mc.current;return mc.current=uc,s===null?uc:s}function Sf(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Mt===null||(eo&268435455)===0&&(gc&268435455)===0||ei(Mt,$t)}function xc(s,o){var l=We;We|=2;var d=Lv();(Mt!==s||$t!==o)&&(_s=null,no(s,o));do try{tS();break}catch(m){Mv(s,m)}while(!0);if(Vh(),We=l,mc.current=d,Tt!==null)throw Error(t(261));return Mt=null,$t=0,Rt}function tS(){for(;Tt!==null;)Vv(Tt)}function nS(){for(;Tt!==null&&!Li();)Vv(Tt)}function Vv(s){var o=Bv(s.alternate,s,Mn);s.memoizedProps=s.pendingProps,o===null?jv(s):Tt=o,gf.current=null}function jv(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=GI(l,o,Mn),l!==null){Tt=l;return}}else{if(l=QI(l,o),l!==null){l.flags&=32767,Tt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Rt=6,Tt=null;return}}if(o=o.sibling,o!==null){Tt=o;return}Tt=o=s}while(o!==null);Rt===0&&(Rt=5)}function ro(s,o,l){var d=$e,m=Gn.transition;try{Gn.transition=null,$e=1,rS(s,o,l,d)}finally{Gn.transition=m,$e=d}return null}function rS(s,o,l,d){do oa();while(Js!==null);if((We&6)!==0)throw Error(t(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(ch(s,y),s===Mt&&(Tt=Mt=null,$t=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||vc||(vc=!0,zv(Vi,function(){return oa(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Gn.transition,Gn.transition=null;var I=$e;$e=1;var V=We;We|=4,gf.current=null,XI(s,l),Av(l,s),TI(Ih),cs=!!Th,Ih=Th=null,s.current=l,JI(l),os(),We=V,$e=I,Gn.transition=y}else s.current=l;if(vc&&(vc=!1,Js=s,wc=m),y=s.pendingLanes,y===0&&(Xs=null),Ru(l.stateNode),yn(s,st()),o!==null)for(d=s.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(yc)throw yc=!1,s=wf,wf=null,s;return(wc&1)!==0&&s.tag!==0&&oa(),y=s.pendingLanes,(y&1)!==0?s===_f?kl++:(kl=0,_f=s):kl=0,Ks(),null}function oa(){if(Js!==null){var s=Sr(wc),o=Gn.transition,l=$e;try{if(Gn.transition=null,$e=16>s?16:s,Js===null)var d=!1;else{if(s=Js,Js=null,wc=0,(We&6)!==0)throw Error(t(331));var m=We;for(We|=4,ye=s.current;ye!==null;){var y=ye,I=y.child;if((ye.flags&16)!==0){var V=y.deletions;if(V!==null){for(var F=0;F<V.length;F++){var Q=V[F];for(ye=Q;ye!==null;){var oe=ye;switch(oe.tag){case 0:case 11:case 15:Rl(8,oe,y)}var ae=oe.child;if(ae!==null)ae.return=oe,ye=ae;else for(;ye!==null;){oe=ye;var se=oe.sibling,fe=oe.return;if(Tv(oe),oe===Q){ye=null;break}if(se!==null){se.return=fe,ye=se;break}ye=fe}}}var _e=y.alternate;if(_e!==null){var Ee=_e.child;if(Ee!==null){_e.child=null;do{var vt=Ee.sibling;Ee.sibling=null,Ee=vt}while(Ee!==null)}}ye=y}}if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,ye=I;else e:for(;ye!==null;){if(y=ye,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Rl(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,ye=H;break e}ye=y.return}}var $=s.current;for(ye=$;ye!==null;){I=ye;var K=I.child;if((I.subtreeFlags&2064)!==0&&K!==null)K.return=I,ye=K;else e:for(I=$;ye!==null;){if(V=ye,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:pc(9,V)}}catch(xe){mt(V,V.return,xe)}if(V===I){ye=null;break e}var le=V.sibling;if(le!==null){le.return=V.return,ye=le;break e}ye=V.return}}if(We=m,Ks(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(ji,s)}catch{}d=!0}return d}finally{$e=l,Gn.transition=o}}return!1}function Fv(s,o,l){o=na(l,o),o=rv(s,o,1),s=Qs(s,o,1),o=ln(),s!==null&&(zi(s,1,o),yn(s,o))}function mt(s,o,l){if(s.tag===3)Fv(s,s,l);else for(;o!==null;){if(o.tag===3){Fv(o,s,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Xs===null||!Xs.has(d))){s=na(l,s),s=sv(o,s,1),o=Qs(o,s,1),s=ln(),o!==null&&(zi(o,1,s),yn(o,s));break}}o=o.return}}function sS(s,o,l){var d=s.pingCache;d!==null&&d.delete(o),o=ln(),s.pingedLanes|=s.suspendedLanes&l,Mt===s&&($t&l)===l&&(Rt===4||Rt===3&&($t&130023424)===$t&&500>st()-vf?no(s,0):yf|=l),yn(s,o)}function Uv(s,o){o===0&&((s.mode&1)===0?o=1:(o=Vs,Vs<<=1,(Vs&130023424)===0&&(Vs=4194304)));var l=ln();s=ys(s,o),s!==null&&(zi(s,o,l),yn(s,l))}function iS(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),Uv(s,l)}function oS(s,o){var l=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Uv(s,l)}var Bv;Bv=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||fn.current)mn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return mn=!1,KI(s,o,l);mn=(s.flags&131072)!==0}else mn=!1,ut&&(o.flags&1048576)!==0&&_y(o,Xu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;hc(s,o),s=o.pendingProps;var m=Go(o,Jt.current);ea(o,l),m=Gh(null,o,d,s,m,l);var y=Qh();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,pn(d)?(y=!0,Gu(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Bh(o),m.updater=cc,o.stateNode=m,m._reactInternals=o,tf(o,d,s,l),o=of(null,o,d,!0,y,l)):(o.tag=0,ut&&y&&Nh(o),an(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(hc(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=lS(d),s=rr(d,s),m){case 0:o=sf(null,o,d,s,l);break e;case 1:o=fv(null,o,d,s,l);break e;case 11:o=lv(null,o,d,s,l);break e;case 14:o=uv(null,o,d,rr(d.type,s),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:rr(d,m),sf(s,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:rr(d,m),fv(s,o,d,m,l);case 3:e:{if(pv(o),s===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,m=y.element,Ry(s,o),rc(o,d,null,l);var I=o.memoizedState;if(d=I.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=na(Error(t(423)),o),o=mv(s,o,d,l,m);break e}else if(d!==m){m=na(Error(t(424)),o),o=mv(s,o,d,l,m);break e}else for(On=qs(o.stateNode.containerInfo.firstChild),Dn=o,ut=!0,nr=null,l=by(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Xo(),d===m){o=ws(s,o,l);break e}an(s,o,d,l)}o=o.child}return o;case 5:return ky(o),s===null&&Oh(o),d=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,I=m.children,Sh(d,m)?I=null:y!==null&&Sh(d,y)&&(o.flags|=32),hv(s,o),an(s,o,I,l),o.child;case 6:return s===null&&Oh(o),null;case 13:return gv(s,o,l);case 4:return zh(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Jo(o,null,d,l):an(s,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:rr(d,m),lv(s,o,d,m,l);case 7:return an(s,o,o.pendingProps,l),o.child;case 8:return an(s,o,o.pendingProps.children,l),o.child;case 12:return an(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,I=m.value,nt(ec,d._currentValue),d._currentValue=I,y!==null)if(tr(y.value,I)){if(y.children===m.children&&!fn.current){o=ws(s,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var V=y.dependencies;if(V!==null){I=y.child;for(var F=V.firstContext;F!==null;){if(F.context===d){if(y.tag===1){F=vs(-1,l&-l),F.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var oe=Q.pending;oe===null?F.next=F:(F.next=oe.next,oe.next=F),Q.pending=F}}y.lanes|=l,F=y.alternate,F!==null&&(F.lanes|=l),Fh(y.return,l,o),V.lanes|=l;break}F=F.next}}else if(y.tag===10)I=y.type===o.type?null:y.child;else if(y.tag===18){if(I=y.return,I===null)throw Error(t(341));I.lanes|=l,V=I.alternate,V!==null&&(V.lanes|=l),Fh(I,l,o),I=y.sibling}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===o){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}an(s,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,ea(o,l),m=Wn(m),d=d(m),o.flags|=1,an(s,o,d,l),o.child;case 14:return d=o.type,m=rr(d,o.pendingProps),m=rr(d.type,m),uv(s,o,d,m,l);case 15:return cv(s,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:rr(d,m),hc(s,o),o.tag=1,pn(d)?(s=!0,Gu(o)):s=!1,ea(o,l),tv(o,d,m),tf(o,d,m,l),of(null,o,d,!0,s,l);case 19:return vv(s,o,l);case 22:return dv(s,o,l)}throw Error(t(156,o.tag))};function zv(s,o){return Qa(s,o)}function aS(s,o,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(s,o,l,d){return new aS(s,o,l,d)}function Cf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function lS(s){if(typeof s=="function")return Cf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===Te)return 14}return 2}function ti(s,o){var l=s.alternate;return l===null?(l=Qn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Tc(s,o,l,d,m,y){var I=2;if(d=s,typeof s=="function")Cf(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case k:return so(l.children,m,y,o);case A:I=8,m|=8;break;case P:return s=Qn(12,l,o,m|2),s.elementType=P,s.lanes=y,s;case R:return s=Qn(13,l,o,m),s.elementType=R,s.lanes=y,s;case J:return s=Qn(19,l,o,m),s.elementType=J,s.lanes=y,s;case ve:return Ic(l,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case O:I=9;break e;case M:I=11;break e;case Te:I=14;break e;case we:I=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Qn(I,l,o,m),o.elementType=s,o.type=d,o.lanes=y,o}function so(s,o,l,d){return s=Qn(7,s,d,o),s.lanes=l,s}function Ic(s,o,l,d){return s=Qn(22,s,d,o),s.elementType=ve,s.lanes=l,s.stateNode={isHidden:!1},s}function bf(s,o,l){return s=Qn(6,s,null,o),s.lanes=l,s}function Af(s,o,l){return o=Qn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function uS(s,o,l,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Rf(s,o,l,d,m,y,I,V,F){return s=new uS(s,o,l,V,F),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Qn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bh(y),s}function cS(s,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:d==null?null:""+d,children:s,containerInfo:o,implementation:l}}function $v(s){if(!s)return Ws;s=s._reactInternals;e:{if(Zn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(pn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(pn(l))return yy(s,l,o)}return o}function qv(s,o,l,d,m,y,I,V,F){return s=Rf(l,d,!0,s,m,y,I,V,F),s.context=$v(null),l=s.current,d=ln(),m=Zs(l),y=vs(d,m),y.callback=o??null,Qs(l,y,m),s.current.lanes=m,zi(s,m,d),yn(s,d),s}function Sc(s,o,l,d){var m=o.current,y=ln(),I=Zs(m);return l=$v(l),o.context===null?o.context=l:o.pendingContext=l,o=vs(y,I),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Qs(m,o,I),s!==null&&(or(s,m,I,y),nc(s,m,I)),I}function Cc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Hv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Pf(s,o){Hv(s,o),(s=s.alternate)&&Hv(s,o)}function dS(){return null}var Wv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Nf(s){this._internalRoot=s}bc.prototype.render=Nf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Sc(s,o,null,null)},bc.prototype.unmount=Nf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;to(function(){Sc(null,s,null,null)}),o[fs]=null}};function bc(s){this._internalRoot=s}bc.prototype.unstable_scheduleHydration=function(s){if(s){var o=sl();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Rn.length&&o!==0&&o<Rn[l].priority;l++);Rn.splice(l,0,s),l===0&&ko(s)}};function kf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ac(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Kv(){}function hS(s,o,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var Q=Cc(I);y.call(Q)}}var I=qv(o,d,s,0,null,!1,!1,"",Kv);return s._reactRootContainer=I,s[fs]=I.current,gl(s.nodeType===8?s.parentNode:s),to(),I}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var V=d;d=function(){var Q=Cc(F);V.call(Q)}}var F=Rf(s,0,!1,null,null,!1,!1,"",Kv);return s._reactRootContainer=F,s[fs]=F.current,gl(s.nodeType===8?s.parentNode:s),to(function(){Sc(o,F,l,d)}),F}function Rc(s,o,l,d,m){var y=l._reactRootContainer;if(y){var I=y;if(typeof m=="function"){var V=m;m=function(){var F=Cc(I);V.call(F)}}Sc(o,I,s,m)}else I=hS(l,o,s,m,d);return Cc(I)}nl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ge(o.pendingLanes);l!==0&&(tl(o,l|1),yn(o,st()),(We&6)===0&&(ia=st()+500,Ks()))}break;case 13:to(function(){var d=ys(s,1);if(d!==null){var m=ln();or(d,s,1,m)}}),Pf(s,1)}},Po=function(s){if(s.tag===13){var o=ys(s,134217728);if(o!==null){var l=ln();or(o,s,134217728,l)}Pf(s,134217728)}},rl=function(s){if(s.tag===13){var o=Zs(s),l=ys(s,o);if(l!==null){var d=ln();or(l,s,o,d)}Pf(s,o)}},sl=function(){return $e},il=function(s,o){var l=$e;try{return $e=s,o()}finally{$e=l}},Bn=function(s,o,l){switch(o){case"input":if(ns(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==s&&d.form===s.form){var m=Wu(d);if(!m)throw Error(t(90));Xn(d),ns(d,m)}}}break;case"textarea":Io(s,l);break;case"select":o=l.value,o!=null&&Ft(s,!!l.multiple,o,!1)}},He=Tf,Ye=to;var fS={usingClientEntryPoint:!1,Events:[wl,Wo,Wu,Er,Ce,Tf]},Dl={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pS={bundleType:Dl.bundleType,version:Dl.version,rendererPackageName:Dl.rendererPackageName,rendererConfig:Dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Au(s),s===null?null:s.stateNode},findFiberByHostInstance:Dl.findFiberByHostInstance||dS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{ji=Pc.inject(pS),bn=Pc}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fS,vn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(o))throw Error(t(200));return cS(s,o,null,l)},vn.createRoot=function(s,o){if(!kf(s))throw Error(t(299));var l=!1,d="",m=Wv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Rf(s,1,!1,null,null,l,!1,d,m),s[fs]=o.current,gl(s.nodeType===8?s.parentNode:s),new Nf(o)},vn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Au(o),s=s===null?null:s.stateNode,s},vn.flushSync=function(s){return to(s)},vn.hydrate=function(s,o,l){if(!Ac(o))throw Error(t(200));return Rc(null,s,o,!0,l)},vn.hydrateRoot=function(s,o,l){if(!kf(s))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",I=Wv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),o=qv(o,null,s,1,l??null,m,!1,y,I),s[fs]=o.current,gl(s),d)for(s=0;s<d.length;s++)l=d[s],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new bc(o)},vn.render=function(s,o,l){if(!Ac(o))throw Error(t(200));return Rc(null,s,o,!1,l)},vn.unmountComponentAtNode=function(s){if(!Ac(s))throw Error(t(40));return s._reactRootContainer?(to(function(){Rc(null,null,s,!1,function(){s._reactRootContainer=null,s[fs]=null})}),!0):!1},vn.unstable_batchedUpdates=Tf,vn.unstable_renderSubtreeIntoContainer=function(s,o,l,d){if(!Ac(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Rc(s,o,l,!1,d)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var tw;function Y_(){if(tw)return Mf.exports;tw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mf.exports=xS(),Mf.exports}var nw;function TS(){if(nw)return Nc;nw=1;var n=Y_();return Nc.createRoot=n.createRoot,Nc.hydrateRoot=n.hydrateRoot,Nc}var IS=TS(),D=_m();const ue=wm(D),X_=gS({__proto__:null,default:ue},[D]),SS=1,CS=1e6;let jf=0;function bS(){return jf=(jf+1)%Number.MAX_SAFE_INTEGER,jf.toString()}const Ff=new Map,rw=n=>{if(Ff.has(n))return;const e=setTimeout(()=>{Ff.delete(n),$l({type:"REMOVE_TOAST",toastId:n})},CS);Ff.set(n,e)},AS=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,SS)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?rw(t):n.toasts.forEach(r=>{rw(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},qc=[];let Hc={toasts:[]};function $l(n){Hc=AS(Hc,n),qc.forEach(e=>{e(Hc)})}function RS({...n}){const e=bS(),t=i=>$l({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>$l({type:"DISMISS_TOAST",toastId:e});return $l({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function PS(){const[n,e]=D.useState(Hc);return D.useEffect(()=>(qc.push(e),()=>{const t=qc.indexOf(e);t>-1&&qc.splice(t,1)}),[n]),{...n,toast:RS,dismiss:t=>$l({type:"DISMISS_TOAST",toastId:t})}}var Rd=Y_();const J_=wm(Rd);function Pt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function sw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Z_(...n){return e=>{let t=!1;const r=n.map(i=>{const a=sw(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():sw(n[i],null)}}}}function fr(...n){return D.useCallback(Z_(...n),n)}function Pd(n,e=[]){let t=[];function r(a,u){const h=D.createContext(u),f=t.length;t=[...t,u];const p=w=>{const{scope:T,children:_,...S}=w,C=T?.[n]?.[f]||h,b=D.useMemo(()=>S,Object.values(S));return E.jsx(C.Provider,{value:b,children:_})};p.displayName=a+"Provider";function g(w,T){const _=T?.[n]?.[f]||h,S=D.useContext(_);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=t.map(u=>D.createContext(u));return function(h){const f=h?.[n]||a;return D.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return i.scopeName=n,[r,NS(i,...e)]}function NS(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((h,{useScope:f,scopeName:p})=>{const w=f(a)[`__scope${p}`];return{...h,...w}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function Cp(n){const e=kS(n),t=D.forwardRef((r,i)=>{const{children:a,...u}=r,h=D.Children.toArray(a),f=h.find(OS);if(f){const p=f.props.children,g=h.map(w=>w===f?D.Children.count(p)>1?D.Children.only(null):D.isValidElement(p)?p.props.children:null:w);return E.jsx(e,{...u,ref:i,children:D.isValidElement(p)?D.cloneElement(p,void 0,g):null})}return E.jsx(e,{...u,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}function kS(n){const e=D.forwardRef((t,r)=>{const{children:i,...a}=t;if(D.isValidElement(i)){const u=LS(i),h=MS(a,i.props);return i.type!==D.Fragment&&(h.ref=r?Z_(r,u):u),D.cloneElement(i,h)}return D.Children.count(i)>1?D.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var eE=Symbol("radix.slottable");function DS(n){const e=({children:t})=>E.jsx(E.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=eE,e}function OS(n){return D.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===eE}function MS(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...h)=>{const f=a(...h);return i(...h),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function LS(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function VS(n){const e=n+"CollectionProvider",[t,r]=Pd(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:b,children:j}=C,U=ue.useRef(null),B=ue.useRef(new Map).current;return E.jsx(i,{scope:b,itemMap:B,collectionRef:U,children:j})};u.displayName=e;const h=n+"CollectionSlot",f=Cp(h),p=ue.forwardRef((C,b)=>{const{scope:j,children:U}=C,B=a(h,j),q=fr(b,B.collectionRef);return E.jsx(f,{ref:q,children:U})});p.displayName=h;const g=n+"CollectionItemSlot",w="data-radix-collection-item",T=Cp(g),_=ue.forwardRef((C,b)=>{const{scope:j,children:U,...B}=C,q=ue.useRef(null),ee=fr(b,q),G=a(g,j);return ue.useEffect(()=>(G.itemMap.set(q,{ref:q,...B}),()=>void G.itemMap.delete(q))),E.jsx(T,{[w]:"",ref:ee,children:U})});_.displayName=g;function S(C){const b=a(n+"CollectionConsumer",C);return ue.useCallback(()=>{const U=b.collectionRef.current;if(!U)return[];const B=Array.from(U.querySelectorAll(`[${w}]`));return Array.from(b.itemMap.values()).sort((G,k)=>B.indexOf(G.ref.current)-B.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:u,Slot:p,ItemSlot:_},S,r]}var jS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xn=jS.reduce((n,e)=>{const t=Cp(`Primitive.${e}`),r=D.forwardRef((i,a)=>{const{asChild:u,...h}=i,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(f,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function tE(n,e){n&&Rd.flushSync(()=>n.dispatchEvent(e))}function _i(n){const e=D.useRef(n);return D.useEffect(()=>{e.current=n}),D.useMemo(()=>(...t)=>e.current?.(...t),[])}function FS(n,e=globalThis?.document){const t=_i(n);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var US="DismissableLayer",bp="dismissableLayer.update",BS="dismissableLayer.pointerDownOutside",zS="dismissableLayer.focusOutside",iw,nE=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Em=D.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...f}=n,p=D.useContext(nE),[g,w]=D.useState(null),T=g?.ownerDocument??globalThis?.document,[,_]=D.useState({}),S=fr(e,k=>w(k)),C=Array.from(p.layers),[b]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=C.indexOf(b),U=g?C.indexOf(g):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,q=U>=j,ee=qS(k=>{const A=k.target,P=[...p.branches].some(L=>L.contains(A));!q||P||(i?.(k),u?.(k),k.defaultPrevented||h?.())},T),G=HS(k=>{const A=k.target;[...p.branches].some(L=>L.contains(A))||(a?.(k),u?.(k),k.defaultPrevented||h?.())},T);return FS(k=>{U===p.layers.size-1&&(r?.(k),!k.defaultPrevented&&h&&(k.preventDefault(),h()))},T),D.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(iw=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),ow(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=iw)}},[g,T,t,p]),D.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),ow())},[g,p]),D.useEffect(()=>{const k=()=>_({});return document.addEventListener(bp,k),()=>document.removeEventListener(bp,k)},[]),E.jsx(xn.div,{...f,ref:S,style:{pointerEvents:B?q?"auto":"none":void 0,...n.style},onFocusCapture:Pt(n.onFocusCapture,G.onFocusCapture),onBlurCapture:Pt(n.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Pt(n.onPointerDownCapture,ee.onPointerDownCapture)})});Em.displayName=US;var $S="DismissableLayerBranch",rE=D.forwardRef((n,e)=>{const t=D.useContext(nE),r=D.useRef(null),i=fr(e,r);return D.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),E.jsx(xn.div,{...n,ref:i})});rE.displayName=$S;function qS(n,e=globalThis?.document){const t=_i(n),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let f=function(){sE(BS,t,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function HS(n,e=globalThis?.document){const t=_i(n),r=D.useRef(!1);return D.useEffect(()=>{const i=a=>{a.target&&!r.current&&sE(zS,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ow(){const n=new CustomEvent(bp);document.dispatchEvent(n)}function sE(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?tE(i,a):i.dispatchEvent(a)}var WS=Em,KS=rE,Ei=globalThis?.document?D.useLayoutEffect:()=>{},GS="Portal",iE=D.forwardRef((n,e)=>{const{container:t,...r}=n,[i,a]=D.useState(!1);Ei(()=>a(!0),[]);const u=t||i&&globalThis?.document?.body;return u?J_.createPortal(E.jsx(xn.div,{...r,ref:e}),u):null});iE.displayName=GS;function QS(n,e){return D.useReducer((t,r)=>e[t][r]??t,n)}var xm=n=>{const{present:e,children:t}=n,r=YS(e),i=typeof t=="function"?t({present:r.isPresent}):D.Children.only(t),a=fr(r.ref,XS(i));return typeof t=="function"||r.isPresent?D.cloneElement(i,{ref:a}):null};xm.displayName="Presence";function YS(n){const[e,t]=D.useState(),r=D.useRef(null),i=D.useRef(n),a=D.useRef("none"),u=n?"mounted":"unmounted",[h,f]=QS(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const p=kc(r.current);a.current=h==="mounted"?p:"none"},[h]),Ei(()=>{const p=r.current,g=i.current;if(g!==n){const T=a.current,_=kc(p);n?f("MOUNT"):_==="none"||p?.display==="none"?f("UNMOUNT"):f(g&&T!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),Ei(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,w=_=>{const C=kc(r.current).includes(CSS.escape(_.animationName));if(_.target===e&&C&&(f("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},T=_=>{_.target===e&&(a.current=kc(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:D.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function kc(n){return n?.animationName||"none"}function XS(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var JS=X_[" useInsertionEffect ".trim().toString()]||Ei;function ZS({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,u]=eC({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:i;{const g=D.useRef(n!==void 0);D.useEffect(()=>{const w=g.current;w!==h&&console.warn(`${r} is changing from ${w?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=h},[h,r])}const p=D.useCallback(g=>{if(h){const w=tC(g)?g(n):g;w!==n&&u.current?.(w)}else a(g)},[h,n,a,u]);return[f,p]}function eC({defaultProp:n,onChange:e}){const[t,r]=D.useState(n),i=D.useRef(t),a=D.useRef(e);return JS(()=>{a.current=e},[e]),D.useEffect(()=>{i.current!==t&&(a.current?.(t),i.current=t)},[t,i]),[t,r,a]}function tC(n){return typeof n=="function"}var nC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rC="VisuallyHidden",Nd=D.forwardRef((n,e)=>E.jsx(xn.span,{...n,ref:e,style:{...nC,...n.style}}));Nd.displayName=rC;var sC=Nd,Tm="ToastProvider",[Im,iC,oC]=VS("Toast"),[oE]=Pd("Toast",[oC]),[aC,kd]=oE(Tm),aE=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:u}=n,[h,f]=D.useState(null),[p,g]=D.useState(0),w=D.useRef(!1),T=D.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tm}\`. Expected non-empty \`string\`.`),E.jsx(Im.Provider,{scope:e,children:E.jsx(aC,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:h,onViewportChange:f,onToastAdd:D.useCallback(()=>g(_=>_+1),[]),onToastRemove:D.useCallback(()=>g(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:T,children:u})})};aE.displayName=Tm;var lE="ToastViewport",lC=["F8"],Ap="toast.viewportPause",Rp="toast.viewportResume",uE=D.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=lC,label:i="Notifications ({hotkey})",...a}=n,u=kd(lE,t),h=iC(t),f=D.useRef(null),p=D.useRef(null),g=D.useRef(null),w=D.useRef(null),T=fr(e,w,u.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=u.toastCount>0;D.useEffect(()=>{const b=j=>{r.length!==0&&r.every(B=>j[B]||j.code===B)&&w.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),D.useEffect(()=>{const b=f.current,j=w.current;if(S&&b&&j){const U=()=>{if(!u.isClosePausedRef.current){const G=new CustomEvent(Ap);j.dispatchEvent(G),u.isClosePausedRef.current=!0}},B=()=>{if(u.isClosePausedRef.current){const G=new CustomEvent(Rp);j.dispatchEvent(G),u.isClosePausedRef.current=!1}},q=G=>{!b.contains(G.relatedTarget)&&B()},ee=()=>{b.contains(document.activeElement)||B()};return b.addEventListener("focusin",U),b.addEventListener("focusout",q),b.addEventListener("pointermove",U),b.addEventListener("pointerleave",ee),window.addEventListener("blur",U),window.addEventListener("focus",B),()=>{b.removeEventListener("focusin",U),b.removeEventListener("focusout",q),b.removeEventListener("pointermove",U),b.removeEventListener("pointerleave",ee),window.removeEventListener("blur",U),window.removeEventListener("focus",B)}}},[S,u.isClosePausedRef]);const C=D.useCallback(({tabbingDirection:b})=>{const U=h().map(B=>{const q=B.ref.current,ee=[q,...EC(q)];return b==="forwards"?ee:ee.reverse()});return(b==="forwards"?U.reverse():U).flat()},[h]);return D.useEffect(()=>{const b=w.current;if(b){const j=U=>{const B=U.altKey||U.ctrlKey||U.metaKey;if(U.key==="Tab"&&!B){const ee=document.activeElement,G=U.shiftKey;if(U.target===b&&G){p.current?.focus();return}const P=C({tabbingDirection:G?"backwards":"forwards"}),L=P.findIndex(O=>O===ee);Uf(P.slice(L+1))?U.preventDefault():G?p.current?.focus():g.current?.focus()}};return b.addEventListener("keydown",j),()=>b.removeEventListener("keydown",j)}},[h,C]),E.jsxs(KS,{ref:f,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&E.jsx(Pp,{ref:p,onFocusFromOutsideViewport:()=>{const b=C({tabbingDirection:"forwards"});Uf(b)}}),E.jsx(Im.Slot,{scope:t,children:E.jsx(xn.ol,{tabIndex:-1,...a,ref:T})}),S&&E.jsx(Pp,{ref:g,onFocusFromOutsideViewport:()=>{const b=C({tabbingDirection:"backwards"});Uf(b)}})]})});uE.displayName=lE;var cE="ToastFocusProxy",Pp=D.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=kd(cE,t);return E.jsx(Nd,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:u=>{const h=u.relatedTarget;!a.viewport?.contains(h)&&r()}})});Pp.displayName=cE;var du="Toast",uC="toast.swipeStart",cC="toast.swipeMove",dC="toast.swipeCancel",hC="toast.swipeEnd",dE=D.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...u}=n,[h,f]=ZS({prop:r,defaultProp:i??!0,onChange:a,caller:du});return E.jsx(xm,{present:t||h,children:E.jsx(mC,{open:h,...u,ref:e,onClose:()=>f(!1),onPause:_i(n.onPause),onResume:_i(n.onResume),onSwipeStart:Pt(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pt(n.onSwipeMove,p=>{const{x:g,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:Pt(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pt(n.onSwipeEnd,p=>{const{x:g,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),f(!1)})})})});dE.displayName=du;var[fC,pC]=oE(du,{onClose(){}}),mC=D.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:u,onEscapeKeyDown:h,onPause:f,onResume:p,onSwipeStart:g,onSwipeMove:w,onSwipeCancel:T,onSwipeEnd:_,...S}=n,C=kd(du,t),[b,j]=D.useState(null),U=fr(e,J=>j(J)),B=D.useRef(null),q=D.useRef(null),ee=i||C.duration,G=D.useRef(0),k=D.useRef(ee),A=D.useRef(0),{onToastAdd:P,onToastRemove:L}=C,O=_i(()=>{b?.contains(document.activeElement)&&C.viewport?.focus(),u()}),M=D.useCallback(J=>{!J||J===1/0||(window.clearTimeout(A.current),G.current=new Date().getTime(),A.current=window.setTimeout(O,J))},[O]);D.useEffect(()=>{const J=C.viewport;if(J){const Te=()=>{M(k.current),p?.()},we=()=>{const ve=new Date().getTime()-G.current;k.current=k.current-ve,window.clearTimeout(A.current),f?.()};return J.addEventListener(Ap,we),J.addEventListener(Rp,Te),()=>{J.removeEventListener(Ap,we),J.removeEventListener(Rp,Te)}}},[C.viewport,ee,f,p,M]),D.useEffect(()=>{a&&!C.isClosePausedRef.current&&M(ee)},[a,ee,C.isClosePausedRef,M]),D.useEffect(()=>(P(),()=>L()),[P,L]);const R=D.useMemo(()=>b?vE(b):null,[b]);return C.viewport?E.jsxs(E.Fragment,{children:[R&&E.jsx(gC,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:R}),E.jsx(fC,{scope:t,onClose:O,children:Rd.createPortal(E.jsx(Im.ItemSlot,{scope:t,children:E.jsx(WS,{asChild:!0,onEscapeKeyDown:Pt(h,()=>{C.isFocusedToastEscapeKeyDownRef.current||O(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(xn.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":C.swipeDirection,...S,ref:U,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Pt(n.onKeyDown,J=>{J.key==="Escape"&&(h?.(J.nativeEvent),J.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Pt(n.onPointerDown,J=>{J.button===0&&(B.current={x:J.clientX,y:J.clientY})}),onPointerMove:Pt(n.onPointerMove,J=>{if(!B.current)return;const Te=J.clientX-B.current.x,we=J.clientY-B.current.y,ve=!!q.current,Z=["left","right"].includes(C.swipeDirection),te=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,ie=Z?te(0,Te):0,z=Z?0:te(0,we),X=J.pointerType==="touch"?10:2,de={x:ie,y:z},he={originalEvent:J,delta:de};ve?(q.current=de,Dc(cC,w,he,{discrete:!1})):aw(de,C.swipeDirection,X)?(q.current=de,Dc(uC,g,he,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(Te)>X||Math.abs(we)>X)&&(B.current=null)}),onPointerUp:Pt(n.onPointerUp,J=>{const Te=q.current,we=J.target;if(we.hasPointerCapture(J.pointerId)&&we.releasePointerCapture(J.pointerId),q.current=null,B.current=null,Te){const ve=J.currentTarget,Z={originalEvent:J,delta:Te};aw(Te,C.swipeDirection,C.swipeThreshold)?Dc(hC,_,Z,{discrete:!0}):Dc(dC,T,Z,{discrete:!0}),ve.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),gC=n=>{const{__scopeToast:e,children:t,...r}=n,i=kd(du,e),[a,u]=D.useState(!1),[h,f]=D.useState(!1);return wC(()=>u(!0)),D.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),h?null:E.jsx(iE,{asChild:!0,children:E.jsx(Nd,{...r,children:a&&E.jsxs(E.Fragment,{children:[i.label," ",t]})})})},yC="ToastTitle",hE=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return E.jsx(xn.div,{...r,ref:e})});hE.displayName=yC;var vC="ToastDescription",fE=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return E.jsx(xn.div,{...r,ref:e})});fE.displayName=vC;var pE="ToastAction",mE=D.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?E.jsx(yE,{altText:t,asChild:!0,children:E.jsx(Sm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${pE}\`. Expected non-empty \`string\`.`),null)});mE.displayName=pE;var gE="ToastClose",Sm=D.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=pC(gE,t);return E.jsx(yE,{asChild:!0,children:E.jsx(xn.button,{type:"button",...r,ref:e,onClick:Pt(n.onClick,i.onClose)})})});Sm.displayName=gE;var yE=D.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return E.jsx(xn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function vE(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_C(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...vE(r))}}),e}function Dc(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?tE(i,a):i.dispatchEvent(a)}var aw=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function wC(n=()=>{}){const e=_i(n);Ei(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function _C(n){return n.nodeType===n.ELEMENT_NODE}function EC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Uf(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var xC=aE,wE=uE,_E=dE,EE=hE,xE=fE,TE=mE,IE=Sm;function SE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=SE(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function CE(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=SE(n))&&(r&&(r+=" "),r+=e);return r}const lw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,uw=CE,TC=(n,e)=>t=>{var r;if(e?.variants==null)return uw(n,t?.class,t?.className);const{variants:i,defaultVariants:a}=e,u=Object.keys(i).map(p=>{const g=t?.[p],w=a?.[p];if(g===null)return null;const T=lw(g)||lw(w);return i[p][T]}),h=t&&Object.entries(t).reduce((p,g)=>{let[w,T]=g;return T===void 0||(p[w]=T),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:w,className:T,..._}=g;return Object.entries(_).every(S=>{let[C,b]=S;return Array.isArray(b)?b.includes({...a,...h}[C]):{...a,...h}[C]===b})?[...p,w,T]:p},[]);return uw(n,u,f,t?.class,t?.className)};const IC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),cw=n=>{const e=SC(n);return e.charAt(0).toUpperCase()+e.slice(1)},bE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),CC=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var bC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AC=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...h},f)=>D.createElement("svg",{ref:f,...bC,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:bE("lucide",i),...!a&&!CC(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,g])=>D.createElement(p,g)),...Array.isArray(a)?a:[a]]));const gt=(n,e)=>{const t=D.forwardRef(({className:r,...i},a)=>D.createElement(AC,{ref:a,iconNode:e,className:bE(`lucide-${IC(cw(n))}`,`lucide-${n}`,r),...i}));return t.displayName=cw(n),t};const RC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],AE=gt("arrow-left",RC);const PC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],NC=gt("chart-column",PC);const kC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DC=gt("circle-check-big",kC);const OC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MC=gt("clock",OC);const LC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],RE=gt("ellipsis-vertical",LC);const VC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dw=gt("log-out",VC);const jC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Np=gt("mail",jC);const FC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],UC=gt("map-pin",FC);const BC=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ts=gt("message-circle",BC);const zC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],PE=gt("message-square",zC);const $C=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],qC=gt("paperclip",$C);const HC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rd=gt("phone",HC);const WC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],NE=gt("plus",WC);const KC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kp=gt("search",KC);const GC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],QC=gt("send",GC);const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],XC=gt("smile",YC);const JC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ZC=gt("square-pen",JC);const eb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tb=gt("star",eb);const nb=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kE=gt("tag",nb);const rb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sb=gt("trash-2",rb);const ib=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ob=gt("video",ib);const ab=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lb=gt("x",ab),Cm="-",ub=n=>{const e=db(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(Cm);return h[0]===""&&h.length!==1&&h.shift(),DE(h,e)||cb(u)},getConflictingClassGroupIds:(u,h)=>{const f=t[u]||[];return h&&r[u]?[...f,...r[u]]:f}}},DE=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?DE(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Cm);return e.validators.find(({validator:u})=>u(a))?.classGroupId},hw=/^\[(.+)\]$/,cb=n=>{if(hw.test(n)){const e=hw.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},db=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return fb(Object.entries(n.classGroups),t).forEach(([a,u])=>{Dp(u,r,a,e)}),r},Dp=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:fw(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(hb(i)){Dp(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,u])=>{Dp(u,fw(e,a),t,r)})})},fw=(n,e)=>{let t=n;return e.split(Cm).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},hb=n=>n.isThemeGetter,fb=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,h])=>[e+u,h])):a);return[t,i]}):n,pb=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return i(a,u),u},set(a,u){t.has(a)?t.set(a,u):i(a,u)}}},OE="!",mb=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,u=h=>{const f=[];let p=0,g=0,w;for(let b=0;b<h.length;b++){let j=h[b];if(p===0){if(j===i&&(r||h.slice(b,b+a)===e)){f.push(h.slice(g,b)),g=b+a;continue}if(j==="/"){w=b;continue}}j==="["?p++:j==="]"&&p--}const T=f.length===0?h:h.substring(g),_=T.startsWith(OE),S=_?T.substring(1):T,C=w&&w>g?w-g:void 0;return{modifiers:f,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:C}};return t?h=>t({className:h,parseClassName:u}):u},gb=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},yb=n=>({cache:pb(n.cacheSize),parseClassName:mb(n),...ub(n)}),vb=/\s+/,wb=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],u=n.trim().split(vb);let h="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:g,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:_}=t(p);let S=!!_,C=r(S?T.substring(0,_):T);if(!C){if(!S){h=p+(h.length>0?" "+h:h);continue}if(C=r(T),!C){h=p+(h.length>0?" "+h:h);continue}S=!1}const b=gb(g).join(":"),j=w?b+OE:b,U=j+C;if(a.includes(U))continue;a.push(U);const B=i(C,S);for(let q=0;q<B.length;++q){const ee=B[q];a.push(j+ee)}h=p+(h.length>0?" "+h:h)}return h};function _b(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=ME(e))&&(r&&(r+=" "),r+=t);return r}const ME=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=ME(n[r]))&&(t&&(t+=" "),t+=e);return t};function Eb(n,...e){let t,r,i,a=u;function u(f){const p=e.reduce((g,w)=>w(g),n());return t=yb(p),r=t.cache.get,i=t.cache.set,a=h,h(f)}function h(f){const p=r(f);if(p)return p;const g=wb(f,t);return i(f,g),g}return function(){return a(_b.apply(null,arguments))}}const at=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},LE=/^\[(?:([a-z-]+):)?(.+)\]$/i,xb=/^\d+\/\d+$/,Tb=new Set(["px","full","screen"]),Ib=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ab=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Es=n=>pa(n)||Tb.has(n)||xb.test(n),ri=n=>Da(n,"length",Lb),pa=n=>!!n&&!Number.isNaN(Number(n)),Bf=n=>Da(n,"number",pa),Ml=n=>!!n&&Number.isInteger(Number(n)),Rb=n=>n.endsWith("%")&&pa(n.slice(0,-1)),je=n=>LE.test(n),si=n=>Ib.test(n),Pb=new Set(["length","size","percentage"]),Nb=n=>Da(n,Pb,VE),kb=n=>Da(n,"position",VE),Db=new Set(["image","url"]),Ob=n=>Da(n,Db,jb),Mb=n=>Da(n,"",Vb),Ll=()=>!0,Da=(n,e,t)=>{const r=LE.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Lb=n=>Sb.test(n)&&!Cb.test(n),VE=()=>!1,Vb=n=>bb.test(n),jb=n=>Ab.test(n),Fb=()=>{const n=at("colors"),e=at("spacing"),t=at("blur"),r=at("brightness"),i=at("borderColor"),a=at("borderRadius"),u=at("borderSpacing"),h=at("borderWidth"),f=at("contrast"),p=at("grayscale"),g=at("hueRotate"),w=at("invert"),T=at("gap"),_=at("gradientColorStops"),S=at("gradientColorStopPositions"),C=at("inset"),b=at("margin"),j=at("opacity"),U=at("padding"),B=at("saturate"),q=at("scale"),ee=at("sepia"),G=at("skew"),k=at("space"),A=at("translate"),P=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",je,e],M=()=>[je,e],R=()=>["",Es,ri],J=()=>["auto",pa,je],Te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],we=()=>["solid","dashed","dotted","double","none"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",je],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[pa,je];return{cacheSize:500,separator:":",theme:{colors:[Ll],spacing:[Es,ri],blur:["none","",si,je],brightness:z(),borderColor:[n],borderRadius:["none","","full",si,je],borderSpacing:M(),borderWidth:R(),contrast:z(),grayscale:te(),hueRotate:z(),invert:te(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[Rb,ri],inset:O(),margin:O(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:te(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[si]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Te(),je]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ml,je]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Ml,je]}],"grid-cols":[{"grid-cols":[Ll]}],"col-start-end":[{col:["auto",{span:["full",Ml,je]},je]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Ll]}],"row-start-end":[{row:["auto",{span:[Ml,je]},je]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[U]}],px:[{px:[U]}],py:[{py:[U]}],ps:[{ps:[U]}],pe:[{pe:[U]}],pt:[{pt:[U]}],pr:[{pr:[U]}],pb:[{pb:[U]}],pl:[{pl:[U]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,e]}],"min-w":[{"min-w":[je,e,"min","max","fit"]}],"max-w":[{"max-w":[je,e,"none","full","min","max","fit","prose",{screen:[si]},si]}],h:[{h:[je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",si,ri]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bf]}],"font-family":[{font:[Ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",pa,Bf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Es,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Es,ri]}],"underline-offset":[{"underline-offset":["auto",Es,je]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Te(),kb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ob]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...we(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:we()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...we()]}],"outline-offset":[{"outline-offset":[Es,je]}],"outline-w":[{outline:[Es,ri]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Es,ri]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",si,Mb]}],"shadow-color":[{shadow:[Ll]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...ve(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",si,je]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[w]}],saturate:[{saturate:[B]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Ml,je]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Es,ri,Bf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ub=Eb(Fb);function go(...n){return Ub(CE(n))}const Bb=xC,jE=D.forwardRef(({className:n,...e},t)=>E.jsx(wE,{ref:t,className:go("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));jE.displayName=wE.displayName;const zb=TC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FE=D.forwardRef(({className:n,variant:e,...t},r)=>E.jsx(_E,{ref:r,className:go(zb({variant:e}),n),...t}));FE.displayName=_E.displayName;const $b=D.forwardRef(({className:n,...e},t)=>E.jsx(TE,{ref:t,className:go("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));$b.displayName=TE.displayName;const UE=D.forwardRef(({className:n,...e},t)=>E.jsx(IE,{ref:t,className:go("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:E.jsx(lb,{className:"h-4 w-4"})}));UE.displayName=IE.displayName;const BE=D.forwardRef(({className:n,...e},t)=>E.jsx(EE,{ref:t,className:go("text-sm font-semibold",n),...e}));BE.displayName=EE.displayName;const zE=D.forwardRef(({className:n,...e},t)=>E.jsx(xE,{ref:t,className:go("text-sm opacity-90",n),...e}));zE.displayName=xE.displayName;function qb(){const{toasts:n}=PS();return E.jsxs(Bb,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return E.jsxs(FE,{...a,children:[E.jsxs("div",{className:"grid gap-1",children:[t&&E.jsx(BE,{children:t}),r&&E.jsx(zE,{children:r})]}),i,E.jsx(UE,{})]},e)}),E.jsx(jE,{})]})}var Hb=(n,e,t,r,i,a,u,h)=>{let f=document.documentElement,p=["light","dark"];function g(_){(Array.isArray(n)?n:[n]).forEach(S=>{let C=S==="class",b=C&&a?i.map(j=>a[j]||j):i;C?(f.classList.remove(...b),f.classList.add(a&&a[_]?a[_]:_)):f.setAttribute(S,_)}),w(_)}function w(_){h&&p.includes(_)&&(f.style.colorScheme=_)}function T(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let _=localStorage.getItem(e)||t,S=u&&_==="system"?T():_;g(S)}catch{}},Wb=D.createContext(void 0),Kb={setTheme:n=>{},themes:[]},Gb=()=>{var n;return(n=D.useContext(Wb))!=null?n:Kb};D.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:u,themes:h,nonce:f,scriptProps:p})=>{let g=JSON.stringify([t,e,a,n,h,u,r,i]).slice(1,-1);return D.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${Hb.toString()})(${g})`}})});var Qb=n=>{switch(n){case"success":return Jb;case"info":return eA;case"warning":return Zb;case"error":return tA;default:return null}},Yb=Array(12).fill(0),Xb=({visible:n,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ue.createElement("div",{className:"sonner-spinner"},Yb.map((t,r)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Jb=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Zb=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eA=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tA=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nA=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rA=()=>{let[n,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Op=1,sA=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Op++,u=this.toasts.find(f=>f.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:h,title:r}):f):this.addToast({title:r,...i,dismissible:h,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),a=r!==void 0,u,h=i.then(async p=>{if(u=["resolve",p],ue.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(oA(p)&&!p.ok){a=!1;let g=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description;this.create({id:r,type:"error",message:g,description:w})}else if(t.success!==void 0){a=!1;let g=typeof t.success=="function"?await t.success(p):t.success,w=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"success",message:g,description:w})}}).catch(async p=>{if(u=["reject",p],t.error!==void 0){a=!1;let g=typeof t.error=="function"?await t.error(p):t.error,w=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"error",message:g,description:w})}}).finally(()=>{var p;a&&(this.dismiss(r),r=void 0),(p=t.finally)==null||p.call(t)}),f=()=>new Promise((p,g)=>h.then(()=>u[0]==="reject"?g(u[1]):p(u[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,t)=>{let r=t?.id||Op++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wn=new sA,iA=(n,e)=>{let t=e?.id||Op++;return wn.addToast({title:n,...e,id:t}),t},oA=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",aA=iA,lA=()=>wn.toasts,uA=()=>wn.getActiveToasts();Object.assign(aA,{success:wn.success,info:wn.info,warning:wn.warning,error:wn.error,custom:wn.custom,message:wn.message,promise:wn.promise,dismiss:wn.dismiss,loading:wn.loading},{getHistory:lA,getToasts:uA});function cA(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}cA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Oc(n){return n.label!==void 0}var dA=3,hA="32px",fA="16px",pw=4e3,pA=356,mA=14,gA=20,yA=200;function ar(...n){return n.filter(Boolean).join(" ")}function vA(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var wA=n=>{var e,t,r,i,a,u,h,f,p,g,w;let{invert:T,toast:_,unstyled:S,interacting:C,setHeights:b,visibleToasts:j,heights:U,index:B,toasts:q,expanded:ee,removeToast:G,defaultRichColors:k,closeButton:A,style:P,cancelButtonStyle:L,actionButtonStyle:O,className:M="",descriptionClassName:R="",duration:J,position:Te,gap:we,loadingIcon:ve,expandByDefault:Z,classNames:te,icons:ie,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:X}=n,[de,he]=ue.useState(null),[Ie,Ne]=ue.useState(null),[me,Re]=ue.useState(!1),[Ve,et]=ue.useState(!1),[dn,Xn]=ue.useState(!1),[Kt,Ds]=ue.useState(!1),[To,ts]=ue.useState(!1),[ns,rs]=ue.useState(0),[ft,lt]=ue.useState(0),Ft=ue.useRef(_.duration||J||pw),Os=ue.useRef(null),Tn=ue.useRef(null),Io=B===0,yr=B+1<=j,kt=_.type,In=_.dismissible!==!1,vr=_.className||"",So=_.descriptionClassName||"",Fn=ue.useMemo(()=>U.findIndex(Ce=>Ce.toastId===_.id)||0,[U,_.id]),wr=ue.useMemo(()=>{var Ce;return(Ce=_.closeButton)!=null?Ce:A},[_.closeButton,A]),Oi=ue.useMemo(()=>_.duration||J||pw,[_.duration,J]),Un=ue.useRef(0),Sn=ue.useRef(0),Ms=ue.useRef(0),Dt=ue.useRef(null),[Ls,_r]=Te.split("-"),ss=ue.useMemo(()=>U.reduce((Ce,He,Ye)=>Ye>=Fn?Ce:Ce+He.height,0),[U,Fn]),Bn=rA(),Jn=_.invert||T,tt=kt==="loading";Sn.current=ue.useMemo(()=>Fn*we+ss,[Fn,ss]),ue.useEffect(()=>{Ft.current=Oi},[Oi]),ue.useEffect(()=>{Re(!0)},[]),ue.useEffect(()=>{let Ce=Tn.current;if(Ce){let He=Ce.getBoundingClientRect().height;return lt(He),b(Ye=>[{toastId:_.id,height:He,position:_.position},...Ye]),()=>b(Ye=>Ye.filter(pt=>pt.toastId!==_.id))}},[b,_.id]),ue.useLayoutEffect(()=>{if(!me)return;let Ce=Tn.current,He=Ce.style.height;Ce.style.height="auto";let Ye=Ce.getBoundingClientRect().height;Ce.style.height=He,lt(Ye),b(pt=>pt.find(Gt=>Gt.toastId===_.id)?pt.map(Gt=>Gt.toastId===_.id?{...Gt,height:Ye}:Gt):[{toastId:_.id,height:Ye,position:_.position},...pt])},[me,_.title,_.description,b,_.id]);let hn=ue.useCallback(()=>{et(!0),rs(Sn.current),b(Ce=>Ce.filter(He=>He.toastId!==_.id)),setTimeout(()=>{G(_)},yA)},[_,G,b,Sn]);ue.useEffect(()=>{if(_.promise&&kt==="loading"||_.duration===1/0||_.type==="loading")return;let Ce;return ee||C||X&&Bn?(()=>{if(Ms.current<Un.current){let He=new Date().getTime()-Un.current;Ft.current=Ft.current-He}Ms.current=new Date().getTime()})():Ft.current!==1/0&&(Un.current=new Date().getTime(),Ce=setTimeout(()=>{var He;(He=_.onAutoClose)==null||He.call(_,_),hn()},Ft.current)),()=>clearTimeout(Ce)},[ee,C,_,kt,X,Bn,hn]),ue.useEffect(()=>{_.delete&&hn()},[hn,_.delete]);function Er(){var Ce,He,Ye;return ie!=null&&ie.loading?ue.createElement("div",{className:ar(te?.loader,(Ce=_?.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":kt==="loading"},ie.loading):ve?ue.createElement("div",{className:ar(te?.loader,(He=_?.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":kt==="loading"},ve):ue.createElement(Xb,{className:ar(te?.loader,(Ye=_?.classNames)==null?void 0:Ye.loader),visible:kt==="loading"})}return ue.createElement("li",{tabIndex:0,ref:Tn,className:ar(M,vr,te?.toast,(e=_?.classNames)==null?void 0:e.toast,te?.default,te?.[kt],(t=_?.classNames)==null?void 0:t[kt]),"data-sonner-toast":"","data-rich-colors":(r=_.richColors)!=null?r:k,"data-styled":!(_.jsx||_.unstyled||S),"data-mounted":me,"data-promise":!!_.promise,"data-swiped":To,"data-removed":Ve,"data-visible":yr,"data-y-position":Ls,"data-x-position":_r,"data-index":B,"data-front":Io,"data-swiping":dn,"data-dismissible":In,"data-type":kt,"data-invert":Jn,"data-swipe-out":Kt,"data-swipe-direction":Ie,"data-expanded":!!(ee||Z&&me),style:{"--index":B,"--toasts-before":B,"--z-index":q.length-B,"--offset":`${Ve?ns:Sn.current}px`,"--initial-height":Z?"auto":`${ft}px`,...P,..._.style},onDragEnd:()=>{Xn(!1),he(null),Dt.current=null},onPointerDown:Ce=>{tt||!In||(Os.current=new Date,rs(Sn.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(Xn(!0),Dt.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,He,Ye,pt;if(Kt||!In)return;Dt.current=null;let Gt=Number(((Ce=Tn.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qt=Number(((He=Tn.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yt=new Date().getTime()-((Ye=Os.current)==null?void 0:Ye.getTime()),Et=de==="x"?Gt:Qt,Cn=Math.abs(Et)/Yt;if(Math.abs(Et)>=gA||Cn>.11){rs(Sn.current),(pt=_.onDismiss)==null||pt.call(_,_),Ne(de==="x"?Gt>0?"right":"left":Qt>0?"down":"up"),hn(),Ds(!0),ts(!1);return}Xn(!1),he(null)},onPointerMove:Ce=>{var He,Ye,pt,Gt;if(!Dt.current||!In||((He=window.getSelection())==null?void 0:He.toString().length)>0)return;let Qt=Ce.clientY-Dt.current.y,Yt=Ce.clientX-Dt.current.x,Et=(Ye=n.swipeDirections)!=null?Ye:vA(Te);!de&&(Math.abs(Yt)>1||Math.abs(Qt)>1)&&he(Math.abs(Yt)>Math.abs(Qt)?"x":"y");let Cn={x:0,y:0};de==="y"?(Et.includes("top")||Et.includes("bottom"))&&(Et.includes("top")&&Qt<0||Et.includes("bottom")&&Qt>0)&&(Cn.y=Qt):de==="x"&&(Et.includes("left")||Et.includes("right"))&&(Et.includes("left")&&Yt<0||Et.includes("right")&&Yt>0)&&(Cn.x=Yt),(Math.abs(Cn.x)>0||Math.abs(Cn.y)>0)&&ts(!0),(pt=Tn.current)==null||pt.style.setProperty("--swipe-amount-x",`${Cn.x}px`),(Gt=Tn.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Cn.y}px`)}},wr&&!_.jsx?ue.createElement("button",{"aria-label":z,"data-disabled":tt,"data-close-button":!0,onClick:tt||!In?()=>{}:()=>{var Ce;hn(),(Ce=_.onDismiss)==null||Ce.call(_,_)},className:ar(te?.closeButton,(i=_?.classNames)==null?void 0:i.closeButton)},(a=ie?.close)!=null?a:nA):null,_.jsx||D.isValidElement(_.title)?_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title:ue.createElement(ue.Fragment,null,kt||_.icon||_.promise?ue.createElement("div",{"data-icon":"",className:ar(te?.icon,(u=_?.classNames)==null?void 0:u.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||Er():null,_.type!=="loading"?_.icon||ie?.[kt]||Qb(kt):null):null,ue.createElement("div",{"data-content":"",className:ar(te?.content,(h=_?.classNames)==null?void 0:h.content)},ue.createElement("div",{"data-title":"",className:ar(te?.title,(f=_?.classNames)==null?void 0:f.title)},typeof _.title=="function"?_.title():_.title),_.description?ue.createElement("div",{"data-description":"",className:ar(R,So,te?.description,(p=_?.classNames)==null?void 0:p.description)},typeof _.description=="function"?_.description():_.description):null),D.isValidElement(_.cancel)?_.cancel:_.cancel&&Oc(_.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||L,onClick:Ce=>{var He,Ye;Oc(_.cancel)&&In&&((Ye=(He=_.cancel).onClick)==null||Ye.call(He,Ce),hn())},className:ar(te?.cancelButton,(g=_?.classNames)==null?void 0:g.cancelButton)},_.cancel.label):null,D.isValidElement(_.action)?_.action:_.action&&Oc(_.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||O,onClick:Ce=>{var He,Ye;Oc(_.action)&&((Ye=(He=_.action).onClick)==null||Ye.call(He,Ce),!Ce.defaultPrevented&&hn())},className:ar(te?.actionButton,(w=_?.classNames)==null?void 0:w.actionButton)},_.action.label):null))};function mw(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function _A(n,e){let t={};return[n,e].forEach((r,i)=>{let a=i===1,u=a?"--mobile-offset":"--offset",h=a?fA:hA;function f(p){["top","right","bottom","left"].forEach(g=>{t[`${u}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${u}-${p}`]=h:t[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):f(h)}),t}var EA=D.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:u,className:h,offset:f,mobileOffset:p,theme:g="light",richColors:w,duration:T,style:_,visibleToasts:S=dA,toastOptions:C,dir:b=mw(),gap:j=mA,loadingIcon:U,icons:B,containerAriaLabel:q="Notifications",pauseWhenPageIsHidden:ee}=n,[G,k]=ue.useState([]),A=ue.useMemo(()=>Array.from(new Set([r].concat(G.filter(X=>X.position).map(X=>X.position)))),[G,r]),[P,L]=ue.useState([]),[O,M]=ue.useState(!1),[R,J]=ue.useState(!1),[Te,we]=ue.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ve=ue.useRef(null),Z=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=ue.useRef(null),ie=ue.useRef(!1),z=ue.useCallback(X=>{k(de=>{var he;return(he=de.find(Ie=>Ie.id===X.id))!=null&&he.delete||wn.dismiss(X.id),de.filter(({id:Ie})=>Ie!==X.id)})},[]);return ue.useEffect(()=>wn.subscribe(X=>{if(X.dismiss){k(de=>de.map(he=>he.id===X.id?{...he,delete:!0}:he));return}setTimeout(()=>{J_.flushSync(()=>{k(de=>{let he=de.findIndex(Ie=>Ie.id===X.id);return he!==-1?[...de.slice(0,he),{...de[he],...X},...de.slice(he+1)]:[X,...de]})})})}),[]),ue.useEffect(()=>{if(g!=="system"){we(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?we("dark"):we("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:de})=>{we(de?"dark":"light")})}catch{X.addListener(({matches:he})=>{try{we(he?"dark":"light")}catch(Ie){console.error(Ie)}})}},[g]),ue.useEffect(()=>{G.length<=1&&M(!1)},[G]),ue.useEffect(()=>{let X=de=>{var he,Ie;i.every(Ne=>de[Ne]||de.code===Ne)&&(M(!0),(he=ve.current)==null||he.focus()),de.code==="Escape"&&(document.activeElement===ve.current||(Ie=ve.current)!=null&&Ie.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[i]),ue.useEffect(()=>{if(ve.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,ie.current=!1)}},[ve.current]),ue.createElement("section",{ref:e,"aria-label":`${q} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((X,de)=>{var he;let[Ie,Ne]=X.split("-");return G.length?ue.createElement("ol",{key:X,dir:b==="auto"?mw():b,tabIndex:-1,ref:ve,className:h,"data-sonner-toaster":!0,"data-theme":Te,"data-y-position":Ie,"data-lifted":O&&G.length>1&&!a,"data-x-position":Ne,style:{"--front-toast-height":`${((he=P[0])==null?void 0:he.height)||0}px`,"--width":`${pA}px`,"--gap":`${j}px`,..._,..._A(f,p)},onBlur:me=>{ie.current&&!me.currentTarget.contains(me.relatedTarget)&&(ie.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,te.current=me.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{R||M(!1)},onDragEnd:()=>M(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},G.filter(me=>!me.position&&de===0||me.position===X).map((me,Re)=>{var Ve,et;return ue.createElement(wA,{key:me.id,icons:B,index:Re,toast:me,defaultRichColors:w,duration:(Ve=C?.duration)!=null?Ve:T,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:t,visibleToasts:S,closeButton:(et=C?.closeButton)!=null?et:u,interacting:R,position:X,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,removeToast:z,toasts:G.filter(dn=>dn.position==me.position),heights:P.filter(dn=>dn.position==me.position),setHeights:L,expandByDefault:a,gap:j,loadingIcon:U,expanded:O,pauseWhenPageIsHidden:ee,swipeDirections:n.swipeDirections})})):null}))});const xA=({...n})=>{const{theme:e="system"}=Gb();return E.jsx(EA,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},TA=["top","right","bottom","left"],xi=Math.min,Ln=Math.max,sd=Math.round,Mc=Math.floor,zr=n=>({x:n,y:n}),IA={left:"right",right:"left",bottom:"top",top:"bottom"},SA={start:"end",end:"start"};function Mp(n,e,t){return Ln(n,xi(e,t))}function Cs(n,e){return typeof n=="function"?n(e):n}function bs(n){return n.split("-")[0]}function Oa(n){return n.split("-")[1]}function bm(n){return n==="x"?"y":"x"}function Am(n){return n==="y"?"height":"width"}const CA=new Set(["top","bottom"]);function Br(n){return CA.has(bs(n))?"y":"x"}function Rm(n){return bm(Br(n))}function bA(n,e,t){t===void 0&&(t=!1);const r=Oa(n),i=Rm(n),a=Am(i);let u=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=id(u)),[u,id(u)]}function AA(n){const e=id(n);return[Lp(n),e,Lp(e)]}function Lp(n){return n.replace(/start|end/g,e=>SA[e])}const gw=["left","right"],yw=["right","left"],RA=["top","bottom"],PA=["bottom","top"];function NA(n,e,t){switch(n){case"top":case"bottom":return t?e?yw:gw:e?gw:yw;case"left":case"right":return e?RA:PA;default:return[]}}function kA(n,e,t,r){const i=Oa(n);let a=NA(bs(n),t==="start",r);return i&&(a=a.map(u=>u+"-"+i),e&&(a=a.concat(a.map(Lp)))),a}function id(n){return n.replace(/left|right|bottom|top/g,e=>IA[e])}function DA(n){return{top:0,right:0,bottom:0,left:0,...n}}function $E(n){return typeof n!="number"?DA(n):{top:n,right:n,bottom:n,left:n}}function od(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function vw(n,e,t){let{reference:r,floating:i}=n;const a=Br(e),u=Rm(e),h=Am(u),f=bs(e),p=a==="y",g=r.x+r.width/2-i.width/2,w=r.y+r.height/2-i.height/2,T=r[h]/2-i[h]/2;let _;switch(f){case"top":_={x:g,y:r.y-i.height};break;case"bottom":_={x:g,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:w};break;case"left":_={x:r.x-i.width,y:w};break;default:_={x:r.x,y:r.y}}switch(Oa(e)){case"start":_[u]-=T*(t&&p?-1:1);break;case"end":_[u]+=T*(t&&p?-1:1);break}return _}const OA=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:u}=t,h=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:i}),{x:g,y:w}=vw(p,r,f),T=r,_={},S=0;for(let C=0;C<h.length;C++){const{name:b,fn:j}=h[C],{x:U,y:B,data:q,reset:ee}=await j({x:g,y:w,initialPlacement:r,placement:T,strategy:i,middlewareData:_,rects:p,platform:u,elements:{reference:n,floating:e}});g=U??g,w=B??w,_={..._,[b]:{..._[b],...q}},ee&&S<=50&&(S++,typeof ee=="object"&&(ee.placement&&(T=ee.placement),ee.rects&&(p=ee.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:i}):ee.rects),{x:g,y:w}=vw(p,T,f)),C=-1)}return{x:g,y:w,placement:T,strategy:i,middlewareData:_}};async function Yl(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:u,elements:h,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:w="floating",altBoundary:T=!1,padding:_=0}=Cs(e,n),S=$E(_),b=h[T?w==="floating"?"reference":"floating":w],j=od(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(b)))==null||t?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:p,rootBoundary:g,strategy:f})),U=w==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),q=await(a.isElement==null?void 0:a.isElement(B))?await(a.getScale==null?void 0:a.getScale(B))||{x:1,y:1}:{x:1,y:1},ee=od(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:U,offsetParent:B,strategy:f}):U);return{top:(j.top-ee.top+S.top)/q.y,bottom:(ee.bottom-j.bottom+S.bottom)/q.y,left:(j.left-ee.left+S.left)/q.x,right:(ee.right-j.right+S.right)/q.x}}const MA=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:u,elements:h,middlewareData:f}=e,{element:p,padding:g=0}=Cs(n,e)||{};if(p==null)return{};const w=$E(g),T={x:t,y:r},_=Rm(i),S=Am(_),C=await u.getDimensions(p),b=_==="y",j=b?"top":"left",U=b?"bottom":"right",B=b?"clientHeight":"clientWidth",q=a.reference[S]+a.reference[_]-T[_]-a.floating[S],ee=T[_]-a.reference[_],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let k=G?G[B]:0;(!k||!await(u.isElement==null?void 0:u.isElement(G)))&&(k=h.floating[B]||a.floating[S]);const A=q/2-ee/2,P=k/2-C[S]/2-1,L=xi(w[j],P),O=xi(w[U],P),M=L,R=k-C[S]-O,J=k/2-C[S]/2+A,Te=Mp(M,J,R),we=!f.arrow&&Oa(i)!=null&&J!==Te&&a.reference[S]/2-(J<M?L:O)-C[S]/2<0,ve=we?J<M?J-M:J-R:0;return{[_]:T[_]+ve,data:{[_]:Te,centerOffset:J-Te-ve,...we&&{alignmentOffset:ve}},reset:we}}}),LA=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:u,initialPlacement:h,platform:f,elements:p}=e,{mainAxis:g=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...b}=Cs(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const j=bs(i),U=Br(h),B=bs(h)===h,q=await(f.isRTL==null?void 0:f.isRTL(p.floating)),ee=T||(B||!C?[id(h)]:AA(h)),G=S!=="none";!T&&G&&ee.push(...kA(h,C,S,q));const k=[h,...ee],A=await Yl(e,b),P=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&P.push(A[j]),w){const J=bA(i,u,q);P.push(A[J[0]],A[J[1]])}if(L=[...L,{placement:i,overflows:P}],!P.every(J=>J<=0)){var O,M;const J=(((O=a.flip)==null?void 0:O.index)||0)+1,Te=k[J];if(Te&&(!(w==="alignment"?U!==Br(Te):!1)||L.every(Z=>Br(Z.placement)===U?Z.overflows[0]>0:!0)))return{data:{index:J,overflows:L},reset:{placement:Te}};let we=(M=L.filter(ve=>ve.overflows[0]<=0).sort((ve,Z)=>ve.overflows[1]-Z.overflows[1])[0])==null?void 0:M.placement;if(!we)switch(_){case"bestFit":{var R;const ve=(R=L.filter(Z=>{if(G){const te=Br(Z.placement);return te===U||te==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(te=>te>0).reduce((te,ie)=>te+ie,0)]).sort((Z,te)=>Z[1]-te[1])[0])==null?void 0:R[0];ve&&(we=ve);break}case"initialPlacement":we=h;break}if(i!==we)return{reset:{placement:we}}}return{}}}};function ww(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function _w(n){return TA.some(e=>n[e]>=0)}const VA=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Cs(n,e);switch(r){case"referenceHidden":{const a=await Yl(e,{...i,elementContext:"reference"}),u=ww(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:_w(u)}}}case"escaped":{const a=await Yl(e,{...i,altBoundary:!0}),u=ww(a,t.floating);return{data:{escapedOffsets:u,escaped:_w(u)}}}default:return{}}}}},qE=new Set(["left","top"]);async function jA(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=bs(t),h=Oa(t),f=Br(t)==="y",p=qE.has(u)?-1:1,g=a&&f?-1:1,w=Cs(e,n);let{mainAxis:T,crossAxis:_,alignmentAxis:S}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof S=="number"&&(_=h==="end"?S*-1:S),f?{x:_*g,y:T*p}:{x:T*p,y:_*g}}const FA=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:u,middlewareData:h}=e,f=await jA(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:u}}}}},UA=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:b=>{let{x:j,y:U}=b;return{x:j,y:U}}},...f}=Cs(n,e),p={x:t,y:r},g=await Yl(e,f),w=Br(bs(i)),T=bm(w);let _=p[T],S=p[w];if(a){const b=T==="y"?"top":"left",j=T==="y"?"bottom":"right",U=_+g[b],B=_-g[j];_=Mp(U,_,B)}if(u){const b=w==="y"?"top":"left",j=w==="y"?"bottom":"right",U=S+g[b],B=S-g[j];S=Mp(U,S,B)}const C=h.fn({...e,[T]:_,[w]:S});return{...C,data:{x:C.x-t,y:C.y-r,enabled:{[T]:a,[w]:u}}}}}},BA=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:u}=e,{offset:h=0,mainAxis:f=!0,crossAxis:p=!0}=Cs(n,e),g={x:t,y:r},w=Br(i),T=bm(w);let _=g[T],S=g[w];const C=Cs(h,e),b=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(f){const B=T==="y"?"height":"width",q=a.reference[T]-a.floating[B]+b.mainAxis,ee=a.reference[T]+a.reference[B]-b.mainAxis;_<q?_=q:_>ee&&(_=ee)}if(p){var j,U;const B=T==="y"?"width":"height",q=qE.has(bs(i)),ee=a.reference[w]-a.floating[B]+(q&&((j=u.offset)==null?void 0:j[w])||0)+(q?0:b.crossAxis),G=a.reference[w]+a.reference[B]+(q?0:((U=u.offset)==null?void 0:U[w])||0)-(q?b.crossAxis:0);S<ee?S=ee:S>G&&(S=G)}return{[T]:_,[w]:S}}}},zA=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:u,elements:h}=e,{apply:f=()=>{},...p}=Cs(n,e),g=await Yl(e,p),w=bs(i),T=Oa(i),_=Br(i)==="y",{width:S,height:C}=a.floating;let b,j;w==="top"||w==="bottom"?(b=w,j=T===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(j=w,b=T==="end"?"top":"bottom");const U=C-g.top-g.bottom,B=S-g.left-g.right,q=xi(C-g[b],U),ee=xi(S-g[j],B),G=!e.middlewareData.shift;let k=q,A=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=B),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=U),G&&!T){const L=Ln(g.left,0),O=Ln(g.right,0),M=Ln(g.top,0),R=Ln(g.bottom,0);_?A=S-2*(L!==0||O!==0?L+O:Ln(g.left,g.right)):k=C-2*(M!==0||R!==0?M+R:Ln(g.top,g.bottom))}await f({...e,availableWidth:A,availableHeight:k});const P=await u.getDimensions(h.floating);return S!==P.width||C!==P.height?{reset:{rects:!0}}:{}}}};function Dd(){return typeof window<"u"}function Ma(n){return HE(n)?(n.nodeName||"").toLowerCase():"#document"}function jn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(n){var e;return(e=(HE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function HE(n){return Dd()?n instanceof Node||n instanceof jn(n).Node:!1}function pr(n){return Dd()?n instanceof Element||n instanceof jn(n).Element:!1}function Yr(n){return Dd()?n instanceof HTMLElement||n instanceof jn(n).HTMLElement:!1}function Ew(n){return!Dd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof jn(n).ShadowRoot}const $A=new Set(["inline","contents"]);function hu(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=mr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!$A.has(i)}const qA=new Set(["table","td","th"]);function HA(n){return qA.has(Ma(n))}const WA=[":popover-open",":modal"];function Od(n){return WA.some(e=>{try{return n.matches(e)}catch{return!1}})}const KA=["transform","translate","scale","rotate","perspective"],GA=["transform","translate","scale","rotate","perspective","filter"],QA=["paint","layout","strict","content"];function Pm(n){const e=Nm(),t=pr(n)?mr(n):n;return KA.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||GA.some(r=>(t.willChange||"").includes(r))||QA.some(r=>(t.contain||"").includes(r))}function YA(n){let e=Ti(n);for(;Yr(e)&&!Ea(e);){if(Pm(e))return e;if(Od(e))return null;e=Ti(e)}return null}function Nm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XA=new Set(["html","body","#document"]);function Ea(n){return XA.has(Ma(n))}function mr(n){return jn(n).getComputedStyle(n)}function Md(n){return pr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ti(n){if(Ma(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Ew(n)&&n.host||Zr(n);return Ew(e)?e.host:e}function WE(n){const e=Ti(n);return Ea(e)?n.ownerDocument?n.ownerDocument.body:n.body:Yr(e)&&hu(e)?e:WE(e)}function Xl(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=WE(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),u=jn(i);if(a){const h=Vp(u);return e.concat(u,u.visualViewport||[],hu(i)?i:[],h&&t?Xl(h):[])}return e.concat(i,Xl(i,[],t))}function Vp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function KE(n){const e=mr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Yr(n),a=i?n.offsetWidth:t,u=i?n.offsetHeight:r,h=sd(t)!==a||sd(r)!==u;return h&&(t=a,r=u),{width:t,height:r,$:h}}function km(n){return pr(n)?n:n.contextElement}function ma(n){const e=km(n);if(!Yr(e))return zr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=KE(e);let u=(a?sd(t.width):t.width)/r,h=(a?sd(t.height):t.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const JA=zr(0);function GE(n){const e=jn(n);return!Nm()||!e.visualViewport?JA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZA(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==jn(n)?!1:e}function uo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=km(n);let u=zr(1);e&&(r?pr(r)&&(u=ma(r)):u=ma(n));const h=ZA(a,t,r)?GE(a):zr(0);let f=(i.left+h.x)/u.x,p=(i.top+h.y)/u.y,g=i.width/u.x,w=i.height/u.y;if(a){const T=jn(a),_=r&&pr(r)?jn(r):r;let S=T,C=Vp(S);for(;C&&r&&_!==S;){const b=ma(C),j=C.getBoundingClientRect(),U=mr(C),B=j.left+(C.clientLeft+parseFloat(U.paddingLeft))*b.x,q=j.top+(C.clientTop+parseFloat(U.paddingTop))*b.y;f*=b.x,p*=b.y,g*=b.x,w*=b.y,f+=B,p+=q,S=jn(C),C=Vp(S)}}return od({width:g,height:w,x:f,y:p})}function Ld(n,e){const t=Md(n).scrollLeft;return e?e.left+t:uo(Zr(n)).left+t}function QE(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Ld(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function eR(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",u=Zr(r),h=e?Od(e.floating):!1;if(r===u||h&&a)return t;let f={scrollLeft:0,scrollTop:0},p=zr(1);const g=zr(0),w=Yr(r);if((w||!w&&!a)&&((Ma(r)!=="body"||hu(u))&&(f=Md(r)),Yr(r))){const _=uo(r);p=ma(r),g.x=_.x+r.clientLeft,g.y=_.y+r.clientTop}const T=u&&!w&&!a?QE(u,f):zr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+g.x+T.x,y:t.y*p.y-f.scrollTop*p.y+g.y+T.y}}function tR(n){return Array.from(n.getClientRects())}function nR(n){const e=Zr(n),t=Md(n),r=n.ownerDocument.body,i=Ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+Ld(n);const h=-t.scrollTop;return mr(r).direction==="rtl"&&(u+=Ln(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:u,y:h}}const xw=25;function rR(n,e){const t=jn(n),r=Zr(n),i=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,h=0,f=0;if(i){a=i.width,u=i.height;const g=Nm();(!g||g&&e==="fixed")&&(h=i.offsetLeft,f=i.offsetTop)}const p=Ld(r);if(p<=0){const g=r.ownerDocument,w=g.body,T=getComputedStyle(w),_=g.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,S=Math.abs(r.clientWidth-w.clientWidth-_);S<=xw&&(a-=S)}else p<=xw&&(a+=p);return{width:a,height:u,x:h,y:f}}const sR=new Set(["absolute","fixed"]);function iR(n,e){const t=uo(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=Yr(n)?ma(n):zr(1),u=n.clientWidth*a.x,h=n.clientHeight*a.y,f=i*a.x,p=r*a.y;return{width:u,height:h,x:f,y:p}}function Tw(n,e,t){let r;if(e==="viewport")r=rR(n,t);else if(e==="document")r=nR(Zr(n));else if(pr(e))r=iR(e,t);else{const i=GE(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return od(r)}function YE(n,e){const t=Ti(n);return t===e||!pr(t)||Ea(t)?!1:mr(t).position==="fixed"||YE(t,e)}function oR(n,e){const t=e.get(n);if(t)return t;let r=Xl(n,[],!1).filter(h=>pr(h)&&Ma(h)!=="body"),i=null;const a=mr(n).position==="fixed";let u=a?Ti(n):n;for(;pr(u)&&!Ea(u);){const h=mr(u),f=Pm(u);!f&&h.position==="fixed"&&(i=null),(a?!f&&!i:!f&&h.position==="static"&&!!i&&sR.has(i.position)||hu(u)&&!f&&YE(n,u))?r=r.filter(g=>g!==u):i=h,u=Ti(u)}return e.set(n,r),r}function aR(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const u=[...t==="clippingAncestors"?Od(e)?[]:oR(e,this._c):[].concat(t),r],h=u[0],f=u.reduce((p,g)=>{const w=Tw(e,g,i);return p.top=Ln(w.top,p.top),p.right=xi(w.right,p.right),p.bottom=xi(w.bottom,p.bottom),p.left=Ln(w.left,p.left),p},Tw(e,h,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function lR(n){const{width:e,height:t}=KE(n);return{width:e,height:t}}function uR(n,e,t){const r=Yr(e),i=Zr(e),a=t==="fixed",u=uo(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=zr(0);function p(){f.x=Ld(i)}if(r||!r&&!a)if((Ma(e)!=="body"||hu(i))&&(h=Md(e)),r){const _=uo(e,!0,a,e);f.x=_.x+e.clientLeft,f.y=_.y+e.clientTop}else i&&p();a&&!r&&i&&p();const g=i&&!r&&!a?QE(i,h):zr(0),w=u.left+h.scrollLeft-f.x-g.x,T=u.top+h.scrollTop-f.y-g.y;return{x:w,y:T,width:u.width,height:u.height}}function zf(n){return mr(n).position==="static"}function Iw(n,e){if(!Yr(n)||mr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Zr(n)===t&&(t=t.ownerDocument.body),t}function XE(n,e){const t=jn(n);if(Od(n))return t;if(!Yr(n)){let i=Ti(n);for(;i&&!Ea(i);){if(pr(i)&&!zf(i))return i;i=Ti(i)}return t}let r=Iw(n,e);for(;r&&HA(r)&&zf(r);)r=Iw(r,e);return r&&Ea(r)&&zf(r)&&!Pm(r)?t:r||YA(n)||t}const cR=async function(n){const e=this.getOffsetParent||XE,t=this.getDimensions,r=await t(n.floating);return{reference:uR(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dR(n){return mr(n).direction==="rtl"}const hR={convertOffsetParentRelativeRectToViewportRelativeRect:eR,getDocumentElement:Zr,getClippingRect:aR,getOffsetParent:XE,getElementRects:cR,getClientRects:tR,getDimensions:lR,getScale:ma,isElement:pr,isRTL:dR};function JE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function fR(n,e){let t=null,r;const i=Zr(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const p=n.getBoundingClientRect(),{left:g,top:w,width:T,height:_}=p;if(h||e(),!T||!_)return;const S=Mc(w),C=Mc(i.clientWidth-(g+T)),b=Mc(i.clientHeight-(w+_)),j=Mc(g),B={rootMargin:-S+"px "+-C+"px "+-b+"px "+-j+"px",threshold:Ln(0,xi(1,f))||1};let q=!0;function ee(G){const k=G[0].intersectionRatio;if(k!==f){if(!q)return u();k?u(!1,k):r=setTimeout(()=>{u(!1,1e-7)},1e3)}k===1&&!JE(p,n.getBoundingClientRect())&&u(),q=!1}try{t=new IntersectionObserver(ee,{...B,root:i.ownerDocument})}catch{t=new IntersectionObserver(ee,B)}t.observe(n)}return u(!0),a}function pR(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=km(n),g=i||a?[...p?Xl(p):[],...Xl(e)]:[];g.forEach(j=>{i&&j.addEventListener("scroll",t,{passive:!0}),a&&j.addEventListener("resize",t)});const w=p&&h?fR(p,t):null;let T=-1,_=null;u&&(_=new ResizeObserver(j=>{let[U]=j;U&&U.target===p&&_&&(_.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var B;(B=_)==null||B.observe(e)})),t()}),p&&!f&&_.observe(p),_.observe(e));let S,C=f?uo(n):null;f&&b();function b(){const j=uo(n);C&&!JE(C,j)&&t(),C=j,S=requestAnimationFrame(b)}return t(),()=>{var j;g.forEach(U=>{i&&U.removeEventListener("scroll",t),a&&U.removeEventListener("resize",t)}),w?.(),(j=_)==null||j.disconnect(),_=null,f&&cancelAnimationFrame(S)}}const mR=FA,gR=UA,yR=LA,vR=zA,wR=VA,Sw=MA,_R=BA,ER=(n,e,t)=>{const r=new Map,i={platform:hR,...t},a={...i.platform,_c:r};return OA(n,e,{...i,platform:a})};var xR=typeof document<"u",TR=function(){},Wc=xR?D.useLayoutEffect:TR;function ad(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!ad(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!ad(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function ZE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Cw(n,e){const t=ZE(n);return Math.round(e*t)/t}function $f(n){const e=D.useRef(n);return Wc(()=>{e.current=n}),e}function IR(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:f,open:p}=n,[g,w]=D.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,_]=D.useState(r);ad(T,r)||_(r);const[S,C]=D.useState(null),[b,j]=D.useState(null),U=D.useCallback(Z=>{Z!==G.current&&(G.current=Z,C(Z))},[]),B=D.useCallback(Z=>{Z!==k.current&&(k.current=Z,j(Z))},[]),q=a||S,ee=u||b,G=D.useRef(null),k=D.useRef(null),A=D.useRef(g),P=f!=null,L=$f(f),O=$f(i),M=$f(p),R=D.useCallback(()=>{if(!G.current||!k.current)return;const Z={placement:e,strategy:t,middleware:T};O.current&&(Z.platform=O.current),ER(G.current,k.current,Z).then(te=>{const ie={...te,isPositioned:M.current!==!1};J.current&&!ad(A.current,ie)&&(A.current=ie,Rd.flushSync(()=>{w(ie)}))})},[T,e,t,O,M]);Wc(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,w(Z=>({...Z,isPositioned:!1})))},[p]);const J=D.useRef(!1);Wc(()=>(J.current=!0,()=>{J.current=!1}),[]),Wc(()=>{if(q&&(G.current=q),ee&&(k.current=ee),q&&ee){if(L.current)return L.current(q,ee,R);R()}},[q,ee,R,L,P]);const Te=D.useMemo(()=>({reference:G,floating:k,setReference:U,setFloating:B}),[U,B]),we=D.useMemo(()=>({reference:q,floating:ee}),[q,ee]),ve=D.useMemo(()=>{const Z={position:t,left:0,top:0};if(!we.floating)return Z;const te=Cw(we.floating,g.x),ie=Cw(we.floating,g.y);return h?{...Z,transform:"translate("+te+"px, "+ie+"px)",...ZE(we.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:ie}},[t,h,we.floating,g.x,g.y]);return D.useMemo(()=>({...g,update:R,refs:Te,elements:we,floatingStyles:ve}),[g,R,Te,we,ve])}const SR=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Sw({element:r.current,padding:i}).fn(t):{}:r?Sw({element:r,padding:i}).fn(t):{}}}},CR=(n,e)=>({...mR(n),options:[n,e]}),bR=(n,e)=>({...gR(n),options:[n,e]}),AR=(n,e)=>({..._R(n),options:[n,e]}),RR=(n,e)=>({...yR(n),options:[n,e]}),PR=(n,e)=>({...vR(n),options:[n,e]}),NR=(n,e)=>({...wR(n),options:[n,e]}),kR=(n,e)=>({...SR(n),options:[n,e]});var DR="Arrow",e1=D.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return E.jsx(xn.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});e1.displayName=DR;var OR=e1;function MR(n){const[e,t]=D.useState(void 0);return Ei(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,h;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,h=p.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var t1="Popper",[n1,r1]=Pd(t1),[NV,s1]=n1(t1),i1="PopperAnchor",o1=D.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=s1(i1,t),u=D.useRef(null),h=fr(e,u),f=D.useRef(null);return D.useEffect(()=>{const p=f.current;f.current=r?.current||u.current,p!==f.current&&a.onAnchorChange(f.current)}),r?null:E.jsx(xn.div,{...i,ref:h})});o1.displayName=i1;var Dm="PopperContent",[LR,VR]=n1(Dm),a1=D.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:_="optimized",onPlaced:S,...C}=n,b=s1(Dm,t),[j,U]=D.useState(null),B=fr(e,me=>U(me)),[q,ee]=D.useState(null),G=MR(q),k=G?.width??0,A=G?.height??0,P=r+(a!=="center"?"-"+a:""),L=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},O=Array.isArray(p)?p:[p],M=O.length>0,R={padding:L,boundary:O.filter(FR),altBoundary:M},{refs:J,floatingStyles:Te,placement:we,isPositioned:ve,middlewareData:Z}=IR({strategy:"fixed",placement:P,whileElementsMounted:(...me)=>pR(...me,{animationFrame:_==="always"}),elements:{reference:b.anchor},middleware:[CR({mainAxis:i+A,alignmentAxis:u}),f&&bR({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?AR():void 0,...R}),f&&RR({...R}),PR({...R,apply:({elements:me,rects:Re,availableWidth:Ve,availableHeight:et})=>{const{width:dn,height:Xn}=Re.reference,Kt=me.floating.style;Kt.setProperty("--radix-popper-available-width",`${Ve}px`),Kt.setProperty("--radix-popper-available-height",`${et}px`),Kt.setProperty("--radix-popper-anchor-width",`${dn}px`),Kt.setProperty("--radix-popper-anchor-height",`${Xn}px`)}}),q&&kR({element:q,padding:h}),UR({arrowWidth:k,arrowHeight:A}),T&&NR({strategy:"referenceHidden",...R})]}),[te,ie]=c1(we),z=_i(S);Ei(()=>{ve&&z?.()},[ve,z]);const X=Z.arrow?.x,de=Z.arrow?.y,he=Z.arrow?.centerOffset!==0,[Ie,Ne]=D.useState();return Ei(()=>{j&&Ne(window.getComputedStyle(j).zIndex)},[j]),E.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:ve?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:E.jsx(LR,{scope:t,placedSide:te,onArrowChange:ee,arrowX:X,arrowY:de,shouldHideArrow:he,children:E.jsx(xn.div,{"data-side":te,"data-align":ie,...C,ref:B,style:{...C.style,animation:ve?void 0:"none"}})})})});a1.displayName=Dm;var l1="PopperArrow",jR={top:"bottom",right:"left",bottom:"top",left:"right"},u1=D.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=VR(l1,r),u=jR[a.placedSide];return E.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:E.jsx(OR,{...i,ref:t,style:{...i.style,display:"block"}})})});u1.displayName=l1;function FR(n){return n!==null}var UR=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,h=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[p,g]=c1(t),w={start:"0%",center:"50%",end:"100%"}[g],T=(i.arrow?.x??0)+h/2,_=(i.arrow?.y??0)+f/2;let S="",C="";return p==="bottom"?(S=u?w:`${T}px`,C=`${-f}px`):p==="top"?(S=u?w:`${T}px`,C=`${r.floating.height+f}px`):p==="right"?(S=`${-f}px`,C=u?w:`${_}px`):p==="left"&&(S=`${r.floating.width+f}px`,C=u?w:`${_}px`),{data:{x:S,y:C}}}});function c1(n){const[e,t="center"]=n.split("-");return[e,t]}var BR=o1,zR=a1,$R=u1,[Vd]=Pd("Tooltip",[r1]),Om=r1(),d1="TooltipProvider",qR=700,bw="tooltip.open",[HR,h1]=Vd(d1),f1=n=>{const{__scopeTooltip:e,delayDuration:t=qR,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=n,u=D.useRef(!0),h=D.useRef(!1),f=D.useRef(0);return D.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),E.jsx(HR,{scope:e,isOpenDelayedRef:u,delayDuration:t,onOpen:D.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:D.useCallback(p=>{h.current=p},[]),disableHoverableContent:i,children:a})};f1.displayName=d1;var p1="Tooltip",[kV,jd]=Vd(p1),jp="TooltipTrigger",WR=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=jd(jp,t),a=h1(jp,t),u=Om(t),h=D.useRef(null),f=fr(e,h,i.onTriggerChange),p=D.useRef(!1),g=D.useRef(!1),w=D.useCallback(()=>p.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),E.jsx(BR,{asChild:!0,...u,children:E.jsx(xn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:Pt(n.onPointerMove,T=>{T.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:Pt(n.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:Pt(n.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Pt(n.onFocus,()=>{p.current||i.onOpen()}),onBlur:Pt(n.onBlur,i.onClose),onClick:Pt(n.onClick,i.onClose)})})});WR.displayName=jp;var KR="TooltipPortal",[DV,GR]=Vd(KR,{forceMount:void 0}),xa="TooltipContent",m1=D.forwardRef((n,e)=>{const t=GR(xa,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...a}=n,u=jd(xa,n.__scopeTooltip);return E.jsx(xm,{present:r||u.open,children:u.disableHoverableContent?E.jsx(g1,{side:i,...a,ref:e}):E.jsx(QR,{side:i,...a,ref:e})})}),QR=D.forwardRef((n,e)=>{const t=jd(xa,n.__scopeTooltip),r=h1(xa,n.__scopeTooltip),i=D.useRef(null),a=fr(e,i),[u,h]=D.useState(null),{trigger:f,onClose:p}=t,g=i.current,{onPointerInTransitChange:w}=r,T=D.useCallback(()=>{h(null),w(!1)},[w]),_=D.useCallback((S,C)=>{const b=S.currentTarget,j={x:S.clientX,y:S.clientY},U=eP(j,b.getBoundingClientRect()),B=tP(j,U),q=nP(C.getBoundingClientRect()),ee=sP([...B,...q]);h(ee),w(!0)},[w]);return D.useEffect(()=>()=>T(),[T]),D.useEffect(()=>{if(f&&g){const S=b=>_(b,g),C=b=>_(b,f);return f.addEventListener("pointerleave",S),g.addEventListener("pointerleave",C),()=>{f.removeEventListener("pointerleave",S),g.removeEventListener("pointerleave",C)}}},[f,g,_,T]),D.useEffect(()=>{if(u){const S=C=>{const b=C.target,j={x:C.clientX,y:C.clientY},U=f?.contains(b)||g?.contains(b),B=!rP(j,u);U?T():B&&(T(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,g,u,p,T]),E.jsx(g1,{...n,ref:a})}),[YR,XR]=Vd(p1,{isInside:!1}),JR=DS("TooltipContent"),g1=D.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...h}=n,f=jd(xa,t),p=Om(t),{onClose:g}=f;return D.useEffect(()=>(document.addEventListener(bw,g),()=>document.removeEventListener(bw,g)),[g]),D.useEffect(()=>{if(f.trigger){const w=T=>{T.target?.contains(f.trigger)&&g()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,g]),E.jsx(Em,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:w=>w.preventDefault(),onDismiss:g,children:E.jsxs(zR,{"data-state":f.stateAttribute,...p,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(JR,{children:r}),E.jsx(YR,{scope:t,isInside:!0,children:E.jsx(sC,{id:f.contentId,role:"tooltip",children:i||r})})]})})});m1.displayName=xa;var y1="TooltipArrow",ZR=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Om(t);return XR(y1,t).isInside?null:E.jsx($R,{...i,...r,ref:e})});ZR.displayName=y1;function eP(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,i,a)){case a:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tP(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function nP(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function rP(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const h=e[a],f=e[u],p=h.x,g=h.y,w=f.x,T=f.y;g>r!=T>r&&t<(w-p)*(r-g)/(T-g)+p&&(i=!i)}return i}function sP(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),iP(e)}function iP(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var oP=f1,v1=m1;const aP=oP,lP=D.forwardRef(({className:n,sideOffset:e=4,...t},r)=>E.jsx(v1,{ref:r,sideOffset:e,className:go("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));lP.displayName=v1.displayName;var Fd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uP={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},cP=class{#e=uP;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},Fp=new cP;function dP(n){setTimeout(n,0)}var Ud=typeof window>"u"||"Deno"in globalThis;function ur(){}function hP(n,e){return typeof n=="function"?n(e):n}function fP(n){return typeof n=="number"&&n>=0&&n!==1/0}function pP(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Up(n,e){return typeof n=="function"?n(e):n}function mP(n,e){return typeof n=="function"?n(e):n}function Aw(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:a,queryKey:u,stale:h}=n;if(u){if(r){if(e.queryHash!==Mm(u,e.options))return!1}else if(!Zl(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||a&&!a(e))}function Rw(n,e){const{exact:t,status:r,predicate:i,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Jl(e.options.mutationKey)!==Jl(a))return!1}else if(!Zl(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Mm(n,e){return(e?.queryKeyHashFn||Jl)(n)}function Jl(n){return JSON.stringify(n,(e,t)=>Bp(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Zl(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Zl(n[t],e[t])):!1}var gP=Object.prototype.hasOwnProperty;function w1(n,e){if(n===e)return n;const t=Pw(n)&&Pw(e);if(!t&&!(Bp(n)&&Bp(e)))return e;const i=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),u=a.length,h=t?new Array(u):{};let f=0;for(let p=0;p<u;p++){const g=t?p:a[p],w=n[g],T=e[g];if(w===T){h[g]=w,(t?p<i:gP.call(n,g))&&f++;continue}if(w===null||T===null||typeof w!="object"||typeof T!="object"){h[g]=T;continue}const _=w1(w,T);h[g]=_,_===w&&f++}return i===u&&f===i?n:h}function Pw(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Bp(n){if(!Nw(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Nw(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Nw(n){return Object.prototype.toString.call(n)==="[object Object]"}function yP(n){return new Promise(e=>{Fp.setTimeout(e,n)})}function vP(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?w1(n,e):e}function wP(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function _P(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Lm=Symbol();function _1(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===Lm?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var EP=class extends Fd{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Ud&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},E1=new EP;function xP(){let n,e;const t=new Promise((i,a)=>{n=i,e=a});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var TP=dP;function IP(){let n=[],e=0,t=h=>{h()},r=h=>{h()},i=TP;const a=h=>{e?n.push(h):i(()=>{t(h)})},u=()=>{const h=n;n=[],h.length&&i(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{a(()=>{h(...f)})},schedule:a,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{i=h}}}var un=IP(),SP=class extends Fd{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Ud&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},ld=new SP;function CP(n){return Math.min(1e3*2**n,3e4)}function x1(n){return(n??"online")==="online"?ld.isOnline():!0}var zp=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function T1(n){let e=!1,t=0,r;const i=xP(),a=()=>i.status!=="pending",u=C=>{if(!a()){const b=new zp(C);T(b),n.onCancel?.(b)}},h=()=>{e=!0},f=()=>{e=!1},p=()=>E1.isFocused()&&(n.networkMode==="always"||ld.isOnline())&&n.canRun(),g=()=>x1(n.networkMode)&&n.canRun(),w=C=>{a()||(r?.(),i.resolve(C))},T=C=>{a()||(r?.(),i.reject(C))},_=()=>new Promise(C=>{r=b=>{(a()||p())&&C(b)},n.onPause?.()}).then(()=>{r=void 0,a()||n.onContinue?.()}),S=()=>{if(a())return;let C;const b=t===0?n.initialPromise:void 0;try{C=b??n.fn()}catch(j){C=Promise.reject(j)}Promise.resolve(C).then(w).catch(j=>{if(a())return;const U=n.retry??(Ud?0:3),B=n.retryDelay??CP,q=typeof B=="function"?B(t,j):B,ee=U===!0||typeof U=="number"&&t<U||typeof U=="function"&&U(t,j);if(e||!ee){T(j);return}t++,n.onFail?.(t,j),yP(q).then(()=>p()?void 0:_()).then(()=>{e?T(j):S()})})};return{promise:i,status:()=>i.status,cancel:u,continue:()=>(r?.(),i),cancelRetry:h,continueRetry:f,canStart:g,start:()=>(g()?S():_().then(S),i)}}var I1=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fP(this.gcTime)&&(this.#e=Fp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ud?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Fp.clearTimeout(this.#e),this.#e=void 0)}},bP=class extends I1{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Dw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Dw(this.options);t.data!==void 0&&(this.setState(kw(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=vP(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>mP(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Up(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!pP(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const f=_1(this.options,t),g=(()=>{const w={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(w),w})();return this.#a=!1,this.options.persister?this.options.persister(f,g,this):f(g)},h=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return i(f),f})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=T1({initialPromise:t?.initialPromise,fn:h.fetchFn,onCancel:f=>{f instanceof zp&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof zp){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...AP(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...kw(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function AP(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x1(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function kw(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Dw(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function Ow(n){return{onFetch:(e,t)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let g=!1;const w=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},T=_1(e.options,e.fetchOptions),_=async(S,C,b)=>{if(g)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const U=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:C,direction:b?"backward":"forward",meta:e.options.meta};return w(G),G})(),B=await T(U),{maxPages:q}=e.options,ee=b?_P:wP;return{pages:ee(S.pages,B,q),pageParams:ee(S.pageParams,C,q)}};if(i&&a.length){const S=i==="backward",C=S?RP:Mw,b={pages:a,pageParams:u},j=C(r,b);h=await _(b,j,S)}else{const S=n??a.length;do{const C=f===0?u[0]??r.initialPageParam:Mw(r,h);if(f>0&&C==null)break;h=await _(h,C),f++}while(f<S)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=p}}}function Mw(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function RP(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var PP=class extends I1{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||NP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=T1({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,h)=>{this.#r({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",a=!this.#s.canStart();try{if(i)t();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:a})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#r({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#r({type:"error",error:u})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),un.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function NP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kP=class extends Fd{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const r=new PP({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){this.#e.add(n);const e=Lc(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=Lc(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const r=t.indexOf(n);r!==-1&&t.splice(r,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Lc(n);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=Lc(n);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){un.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>Rw(e,t))}findAll(n={}){return this.getAll().filter(e=>Rw(n,e))}notify(n){un.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return un.batch(()=>Promise.all(n.map(e=>e.continue().catch(ur))))}};function Lc(n){return n.options.scope?.id}var DP=class extends Fd{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const r=e.queryKey,i=e.queryHash??Mm(r,e);let a=this.get(i);return a||(a=new bP({client:n,queryKey:r,queryHash:i,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(a)),a}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){un.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>Aw(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>Aw(n,t)):e}notify(n){un.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){un.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){un.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},OP=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(n={}){this.#e=n.queryCache||new DP,this.#t=n.mutationCache||new kP,this.#n=n.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=E1.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=ld.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Up(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=this.#e.get(r.queryHash)?.state.data,u=hP(e,a);if(u!==void 0)return this.#e.build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return un.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;un.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return un.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=un.batch(()=>this.#e.findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(ur).catch(ur)}invalidateQueries(n,e={}){return un.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=un.batch(()=>this.#e.findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,t);return t.throwOnError||(a=a.catch(ur)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ur)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Up(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ur).catch(ur)}fetchInfiniteQuery(n){return n.behavior=Ow(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ur).catch(ur)}ensureInfiniteQueryData(n){return n.behavior=Ow(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return ld.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#s.set(Jl(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(r=>{Zl(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){this.#r.set(Jl(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(r=>{Zl(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Mm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Lm&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},MP=D.createContext(void 0),LP=({client:n,children:e})=>(D.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),E.jsx(MP.Provider,{value:n,children:e}));function eu(){return eu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eu.apply(this,arguments)}var ci;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ci||(ci={}));const Lw="popstate";function VP(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:u,hash:h}=r.location;return $p("",{pathname:a,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ud(i)}return FP(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Vm(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jP(){return Math.random().toString(36).substr(2,8)}function Vw(n,e){return{usr:n.state,key:n.key,idx:e}}function $p(n,e,t,r){return t===void 0&&(t=null),eu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?La(e):e,{state:t,key:e&&e.key||r||jP()})}function ud(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function La(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function FP(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,h=ci.Pop,f=null,p=g();p==null&&(p=0,u.replaceState(eu({},u.state,{idx:p}),""));function g(){return(u.state||{idx:null}).idx}function w(){h=ci.Pop;let b=g(),j=b==null?null:b-p;p=b,f&&f({action:h,location:C.location,delta:j})}function T(b,j){h=ci.Push;let U=$p(C.location,b,j);p=g()+1;let B=Vw(U,p),q=C.createHref(U);try{u.pushState(B,"",q)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign(q)}a&&f&&f({action:h,location:C.location,delta:1})}function _(b,j){h=ci.Replace;let U=$p(C.location,b,j);p=g();let B=Vw(U,p),q=C.createHref(U);u.replaceState(B,"",q),a&&f&&f({action:h,location:C.location,delta:0})}function S(b){let j=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof b=="string"?b:ud(b);return U=U.replace(/ $/,"%20"),_t(j,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,j)}let C={get action(){return h},get location(){return n(i,u)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Lw,w),f=b,()=>{i.removeEventListener(Lw,w),f=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let j=S(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:_,go(b){return u.go(b)}};return C}var jw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(jw||(jw={}));function UP(n,e,t){return t===void 0&&(t="/"),BP(n,e,t)}function BP(n,e,t,r){let i=typeof e=="string"?La(e):e,a=jm(i.pathname||"/",t);if(a==null)return null;let u=S1(n);zP(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=e2(a);h=XP(u[f],p)}return h}function S1(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(_t(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=hi([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),S1(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:QP(p,a.index),routesMeta:g})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))i(a,u);else for(let f of C1(a.path))i(a,u,f)}),e}function C1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=C1(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function zP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:YP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const $P=/^:[\w-]+$/,qP=3,HP=2,WP=1,KP=10,GP=-2,Fw=n=>n==="*";function QP(n,e){let t=n.split("/"),r=t.length;return t.some(Fw)&&(r+=GP),e&&(r+=HP),t.filter(i=>!Fw(i)).reduce((i,a)=>i+($P.test(a)?qP:a===""?WP:KP),r)}function YP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function XP(n,e,t){let{routesMeta:r}=n,i={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",w=JP({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),T=f.route;if(!w)return null;Object.assign(i,w.params),u.push({params:i,pathname:hi([a,w.pathname]),pathnameBase:i2(hi([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=hi([a,w.pathnameBase]))}return u}function JP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ZP(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,g,w)=>{let{paramName:T,isOptional:_}=g;if(T==="*"){let C=h[w]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=h[w];return _&&!S?p[T]=void 0:p[T]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function ZP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Vm(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function e2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vm(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function jm(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const t2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n2=n=>t2.test(n);function r2(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?La(n):n,a;if(t)if(n2(t))a=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),Vm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+t))}t.startsWith("/")?a=Uw(t.substring(1),"/"):a=Uw(t,e)}else a=e;return{pathname:a,search:o2(r),hash:a2(i)}}function Uw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function qf(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fm(n,e){let t=s2(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Um(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=La(n):(i=eu({},n),_t(!i.pathname||!i.pathname.includes("?"),qf("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),qf("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),qf("#","search","hash",i)));let a=n===""||i.pathname==="",u=a?"/":i.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;i.pathname=T.join("/")}h=w>=0?e[w]:"/"}let f=r2(i,h),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const hi=n=>n.join("/").replace(/\/\/+/g,"/"),i2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),o2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,a2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function l2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const b1=["post","put","patch","delete"];new Set(b1);const u2=["get",...b1];new Set(u2);function tu(){return tu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tu.apply(this,arguments)}const Bm=D.createContext(null),c2=D.createContext(null),Ni=D.createContext(null),Bd=D.createContext(null),es=D.createContext({outlet:null,matches:[],isDataRoute:!1}),A1=D.createContext(null);function d2(n,e){let{relative:t}=e===void 0?{}:e;Va()||_t(!1);let{basename:r,navigator:i}=D.useContext(Ni),{hash:a,pathname:u,search:h}=N1(n,{relative:t}),f=u;return r!=="/"&&(f=u==="/"?r:hi([r,u])),i.createHref({pathname:f,search:h,hash:a})}function Va(){return D.useContext(Bd)!=null}function yo(){return Va()||_t(!1),D.useContext(Bd).location}function R1(n){D.useContext(Ni).static||D.useLayoutEffect(n)}function ja(){let{isDataRoute:n}=D.useContext(es);return n?C2():h2()}function h2(){Va()||_t(!1);let n=D.useContext(Bm),{basename:e,future:t,navigator:r}=D.useContext(Ni),{matches:i}=D.useContext(es),{pathname:a}=yo(),u=JSON.stringify(Fm(i,t.v7_relativeSplatPath)),h=D.useRef(!1);return R1(()=>{h.current=!0}),D.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let w=Um(p,JSON.parse(u),a,g.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:hi([e,w.pathname])),(g.replace?r.replace:r.push)(w,g.state,g)},[e,r,u,a,n])}const f2=D.createContext(null);function p2(n){let e=D.useContext(es).outlet;return e&&D.createElement(f2.Provider,{value:n},e)}function P1(){let{matches:n}=D.useContext(es),e=n[n.length-1];return e?e.params:{}}function N1(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=D.useContext(Ni),{matches:i}=D.useContext(es),{pathname:a}=yo(),u=JSON.stringify(Fm(i,r.v7_relativeSplatPath));return D.useMemo(()=>Um(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function m2(n,e){return g2(n,e)}function g2(n,e,t,r){Va()||_t(!1);let{navigator:i}=D.useContext(Ni),{matches:a}=D.useContext(es),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=yo(),g;if(e){var w;let b=typeof e=="string"?La(e):e;f==="/"||(w=b.pathname)!=null&&w.startsWith(f)||_t(!1),g=b}else g=p;let T=g.pathname||"/",_=T;if(f!=="/"){let b=f.replace(/^\//,"").split("/");_="/"+T.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=UP(n,{pathname:_}),C=E2(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},h,b.params),pathname:hi([f,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:hi([f,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,r);return e&&C?D.createElement(Bd.Provider,{value:{location:tu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ci.Pop}},C):C}function y2(){let n=S2(),e=l2(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,null)}const v2=D.createElement(y2,null);class w2 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(es.Provider,{value:this.props.routeContext},D.createElement(A1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _2(n){let{routeContext:e,match:t,children:r}=n,i=D.useContext(Bm);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(es.Provider,{value:e},r)}function E2(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=(i=t)==null?void 0:i.errors;if(h!=null){let g=u.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);g>=0||_t(!1),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<u.length;g++){let w=u[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=g),w.route.id){let{loaderData:T,errors:_}=t,S=w.route.loader&&T[w.route.id]===void 0&&(!_||_[w.route.id]===void 0);if(w.route.lazy||S){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,w,T)=>{let _,S=!1,C=null,b=null;t&&(_=h&&w.route.id?h[w.route.id]:void 0,C=w.route.errorElement||v2,f&&(p<0&&T===0?(b2("route-fallback"),S=!0,b=null):p===T&&(S=!0,b=w.route.hydrateFallbackElement||null)));let j=e.concat(u.slice(0,T+1)),U=()=>{let B;return _?B=C:S?B=b:w.route.Component?B=D.createElement(w.route.Component,null):w.route.element?B=w.route.element:B=g,D.createElement(_2,{match:w,routeContext:{outlet:g,matches:j,isDataRoute:t!=null},children:B})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?D.createElement(w2,{location:t.location,revalidation:t.revalidation,component:C,error:_,children:U(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):U()},null)}var k1=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(k1||{}),D1=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(D1||{});function x2(n){let e=D.useContext(Bm);return e||_t(!1),e}function T2(n){let e=D.useContext(c2);return e||_t(!1),e}function I2(n){let e=D.useContext(es);return e||_t(!1),e}function O1(n){let e=I2(),t=e.matches[e.matches.length-1];return t.route.id||_t(!1),t.route.id}function S2(){var n;let e=D.useContext(A1),t=T2(),r=O1();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function C2(){let{router:n}=x2(k1.UseNavigateStable),e=O1(D1.UseNavigateStable),t=D.useRef(!1);return R1(()=>{t.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,tu({fromRouteId:e},a)))},[n,e])}const Bw={};function b2(n,e,t){Bw[n]||(Bw[n]=!0)}function A2(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function la(n){let{to:e,replace:t,state:r,relative:i}=n;Va()||_t(!1);let{future:a,static:u}=D.useContext(Ni),{matches:h}=D.useContext(es),{pathname:f}=yo(),p=ja(),g=Um(e,Fm(h,a.v7_relativeSplatPath),f,i==="path"),w=JSON.stringify(g);return D.useEffect(()=>p(JSON.parse(w),{replace:t,state:r,relative:i}),[p,w,i,t,r]),null}function R2(n){return p2(n.context)}function lr(n){_t(!1)}function P2(n){let{basename:e="/",children:t=null,location:r,navigationType:i=ci.Pop,navigator:a,static:u=!1,future:h}=n;Va()&&_t(!1);let f=e.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:f,navigator:a,static:u,future:tu({v7_relativeSplatPath:!1},h)}),[f,h,a,u]);typeof r=="string"&&(r=La(r));let{pathname:g="/",search:w="",hash:T="",state:_=null,key:S="default"}=r,C=D.useMemo(()=>{let b=jm(g,f);return b==null?null:{location:{pathname:b,search:w,hash:T,state:_,key:S},navigationType:i}},[f,g,w,T,_,S,i]);return C==null?null:D.createElement(Ni.Provider,{value:p},D.createElement(Bd.Provider,{children:t,value:C}))}function N2(n){let{children:e,location:t}=n;return m2(qp(e),t)}new Promise(()=>{});function qp(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let a=[...e,i];if(r.type===D.Fragment){t.push.apply(t,qp(r.props.children,a));return}r.type!==lr&&_t(!1),!r.props.index||!r.props.children||_t(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=qp(r.props.children,a)),t.push(u)}),t}function Hp(){return Hp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hp.apply(this,arguments)}function k2(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function D2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function O2(n,e){return n.button===0&&(!e||e==="_self")&&!D2(n)}const M2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L2="6";try{window.__reactRouterVersion=L2}catch{}const V2="startTransition",zw=X_[V2];function j2(n){let{basename:e,children:t,future:r,window:i}=n,a=D.useRef();a.current==null&&(a.current=VP({window:i,v5Compat:!0}));let u=a.current,[h,f]=D.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},g=D.useCallback(w=>{p&&zw?zw(()=>f(w)):f(w)},[f,p]);return D.useLayoutEffect(()=>u.listen(g),[u,g]),D.useEffect(()=>A2(r),[r]),D.createElement(P2,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:u,future:r})}const F2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M1=D.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:g,viewTransition:w}=e,T=k2(e,M2),{basename:_}=D.useContext(Ni),S,C=!1;if(typeof p=="string"&&U2.test(p)&&(S=p,F2))try{let B=new URL(window.location.href),q=p.startsWith("//")?new URL(B.protocol+p):new URL(p),ee=jm(q.pathname,_);q.origin===B.origin&&ee!=null?p=ee+q.search+q.hash:C=!0}catch{}let b=d2(p,{relative:i}),j=B2(p,{replace:u,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:w});function U(B){r&&r(B),B.defaultPrevented||j(B)}return D.createElement("a",Hp({},T,{href:S||b,onClick:C||a?r:U,ref:t,target:f}))});var $w;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})($w||($w={}));var qw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(qw||(qw={}));function B2(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,f=ja(),p=yo(),g=N1(n,{relative:u});return D.useCallback(w=>{if(O2(w,t)){w.preventDefault();let T=r!==void 0?r:ud(p)===ud(g);f(n,{replace:T,state:i,preventScrollReset:a,relative:u,viewTransition:h})}},[p,f,g,r,i,t,n,a,u,h])}const z2=()=>{};var Hw={};const L1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},$2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],h=n[t++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},V1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,h=u?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,g=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|p>>6,_=p&63;f||(_=64,u||(T=64)),r.push(t[g],t[w],t[T],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(L1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||h==null||p==null||w==null)throw new q2;const T=a<<2|h>>4;if(r.push(T),p!==64){const _=h<<4&240|p>>2;if(r.push(_),w!==64){const S=p<<6&192|w;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class q2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H2=function(n){const e=L1(n);return V1.encodeByteArray(e,!0)},cd=function(n){return H2(n).replace(/\./g,"")},j1=function(n){try{return V1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function W2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const K2=()=>W2().__FIREBASE_DEFAULTS__,G2=()=>{if(typeof process>"u"||typeof Hw>"u")return;const n=Hw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Q2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&j1(n[1]);return e&&JSON.parse(e)},zd=()=>{try{return z2()||K2()||G2()||Q2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},F1=n=>zd()?.emulatorHosts?.[n],Y2=n=>{const e=F1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},U1=()=>zd()?.config,B1=n=>zd()?.[`_${n}`];class X2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Fa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z1(n){return(await fetch(n,{credentials:"include"})).ok}function J2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[cd(JSON.stringify(t)),cd(JSON.stringify(u)),""].join(".")}const ql={};function Z2(){const n={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?n.emulator.push(e):n.prod.push(e);return n}function eN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ww=!1;function $1(n,e){if(typeof window>"u"||typeof document>"u"||!Fa(window.location.host)||ql[n]===e||ql[n]||Ww)return;ql[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=Z2().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,_){T.setAttribute("width","24"),T.setAttribute("id",_),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Ww=!0,u()},T}function g(T,_){T.setAttribute("id",_),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=eN(r),_=t("text"),S=document.getElementById(_)||document.createElement("span"),C=t("learnmore"),b=document.getElementById(C)||document.createElement("a"),j=t("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const B=T.element;h(B),g(b,C);const q=p();f(U,j),B.append(U,S,b,q),document.body.appendChild(B)}a?(S.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function nN(){const n=zd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oN(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aN(){return!nN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function uN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const cN="FirebaseError";class ks extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cN,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?dN(a,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new ks(i,h,r)}}function dN(n,e){return n.replace(hN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hN=/\{\$([^}]+)}/g;function fN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function co(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(Kw(a)&&Kw(u)){if(!co(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Kw(n){return n!==null&&typeof n=="object"}function pu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pN(n,e){const t=new mN(n,e);return t.subscribe.bind(t)}class mN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gN(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Hf),i.error===void 0&&(i.error=Hf),i.complete===void 0&&(i.complete=Hf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hf(){}function jt(n){return n&&n._delegate?n._delegate:n}class ho{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const io="[DEFAULT]";class yN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new X2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wN(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vN(n){return n===io?void 0:n}function wN(n){return n.instantiationMode==="EAGER"}class _N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const EN={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},xN=Ue.INFO,TN={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},IN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=TN[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=xN,this._logHandler=IN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const SN=(n,e)=>e.some(t=>n instanceof t);let Gw,Qw;function CN(){return Gw||(Gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bN(){return Qw||(Qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q1=new WeakMap,Wp=new WeakMap,H1=new WeakMap,Wf=new WeakMap,$m=new WeakMap;function AN(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(fi(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&q1.set(t,n)}).catch(()=>{}),$m.set(e,n),e}function RN(n){if(Wp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Wp.set(n,e)}let Kp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||H1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PN(n){Kp=n(Kp)}function NN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Kf(this),e,...t);return H1.set(r,e.sort?e.sort():[e]),fi(r)}:bN().includes(n)?function(...e){return n.apply(Kf(this),e),fi(q1.get(this))}:function(...e){return fi(n.apply(Kf(this),e))}}function kN(n){return typeof n=="function"?NN(n):(n instanceof IDBTransaction&&RN(n),SN(n,CN())?new Proxy(n,Kp):n)}function fi(n){if(n instanceof IDBRequest)return AN(n);if(Wf.has(n))return Wf.get(n);const e=kN(n);return e!==n&&(Wf.set(n,e),$m.set(e,n)),e}const Kf=n=>$m.get(n);function DN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),h=fi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(fi(u.result),f.oldVersion,f.newVersion,fi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const ON=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],Gf=new Map;function Yw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=MN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ON.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),i&&f.done]))[0]};return Gf.set(e,a),a}PN(n=>({...n,get:(e,t,r)=>Yw(e,t)||n.get(e,t,r),has:(e,t)=>!!Yw(e,t)||n.has(e,t)}));class LN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function VN(n){return n.getComponent()?.type==="VERSION"}const Gp="@firebase/app",Xw="0.14.5";const As=new zm("@firebase/app"),jN="@firebase/app-compat",FN="@firebase/analytics-compat",UN="@firebase/analytics",BN="@firebase/app-check-compat",zN="@firebase/app-check",$N="@firebase/auth",qN="@firebase/auth-compat",HN="@firebase/database",WN="@firebase/data-connect",KN="@firebase/database-compat",GN="@firebase/functions",QN="@firebase/functions-compat",YN="@firebase/installations",XN="@firebase/installations-compat",JN="@firebase/messaging",ZN="@firebase/messaging-compat",ek="@firebase/performance",tk="@firebase/performance-compat",nk="@firebase/remote-config",rk="@firebase/remote-config-compat",sk="@firebase/storage",ik="@firebase/storage-compat",ok="@firebase/firestore",ak="@firebase/ai",lk="@firebase/firestore-compat",uk="firebase",ck="12.5.0";const Qp="[DEFAULT]",dk={[Gp]:"fire-core",[jN]:"fire-core-compat",[UN]:"fire-analytics",[FN]:"fire-analytics-compat",[zN]:"fire-app-check",[BN]:"fire-app-check-compat",[$N]:"fire-auth",[qN]:"fire-auth-compat",[HN]:"fire-rtdb",[WN]:"fire-data-connect",[KN]:"fire-rtdb-compat",[GN]:"fire-fn",[QN]:"fire-fn-compat",[YN]:"fire-iid",[XN]:"fire-iid-compat",[JN]:"fire-fcm",[ZN]:"fire-fcm-compat",[ek]:"fire-perf",[tk]:"fire-perf-compat",[nk]:"fire-rc",[rk]:"fire-rc-compat",[sk]:"fire-gcs",[ik]:"fire-gcs-compat",[ok]:"fire-fst",[lk]:"fire-fst-compat",[ak]:"fire-vertex","fire-js":"fire-js",[uk]:"fire-js-all"};const dd=new Map,hk=new Map,Yp=new Map;function Jw(n,e){try{n.container.addComponent(e)}catch(t){As.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ta(n){const e=n.name;if(Yp.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,n);for(const t of dd.values())Jw(t,n);for(const t of hk.values())Jw(t,n);return!0}function qm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n==null?!1:n.settings!==void 0}const fk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new fu("app","Firebase",fk);class pk{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const Ua=ck;function W1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Qp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(t||(t=U1()),!t)throw pi.create("no-options");const a=dd.get(i);if(a){if(co(t,a.options)&&co(r,a.config))return a;throw pi.create("duplicate-app",{appName:i})}const u=new _N(i);for(const f of Yp.values())u.addComponent(f);const h=new pk(t,r,u);return dd.set(i,h),h}function K1(n=Qp){const e=dd.get(n);if(!e&&n===Qp&&U1())return W1();if(!e)throw pi.create("no-app",{appName:n});return e}function mi(n,e,t){let r=dk[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(u.join(" "));return}Ta(new ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const mk="firebase-heartbeat-database",gk=1,nu="firebase-heartbeat-store";let Qf=null;function G1(){return Qf||(Qf=DN(mk,gk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nu)}catch(t){console.warn(t)}}}}).catch(n=>{throw pi.create("idb-open",{originalErrorMessage:n.message})})),Qf}async function yk(n){try{const t=(await G1()).transaction(nu),r=await t.objectStore(nu).get(Q1(n));return await t.done,r}catch(e){if(e instanceof ks)As.warn(e.message);else{const t=pi.create("idb-get",{originalErrorMessage:e?.message});As.warn(t.message)}}}async function Zw(n,e){try{const r=(await G1()).transaction(nu,"readwrite");await r.objectStore(nu).put(e,Q1(n)),await r.done}catch(t){if(t instanceof ks)As.warn(t.message);else{const r=pi.create("idb-set",{originalErrorMessage:t?.message});As.warn(r.message)}}}function Q1(n){return`${n.name}!${n.options.appId}`}const vk=1024,wk=30;class _k{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=e0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>wk){const i=Tk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=e0(),{heartbeatsToSend:t,unsentEntries:r}=Ek(this._heartbeatsCache.heartbeats),i=cd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return As.warn(e),""}}}function e0(){return new Date().toISOString().substring(0,10)}function Ek(n,e=vk){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),t0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),t0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?uN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function t0(n){return cd(JSON.stringify({version:2,heartbeats:n})).length}function Tk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Ik(n){Ta(new ho("platform-logger",e=>new LN(e),"PRIVATE")),Ta(new ho("heartbeat",e=>new _k(e),"PRIVATE")),mi(Gp,Xw,n),mi(Gp,Xw,"esm2020"),mi("fire-js","")}Ik("");function Y1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sk=Y1,X1=new fu("auth","Firebase",Y1());const hd=new zm("@firebase/auth");function Ck(n,...e){hd.logLevel<=Ue.WARN&&hd.warn(`Auth (${Ua}): ${n}`,...e)}function Kc(n,...e){hd.logLevel<=Ue.ERROR&&hd.error(`Auth (${Ua}): ${n}`,...e)}function Xr(n,...e){throw Wm(n,...e)}function $r(n,...e){return Wm(n,...e)}function Hm(n,e,t){const r={...Sk(),[e]:t};return new fu("auth","Firebase",r).create(e,{appName:n.name})}function gi(n){return Hm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bk(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xr(n,"argument-error"),Hm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return X1.create(n,...e)}function De(n,e,...t){if(!n)throw Wm(e,...t)}function Is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Kc(e),new Error(e)}function Rs(n,e){n||Is(e)}function Xp(){return typeof self<"u"&&self.location?.href||""}function Ak(){return n0()==="http:"||n0()==="https:"}function n0(){return typeof self<"u"&&self.location?.protocol||null}function Rk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ak()||sN()||"connection"in navigator)?navigator.onLine:!0}function Pk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rs(t>e,"Short delay should be less than long delay!"),this.isMobile=tN()||iN()}get(){return Rk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Km(n,e){Rs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class J1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dk=new mu(3e4,6e4);function Gm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ba(n,e,t,r,i={}){return Z1(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=pu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return rN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Fa(n.emulatorConfig.host)&&(p.credentials="include"),J1.fetch()(await ex(n,n.config.apiHost,t,h),p)})}async function Z1(n,e,t){n._canInitEmulator=!1;const r={...Nk,...e};try{const i=new Mk(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Vc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Vc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Vc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Hm(n,g,p);Xr(n,g)}}catch(i){if(i instanceof ks)throw i;Xr(n,"network-request-failed",{message:String(i)})}}async function Ok(n,e,t,r,i={}){const a=await Ba(n,e,t,r,i);return"mfaPendingCredential"in a&&Xr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function ex(n,e,t,r){const i=`${e}${t}?${r}`,a=n,u=a.config.emulator?Km(n.config,i):`${n.config.apiScheme}://${i}`;return kk.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class Mk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),Dk.get())})}}function Vc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=$r(n,e,r);return i.customData._tokenResponse=t,i}async function Lk(n,e){return Ba(n,"POST","/v1/accounts:delete",e)}async function fd(n,e){return Ba(n,"POST","/v1/accounts:lookup",e)}function Hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vk(n,e=!1){const t=jt(n),r=await t.getIdToken(e),i=Qm(r);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a?.sign_in_provider;return{claims:i,token:r,authTime:Hl(Yf(i.auth_time)),issuedAtTime:Hl(Yf(i.iat)),expirationTime:Hl(Yf(i.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Yf(n){return Number(n)*1e3}function Qm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const i=j1(t);return i?JSON.parse(i):(Kc("Failed to decode base64 JWT payload"),null)}catch(i){return Kc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function r0(n){const e=Qm(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ru(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ks&&jk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function jk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Fk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pd(n){const e=n.auth,t=await n.getIdToken(),r=await ru(n,fd(e,{idToken:t}));De(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?tx(i.providerUserInfo):[],u=Bk(n.providerData,a),h=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!u?.length,p=h?f:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Jp(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function Uk(n){const e=jt(n);await pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bk(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function zk(n,e){const t=await Z1(n,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=await ex(n,i,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&Fa(n.emulatorConfig.host)&&(f.credentials="include"),J1.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $k(n,e){return Ba(n,"POST","/v2/accounts:revokeToken",Gm(n,e))}class ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=r0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await zk(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new ga;return r&&(De(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(De(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ga,this.toJSON())}_performRefresh(){return Is("not implemented")}}function ii(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class dr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Fk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ru(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Vk(this,e)}reload(){return Uk(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new dr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await ru(this,Lk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:_,providerData:S,stsTokenManager:C}=t;De(w&&C,e,"internal-error");const b=ga.fromJSON(this.name,C);De(typeof w=="string",e,"internal-error"),ii(r,e.name),ii(i,e.name),De(typeof T=="boolean",e,"internal-error"),De(typeof _=="boolean",e,"internal-error"),ii(a,e.name),ii(u,e.name),ii(h,e.name),ii(f,e.name),ii(p,e.name),ii(g,e.name);const j=new dr({uid:w,auth:e,email:i,emailVerified:T,displayName:r,isAnonymous:_,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:b,createdAt:p,lastLoginAt:g});return S&&Array.isArray(S)&&(j.providerData=S.map(U=>({...U}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,r=!1){const i=new ga;i.updateFromServerResponse(t);const a=new dr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];De(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?tx(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!a?.length,h=new ga;h.updateFromIdToken(r);const f=new dr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Jp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}const s0=new Map;function Ss(n){Rs(n instanceof Function,"Expected a class definition");let e=s0.get(n);return e?(Rs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,s0.set(n,e),e)}class nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nx.type="NONE";const i0=nx;function Gc(n,e,t){return`firebase:${n}:${e}:${t}`}class ya{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Gc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Gc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fd(this.auth,{idToken:e}).catch(()=>{});return t?dr._fromGetAccountInfoResponse(this.auth,t,e):null}return dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ya(Ss(i0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Ss(i0);const u=Gc(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const g=await p._get(u);if(g){let w;if(typeof g=="string"){const T=await fd(e,{idToken:g}).catch(()=>{});if(!T)break;w=await dr._fromGetAccountInfoResponse(e,T,g)}else w=dr._fromJSON(e,g);p!==a&&(h=w),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ya(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ya(a,e,r))}}function o0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ox(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lx(e))return"Blackberry";if(ux(e))return"Webos";if(sx(e))return"Safari";if((e.includes("chrome/")||ix(e))&&!e.includes("edge/"))return"Chrome";if(ax(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function rx(n=on()){return/firefox\//i.test(n)}function sx(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ix(n=on()){return/crios\//i.test(n)}function ox(n=on()){return/iemobile/i.test(n)}function ax(n=on()){return/android/i.test(n)}function lx(n=on()){return/blackberry/i.test(n)}function ux(n=on()){return/webos/i.test(n)}function Ym(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qk(n=on()){return Ym(n)&&!!window.navigator?.standalone}function Hk(){return oN()&&document.documentMode===10}function cx(n=on()){return Ym(n)||ax(n)||ux(n)||lx(n)||/windows phone/i.test(n)||ox(n)}function dx(n,e=[]){let t;switch(n){case"Browser":t=o0(on());break;case"Worker":t=`${o0(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ua}/${r}`}class Wk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Kk(n,e={}){return Ba(n,"GET","/v2/passwordPolicy",Gm(n,e))}const Gk=6;class Qk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Gk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Yk{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new Wk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ss(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fd(this,{idToken:e}),r=await dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Pk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(gi(this));const t=e?jt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kk(this),t=new Qk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await $k(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ss(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[Ss(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ck(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $d(n){return jt(n)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=pN(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xk(n){Xm=n}function Jk(n){return Xm.loadJS(n)}function Zk(){return Xm.gapiScript}function eD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function tD(n,e){const t=qm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(co(a,e??{}))return i;Xr(i,"already-initialized")}return t.initialize({options:e})}function nD(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ss);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function rD(n,e,t){const r=$d(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=hx(e),{host:u,port:h}=sD(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(co(p,r.config.emulator)&&co(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Fa(u)?(z1(`${a}//${u}${f}`),$1("Auth",!0)):iD()}function hx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sD(n){const e=hx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:l0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:l0(u)}}}function l0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class fx{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,t){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function va(n,e){return Ok(n,"POST","/v1/accounts:signInWithIdp",Gm(n,e))}const oD="http://localhost";class fo extends fx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const u=new fo(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return va(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,va(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,va(e,t)}buildRequest(){const e={requestUri:oD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pu(t)}return e}}class Jm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Jm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ai extends gu{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";class xs extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return xs.credential(t,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";class li extends gu{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";class ui extends gu{constructor(){super("twitter.com")}static credential(e,t){return fo._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ui.credential(t,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await dr._fromIdTokenResponse(e,r,i),u=u0(r);return new Ia({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=u0(r);return new Ia({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function u0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class md extends ks{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,md.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new md(e,t,r,i)}}function px(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?md._fromErrorAndOperation(n,a,e,r):a})}async function aD(n,e,t=!1){const r=await ru(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ia._forOperation(n,"link",r)}async function lD(n,e,t=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(gi(r));const i="reauthenticate";try{const a=await ru(n,px(r,i,e,n),t);De(a.idToken,r,"internal-error");const u=Qm(a.idToken);De(u,r,"internal-error");const{sub:h}=u;return De(n.uid===h,r,"user-mismatch"),Ia._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Xr(r,"user-mismatch"),a}}async function uD(n,e,t=!1){if(cr(n.app))return Promise.reject(gi(n));const r="signIn",i=await px(n,r,e),a=await Ia._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function cD(n,e,t,r){return jt(n).onIdTokenChanged(e,t,r)}function dD(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function hD(n,e,t,r){return jt(n).onAuthStateChanged(e,t,r)}function fD(n){return jt(n).signOut()}const gd="__sak";class mx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pD=1e3,mD=10;class gx extends mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Hk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mD):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gx.type="LOCAL";const gD=gx;class yx extends mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yx.type="SESSION";const vx=yx;function yD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await yD(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qd.receivers=[];function Zm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class vD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=Zm("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(w){const T=w;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function qr(){return window}function wD(n){qr().location.href=n}function wx(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function _D(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ED(){return navigator?.serviceWorker?.controller||null}function xD(){return wx()?self:null}const _x="firebaseLocalStorageDb",TD=1,yd="firebaseLocalStorage",Ex="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hd(n,e){return n.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function ID(){const n=indexedDB.deleteDatabase(_x);return new yu(n).toPromise()}function Zp(){const n=indexedDB.open(_x,TD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yd,{keyPath:Ex})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await ID(),e(await Zp()))})})}async function c0(n,e,t){const r=Hd(n,!0).put({[Ex]:e,value:t});return new yu(r).toPromise()}async function SD(n,e){const t=Hd(n,!1).get(e),r=await new yu(t).toPromise();return r===void 0?null:r.value}function d0(n,e){const t=Hd(n,!0).delete(e);return new yu(t).toPromise()}const CD=800,bD=3;class xx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>bD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qd._getInstance(xD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _D(),!this.activeServiceWorker)return;this.sender=new vD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ED()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await c0(e,gd,"1"),await d0(e,gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>c0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>SD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>d0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Hd(i,!1).getAll();return new yu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xx.type="LOCAL";const AD=xx;new mu(3e4,6e4);function Tx(n,e){return e?Ss(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class eg extends fx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return va(e,this._buildIdpRequest())}_linkToIdToken(e,t){return va(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return va(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RD(n){return uD(n.auth,new eg(n),n.bypassAuthState)}function PD(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),lD(t,new eg(n),n.bypassAuthState)}async function ND(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),aD(t,new eg(n),n.bypassAuthState)}class Ix{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RD;case"linkViaPopup":case"linkViaRedirect":return ND;case"reauthViaPopup":case"reauthViaRedirect":return PD;default:Xr(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kD=new mu(2e3,1e4);class fa extends Ix{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kD.get())};e()}}fa.currentPopupAction=null;const DD="pendingRedirect",Qc=new Map;class OD extends Ix{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await MD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MD(n,e){const t=Cx(e),r=Sx(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function LD(n,e){return Sx(n)._set(Cx(e),"true")}function VD(n,e){Qc.set(n._key(),e)}function Sx(n){return Ss(n._redirectPersistence)}function Cx(n){return Gc(DD,n.config.apiKey,n.name)}function jD(n,e,t){return FD(n,e,t)}async function FD(n,e,t){if(cr(n.app))return Promise.reject(gi(n));const r=$d(n);bk(n,e,Jm),await r._initializationPromise;const i=Tx(r,t);return await LD(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function UD(n,e,t=!1){if(cr(n.app))return Promise.reject(gi(n));const r=$d(n),i=Tx(r,e),u=await new OD(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const BD=600*1e3;class zD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$D(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!bx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError($r(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BD&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function $D(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bx(n);default:return!1}}async function qD(n,e={}){return Ba(n,"GET","/v1/projects",e)}const HD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WD=/^https?/;async function KD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qD(n);for(const t of e)try{if(GD(t))return}catch{}Xr(n,"unauthorized-domain")}function GD(n){const e=Xp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!WD.test(t))return!1;if(HD.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const QD=new mu(3e4,6e4);function f0(){const n=qr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function YD(n){return new Promise((e,t)=>{function r(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),t($r(n,"network-request-failed"))},timeout:QD.get()})}if(qr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qr().gapi?.load)r();else{const i=eD("iframefcb");return qr()[i]=()=>{gapi.load?r():t($r(n,"network-request-failed"))},Jk(`${Zk()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function XD(n){return Yc=Yc||YD(n),Yc}const JD=new mu(5e3,15e3),ZD="__/auth/iframe",eO="emulator/auth/iframe",tO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rO(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Km(e,eO):`https://${n.config.authDomain}/${ZD}`,r={apiKey:e.apiKey,appName:n.name,v:Ua},i=nO.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${pu(r).slice(1)}`}async function sO(n){const e=await XD(n),t=qr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:rO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=$r(n,"network-request-failed"),h=qr().setTimeout(()=>{a(u)},JD.get());function f(){qr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(u)})}))}const iO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oO=500,aO=600,lO="_blank",uO="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cO(n,e,t,r=oO,i=aO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...iO,width:r.toString(),height:i.toString(),top:a,left:u},p=on().toLowerCase();t&&(h=ix(p)?lO:t),rx(p)&&(e=e||uO,f.scrollbars="yes");const g=Object.entries(f).reduce((T,[_,S])=>`${T}${_}=${S},`,"");if(qk(p)&&h!=="_self")return dO(e||"",h),new p0(null);const w=window.open(e||"",h,g);De(w,n,"popup-blocked");try{w.focus()}catch{}return new p0(w)}function dO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const hO="__/auth/handler",fO="emulator/auth/handler",pO=encodeURIComponent("fac");async function m0(n,e,t,r,i,a){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ua,eventId:i};if(e instanceof Jm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",fN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof gu){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),p=f?`#${pO}=${encodeURIComponent(f)}`:"";return`${mO(n)}?${pu(h).slice(1)}${p}`}function mO({config:n}){return n.emulator?Km(n,fO):`https://${n.authDomain}/${hO}`}const Xf="webStorageSupport";class gO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vx,this._completeRedirectFn=UD,this._overrideRedirectResult=VD}async _openPopup(e,t,r,i){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await m0(e,t,r,Xp(),i);return cO(e,a,Zm())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await m0(e,t,r,Xp(),i);return wD(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Rs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await sO(e),r=new zD(e);return t.register("authEvent",i=>(De(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xf,{type:Xf},i=>{const a=i?.[0]?.[Xf];a!==void 0&&t(!!a),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cx()||sx()||Ym()}}const yO=gO;var g0="@firebase/auth",y0="1.11.1";class vO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _O(n){Ta(new ho("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dx(n)},p=new Yk(r,i,a,f);return nD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ta(new ho("auth-internal",e=>{const t=$d(e.getProvider("auth").getImmediate());return(r=>new vO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(g0,y0,wO(n)),mi(g0,y0,"esm2020")}const EO=300,xO=B1("authIdTokenMaxAge")||EO;let v0=null;const TO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>xO)return;const i=t?.token;v0!==i&&(v0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function IO(n=K1()){const e=qm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=tD(n,{popupRedirectResolver:yO,persistence:[AD,gD,vx]}),r=B1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=TO(a.toString());dD(t,u,()=>u(t.currentUser)),cD(t,h=>u(h))}}const i=F1("auth");return i&&rD(t,`http://${i}`),t}function SO(){return document.getElementsByTagName("head")?.[0]??document}Xk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=$r("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",SO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_O("Browser");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yi,Ax;(function(){var n;function e(k,A){function P(){}P.prototype=A.prototype,k.F=A.prototype,k.prototype=new P,k.prototype.constructor=k,k.D=function(L,O,M){for(var R=Array(arguments.length-2),J=2;J<arguments.length;J++)R[J-2]=arguments[J];return A.prototype[O].apply(L,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,A,P){P||(P=0);const L=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)L[O]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(O=0;O<16;++O)L[O]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=k.g[0],P=k.g[1],O=k.g[2];let M=k.g[3],R;R=A+(M^P&(O^M))+L[0]+3614090360&4294967295,A=P+(R<<7&4294967295|R>>>25),R=M+(O^A&(P^O))+L[1]+3905402710&4294967295,M=A+(R<<12&4294967295|R>>>20),R=O+(P^M&(A^P))+L[2]+606105819&4294967295,O=M+(R<<17&4294967295|R>>>15),R=P+(A^O&(M^A))+L[3]+3250441966&4294967295,P=O+(R<<22&4294967295|R>>>10),R=A+(M^P&(O^M))+L[4]+4118548399&4294967295,A=P+(R<<7&4294967295|R>>>25),R=M+(O^A&(P^O))+L[5]+1200080426&4294967295,M=A+(R<<12&4294967295|R>>>20),R=O+(P^M&(A^P))+L[6]+2821735955&4294967295,O=M+(R<<17&4294967295|R>>>15),R=P+(A^O&(M^A))+L[7]+4249261313&4294967295,P=O+(R<<22&4294967295|R>>>10),R=A+(M^P&(O^M))+L[8]+1770035416&4294967295,A=P+(R<<7&4294967295|R>>>25),R=M+(O^A&(P^O))+L[9]+2336552879&4294967295,M=A+(R<<12&4294967295|R>>>20),R=O+(P^M&(A^P))+L[10]+4294925233&4294967295,O=M+(R<<17&4294967295|R>>>15),R=P+(A^O&(M^A))+L[11]+2304563134&4294967295,P=O+(R<<22&4294967295|R>>>10),R=A+(M^P&(O^M))+L[12]+1804603682&4294967295,A=P+(R<<7&4294967295|R>>>25),R=M+(O^A&(P^O))+L[13]+4254626195&4294967295,M=A+(R<<12&4294967295|R>>>20),R=O+(P^M&(A^P))+L[14]+2792965006&4294967295,O=M+(R<<17&4294967295|R>>>15),R=P+(A^O&(M^A))+L[15]+1236535329&4294967295,P=O+(R<<22&4294967295|R>>>10),R=A+(O^M&(P^O))+L[1]+4129170786&4294967295,A=P+(R<<5&4294967295|R>>>27),R=M+(P^O&(A^P))+L[6]+3225465664&4294967295,M=A+(R<<9&4294967295|R>>>23),R=O+(A^P&(M^A))+L[11]+643717713&4294967295,O=M+(R<<14&4294967295|R>>>18),R=P+(M^A&(O^M))+L[0]+3921069994&4294967295,P=O+(R<<20&4294967295|R>>>12),R=A+(O^M&(P^O))+L[5]+3593408605&4294967295,A=P+(R<<5&4294967295|R>>>27),R=M+(P^O&(A^P))+L[10]+38016083&4294967295,M=A+(R<<9&4294967295|R>>>23),R=O+(A^P&(M^A))+L[15]+3634488961&4294967295,O=M+(R<<14&4294967295|R>>>18),R=P+(M^A&(O^M))+L[4]+3889429448&4294967295,P=O+(R<<20&4294967295|R>>>12),R=A+(O^M&(P^O))+L[9]+568446438&4294967295,A=P+(R<<5&4294967295|R>>>27),R=M+(P^O&(A^P))+L[14]+3275163606&4294967295,M=A+(R<<9&4294967295|R>>>23),R=O+(A^P&(M^A))+L[3]+4107603335&4294967295,O=M+(R<<14&4294967295|R>>>18),R=P+(M^A&(O^M))+L[8]+1163531501&4294967295,P=O+(R<<20&4294967295|R>>>12),R=A+(O^M&(P^O))+L[13]+2850285829&4294967295,A=P+(R<<5&4294967295|R>>>27),R=M+(P^O&(A^P))+L[2]+4243563512&4294967295,M=A+(R<<9&4294967295|R>>>23),R=O+(A^P&(M^A))+L[7]+1735328473&4294967295,O=M+(R<<14&4294967295|R>>>18),R=P+(M^A&(O^M))+L[12]+2368359562&4294967295,P=O+(R<<20&4294967295|R>>>12),R=A+(P^O^M)+L[5]+4294588738&4294967295,A=P+(R<<4&4294967295|R>>>28),R=M+(A^P^O)+L[8]+2272392833&4294967295,M=A+(R<<11&4294967295|R>>>21),R=O+(M^A^P)+L[11]+1839030562&4294967295,O=M+(R<<16&4294967295|R>>>16),R=P+(O^M^A)+L[14]+4259657740&4294967295,P=O+(R<<23&4294967295|R>>>9),R=A+(P^O^M)+L[1]+2763975236&4294967295,A=P+(R<<4&4294967295|R>>>28),R=M+(A^P^O)+L[4]+1272893353&4294967295,M=A+(R<<11&4294967295|R>>>21),R=O+(M^A^P)+L[7]+4139469664&4294967295,O=M+(R<<16&4294967295|R>>>16),R=P+(O^M^A)+L[10]+3200236656&4294967295,P=O+(R<<23&4294967295|R>>>9),R=A+(P^O^M)+L[13]+681279174&4294967295,A=P+(R<<4&4294967295|R>>>28),R=M+(A^P^O)+L[0]+3936430074&4294967295,M=A+(R<<11&4294967295|R>>>21),R=O+(M^A^P)+L[3]+3572445317&4294967295,O=M+(R<<16&4294967295|R>>>16),R=P+(O^M^A)+L[6]+76029189&4294967295,P=O+(R<<23&4294967295|R>>>9),R=A+(P^O^M)+L[9]+3654602809&4294967295,A=P+(R<<4&4294967295|R>>>28),R=M+(A^P^O)+L[12]+3873151461&4294967295,M=A+(R<<11&4294967295|R>>>21),R=O+(M^A^P)+L[15]+530742520&4294967295,O=M+(R<<16&4294967295|R>>>16),R=P+(O^M^A)+L[2]+3299628645&4294967295,P=O+(R<<23&4294967295|R>>>9),R=A+(O^(P|~M))+L[0]+4096336452&4294967295,A=P+(R<<6&4294967295|R>>>26),R=M+(P^(A|~O))+L[7]+1126891415&4294967295,M=A+(R<<10&4294967295|R>>>22),R=O+(A^(M|~P))+L[14]+2878612391&4294967295,O=M+(R<<15&4294967295|R>>>17),R=P+(M^(O|~A))+L[5]+4237533241&4294967295,P=O+(R<<21&4294967295|R>>>11),R=A+(O^(P|~M))+L[12]+1700485571&4294967295,A=P+(R<<6&4294967295|R>>>26),R=M+(P^(A|~O))+L[3]+2399980690&4294967295,M=A+(R<<10&4294967295|R>>>22),R=O+(A^(M|~P))+L[10]+4293915773&4294967295,O=M+(R<<15&4294967295|R>>>17),R=P+(M^(O|~A))+L[1]+2240044497&4294967295,P=O+(R<<21&4294967295|R>>>11),R=A+(O^(P|~M))+L[8]+1873313359&4294967295,A=P+(R<<6&4294967295|R>>>26),R=M+(P^(A|~O))+L[15]+4264355552&4294967295,M=A+(R<<10&4294967295|R>>>22),R=O+(A^(M|~P))+L[6]+2734768916&4294967295,O=M+(R<<15&4294967295|R>>>17),R=P+(M^(O|~A))+L[13]+1309151649&4294967295,P=O+(R<<21&4294967295|R>>>11),R=A+(O^(P|~M))+L[4]+4149444226&4294967295,A=P+(R<<6&4294967295|R>>>26),R=M+(P^(A|~O))+L[11]+3174756917&4294967295,M=A+(R<<10&4294967295|R>>>22),R=O+(A^(M|~P))+L[2]+718787259&4294967295,O=M+(R<<15&4294967295|R>>>17),R=P+(M^(O|~A))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+M&4294967295}r.prototype.v=function(k,A){A===void 0&&(A=k.length);const P=A-this.blockSize,L=this.C;let O=this.h,M=0;for(;M<A;){if(O==0)for(;M<=P;)i(this,k,M),M+=this.blockSize;if(typeof k=="string"){for(;M<A;)if(L[O++]=k.charCodeAt(M++),O==this.blockSize){i(this,L),O=0;break}}else for(;M<A;)if(L[O++]=k[M++],O==this.blockSize){i(this,L),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;A=this.o*8;for(var P=k.length-8;P<k.length;++P)k[P]=A&255,A/=256;for(this.v(k),k=Array(16),A=0,P=0;P<4;++P)for(let L=0;L<32;L+=8)k[A++]=this.g[P]>>>L&255;return k};function a(k,A){var P=h;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=A(k)}function u(k,A){this.h=A;const P=[];let L=!0;for(let O=k.length-1;O>=0;O--){const M=k[O]|0;L&&M==A||(P[O]=M,L=!1)}this.g=P}var h={};function f(k){return-128<=k&&k<128?a(k,function(A){return new u([A|0],A<0?-1:0)}):new u([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return w;if(k<0)return b(p(-k));const A=[];let P=1;for(let L=0;k>=P;L++)A[L]=k/P|0,P*=4294967296;return new u(A,0)}function g(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return b(g(k.substring(1),A));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(A,8));let L=w;for(let M=0;M<k.length;M+=8){var O=Math.min(8,k.length-M);const R=parseInt(k.substring(M,M+O),A);O<8?(O=p(Math.pow(A,O)),L=L.j(O).add(p(R))):(L=L.j(P),L=L.add(p(R)))}return L}var w=f(0),T=f(1),_=f(16777216);n=u.prototype,n.m=function(){if(C(this))return-b(this).m();let k=0,A=1;for(let P=0;P<this.g.length;P++){const L=this.i(P);k+=(L>=0?L:4294967296+L)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(C(this))return"-"+b(this).toString(k);const A=p(Math.pow(k,6));var P=this;let L="";for(;;){const O=q(P,A).g;P=j(P,O.j(A));let M=((P.g.length>0?P.g[0]:P.h)>>>0).toString(k);if(P=O,S(P))return M+L;for(;M.length<6;)M="0"+M;L=M+L}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(let A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function C(k){return k.h==-1}n.l=function(k){return k=j(this,k),C(k)?-1:S(k)?0:1};function b(k){const A=k.g.length,P=[];for(let L=0;L<A;L++)P[L]=~k.g[L];return new u(P,~k.h).add(T)}n.abs=function(){return C(this)?b(this):this},n.add=function(k){const A=Math.max(this.g.length,k.g.length),P=[];let L=0;for(let O=0;O<=A;O++){let M=L+(this.i(O)&65535)+(k.i(O)&65535),R=(M>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);L=R>>>16,M&=65535,R&=65535,P[O]=R<<16|M}return new u(P,P[P.length-1]&-2147483648?-1:0)};function j(k,A){return k.add(b(A))}n.j=function(k){if(S(this)||S(k))return w;if(C(this))return C(k)?b(this).j(b(k)):b(b(this).j(k));if(C(k))return b(this.j(b(k)));if(this.l(_)<0&&k.l(_)<0)return p(this.m()*k.m());const A=this.g.length+k.g.length,P=[];for(var L=0;L<2*A;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<k.g.length;O++){const M=this.i(L)>>>16,R=this.i(L)&65535,J=k.i(O)>>>16,Te=k.i(O)&65535;P[2*L+2*O]+=R*Te,U(P,2*L+2*O),P[2*L+2*O+1]+=M*Te,U(P,2*L+2*O+1),P[2*L+2*O+1]+=R*J,U(P,2*L+2*O+1),P[2*L+2*O+2]+=M*J,U(P,2*L+2*O+2)}for(k=0;k<A;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=A;k<2*A;k++)P[k]=0;return new u(P,0)};function U(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function B(k,A){this.g=k,this.h=A}function q(k,A){if(S(A))throw Error("division by zero");if(S(k))return new B(w,w);if(C(k))return A=q(b(k),A),new B(b(A.g),b(A.h));if(C(A))return A=q(k,b(A)),new B(b(A.g),A.h);if(k.g.length>30){if(C(k)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var P=T,L=A;L.l(k)<=0;)P=ee(P),L=ee(L);var O=G(P,1),M=G(L,1);for(L=G(L,2),P=G(P,2);!S(L);){var R=M.add(L);R.l(k)<=0&&(O=O.add(P),M=R),L=G(L,1),P=G(P,1)}return A=j(k,O.j(A)),new B(O,A)}for(O=w;k.l(A)>=0;){for(P=Math.max(1,Math.floor(k.m()/A.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),M=p(P),R=M.j(A);C(R)||R.l(k)>0;)P-=L,M=p(P),R=M.j(A);S(M)&&(M=T),O=O.add(M),k=j(k,R)}return new B(O,k)}n.B=function(k){return q(this,k).h},n.and=function(k){const A=Math.max(this.g.length,k.g.length),P=[];for(let L=0;L<A;L++)P[L]=this.i(L)&k.i(L);return new u(P,this.h&k.h)},n.or=function(k){const A=Math.max(this.g.length,k.g.length),P=[];for(let L=0;L<A;L++)P[L]=this.i(L)|k.i(L);return new u(P,this.h|k.h)},n.xor=function(k){const A=Math.max(this.g.length,k.g.length),P=[];for(let L=0;L<A;L++)P[L]=this.i(L)^k.i(L);return new u(P,this.h^k.h)};function ee(k){const A=k.g.length+1,P=[];for(let L=0;L<A;L++)P[L]=k.i(L)<<1|k.i(L-1)>>>31;return new u(P,k.h)}function G(k,A){const P=A>>5;A%=32;const L=k.g.length-P,O=[];for(let M=0;M<L;M++)O[M]=A>0?k.i(M+P)>>>A|k.i(M+P+1)<<32-A:k.i(M+P);return new u(O,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ax=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,yi=u}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rx,Fl,Px,Xc,em,Nx,kx,Dx;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var v=0;v<c.length;++v){var x=c[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function i(c,v){if(v)e:{var x=r;c=c.split(".");for(var N=0;N<c.length-1;N++){var W=c[N];if(!(W in x))break e;x=x[W]}c=c[c.length-1],N=x[c],v=v(N),v!=N&&v!=null&&e(x,c,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(v){var x=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&x.push([N,v[N]]);return x}});var a=a||{},u=this||self;function h(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function f(c,v,x){return c.call.apply(c.bind,arguments)}function p(c,v,x){return p=f,p.apply(null,arguments)}function g(c,v){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function w(c,v){function x(){}x.prototype=v.prototype,c.Z=v.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(N,W,Y){for(var ce=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ce[Me-2]=arguments[Me];return v.prototype[W].apply(N,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function _(c){const v=c.length;if(v>0){const x=Array(v);for(let N=0;N<v;N++)x[N]=c[N];return x}return[]}function S(c,v){for(let N=1;N<arguments.length;N++){const W=arguments[N];var x=typeof W;if(x=x!="object"?x:W?Array.isArray(W)?"array":x:"null",x=="array"||x=="object"&&typeof W.length=="number"){x=c.length||0;const Y=W.length||0;c.length=x+Y;for(let ce=0;ce<Y;ce++)c[x+ce]=W[ce]}else c.push(W)}}class C{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(c){u.setTimeout(()=>{throw c},0)}function j(){var c=k;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,x){const N=B.get();N.set(v,x),this.h?this.h.next=N:this.g=N,this.h=N}}var B=new C(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,G=!1,k=new U,A=()=>{const c=Promise.resolve(void 0);ee=()=>{c.then(P)}};function P(){for(var c;c=j();){try{c.h.call(c.g)}catch(x){b(x)}var v=B;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}G=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};u.addEventListener("test",x,v),u.removeEventListener("test",x,v)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function J(c,v){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}w(J,O),J.prototype.init=function(c,v){const x=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(x=="mouseover"?v=c.fromElement:x=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),we=0;function ve(c,v,x,N,W){this.listener=c,this.proxy=null,this.src=v,this.type=x,this.capture=!!N,this.ha=W,this.key=++we,this.da=this.fa=!1}function Z(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function te(c,v,x){for(const N in c)v.call(x,c[N],N,c)}function ie(c,v){for(const x in c)v.call(void 0,c[x],x,c)}function z(c){const v={};for(const x in c)v[x]=c[x];return v}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(c,v){let x,N;for(let W=1;W<arguments.length;W++){N=arguments[W];for(x in N)c[x]=N[x];for(let Y=0;Y<X.length;Y++)x=X[Y],Object.prototype.hasOwnProperty.call(N,x)&&(c[x]=N[x])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,v,x,N,W){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ce=Ne(c,v,N,W);return ce>-1?(v=c[ce],x||(v.fa=!1)):(v=new ve(v,this.src,Y,!!N,W),v.fa=x,c.push(v)),v};function Ie(c,v){const x=v.type;if(x in c.g){var N=c.g[x],W=Array.prototype.indexOf.call(N,v,void 0),Y;(Y=W>=0)&&Array.prototype.splice.call(N,W,1),Y&&(Z(v),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Ne(c,v,x,N){for(let W=0;W<c.length;++W){const Y=c[W];if(!Y.da&&Y.listener==v&&Y.capture==!!x&&Y.ha==N)return W}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Re={};function Ve(c,v,x,N,W){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)Ve(c,v[Y],x,N,W);return null}return x=rs(x),c&&c[Te]?c.J(v,x,h(N)?!!N.capture:!1,W):et(c,v,x,!1,N,W)}function et(c,v,x,N,W,Y){if(!v)throw Error("Invalid event type");const ce=h(W)?!!W.capture:!!W;let Me=ts(c);if(Me||(c[me]=Me=new he(c)),x=Me.add(v,x,N,ce,Y),x.proxy)return x;if(N=dn(),x.proxy=N,N.src=c,N.listener=x,c.addEventListener)M||(W=ce),W===void 0&&(W=!1),c.addEventListener(v.toString(),N,W);else if(c.attachEvent)c.attachEvent(Ds(v.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function dn(){function c(x){return v.call(c.src,c.listener,x)}const v=To;return c}function Xn(c,v,x,N,W){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Xn(c,v[Y],x,N,W);else N=h(N)?!!N.capture:!!N,x=rs(x),c&&c[Te]?(c=c.i,Y=String(v).toString(),Y in c.g&&(v=c.g[Y],x=Ne(v,x,N,W),x>-1&&(Z(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete c.g[Y],c.h--)))):c&&(c=ts(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Ne(v,x,N,W)),(x=c>-1?v[c]:null)&&Kt(x))}function Kt(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Te])Ie(v.i,c);else{var x=c.type,N=c.proxy;v.removeEventListener?v.removeEventListener(x,N,c.capture):v.detachEvent?v.detachEvent(Ds(x),N):v.addListener&&v.removeListener&&v.removeListener(N),(x=ts(v))?(Ie(x,c),x.h==0&&(x.src=null,v[me]=null)):Z(c)}}}function Ds(c){return c in Re?Re[c]:Re[c]="on"+c}function To(c,v){if(c.da)c=!0;else{v=new J(v,this);const x=c.listener,N=c.ha||c.src;c.fa&&Kt(c),c=x.call(N,v)}return c}function ts(c){return c=c[me],c instanceof he?c:null}var ns="__closure_events_fn_"+(Math.random()*1e9>>>0);function rs(c){return typeof c=="function"?c:(c[ns]||(c[ns]=function(v){return c.handleEvent(v)}),c[ns])}function ft(){L.call(this),this.i=new he(this),this.M=this,this.G=null}w(ft,L),ft.prototype[Te]=!0,ft.prototype.removeEventListener=function(c,v,x,N){Xn(this,c,v,x,N)};function lt(c,v){var x,N=c.G;if(N)for(x=[];N;N=N.G)x.push(N);if(c=c.M,N=v.type||v,typeof v=="string")v=new O(v,c);else if(v instanceof O)v.target=v.target||c;else{var W=v;v=new O(N,c),de(v,W)}W=!0;let Y,ce;if(x)for(ce=x.length-1;ce>=0;ce--)Y=v.g=x[ce],W=Ft(Y,N,!0,v)&&W;if(Y=v.g=c,W=Ft(Y,N,!0,v)&&W,W=Ft(Y,N,!1,v)&&W,x)for(ce=0;ce<x.length;ce++)Y=v.g=x[ce],W=Ft(Y,N,!1,v)&&W}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const x=c.g[v];for(let N=0;N<x.length;N++)Z(x[N]);delete c.g[v],c.h--}}this.G=null},ft.prototype.J=function(c,v,x,N){return this.i.add(String(c),v,!1,x,N)},ft.prototype.K=function(c,v,x,N){return this.i.add(String(c),v,!0,x,N)};function Ft(c,v,x,N){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let Y=0;Y<v.length;++Y){const ce=v[Y];if(ce&&!ce.da&&ce.capture==x){const Me=ce.listener,yt=ce.ha||ce.src;ce.fa&&Ie(c.i,ce),W=Me.call(yt,N)!==!1&&W}}return W&&!N.defaultPrevented}function Os(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(c,v||0)}function Tn(c){c.g=Os(()=>{c.g=null,c.i&&(c.i=!1,Tn(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Io extends L{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Tn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(c){L.call(this),this.h=c,this.g={}}w(yr,L);var kt=[];function In(c){te(c.g,function(v,x){this.g.hasOwnProperty(x)&&Kt(v)},c),c.g={}}yr.prototype.N=function(){yr.Z.N.call(this),In(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=u.JSON.stringify,So=u.JSON.parse,Fn=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function wr(){}function Oi(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Sn(){O.call(this,"d")}w(Sn,O);function Ms(){O.call(this,"c")}w(Ms,O);var Dt={},Ls=null;function _r(){return Ls=Ls||new ft}Dt.Ia="serverreachability";function ss(c){O.call(this,Dt.Ia,c)}w(ss,O);function Bn(c){const v=_r();lt(v,new ss(v))}Dt.STAT_EVENT="statevent";function Jn(c,v){O.call(this,Dt.STAT_EVENT,c),this.stat=v}w(Jn,O);function tt(c){const v=_r();lt(v,new Jn(v,c))}Dt.Ja="timingevent";function hn(c,v){O.call(this,Dt.Ja,c),this.size=v}w(hn,O);function Er(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},v)}function Ce(){this.g=!0}Ce.prototype.ua=function(){this.g=!1};function He(c,v,x,N,W,Y){c.info(function(){if(c.g)if(Y){var ce="",Me=Y.split("&");for(let Xe=0;Xe<Me.length;Xe++){var yt=Me[Xe].split("=");if(yt.length>1){const xt=yt[0];yt=yt[1];const kn=xt.split("_");ce=kn.length>=2&&kn[1]=="type"?ce+(xt+"="+yt+"&"):ce+(xt+"=redacted&")}}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+N+") [attempt "+W+"]: "+v+`
`+x+`
`+ce})}function Ye(c,v,x,N,W,Y,ce){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+W+"]: "+v+`
`+x+`
`+Y+" "+ce})}function pt(c,v,x,N){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qt(c,x)+(N?" "+N:"")})}function Gt(c,v){c.info(function(){return"TIMEOUT: "+v})}Ce.prototype.info=function(){};function Qt(c,v){if(!c.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var x=Y[c];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var W=N[0];if(W!="noop"&&W!="stop"&&W!="close")for(let ce=1;ce<N.length;ce++)N[ce]=""}}}}return vr(Y)}catch{return v}}var Yt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Et={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cn;function is(){}w(is,wr),is.prototype.g=function(){return new XMLHttpRequest},Cn=new is;function xr(c){return encodeURIComponent(String(c))}function Co(c){var v=1;c=c.split(":");const x=[];for(;v>0&&c.length;)x.push(c.shift()),v--;return c.length&&x.push(c.join(":")),x}function zn(c,v,x,N){this.j=c,this.i=v,this.l=x,this.S=N||1,this.V=new yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Iu}function Iu(){this.i=null,this.g="",this.h=!1}var Su={},Ka={};function Zn(c,v,x){c.M=1,c.A=as($n(v)),c.u=x,c.R=!0,Ga(c,null)}function Ga(c,v){c.F=Date.now(),Mi(c),c.B=$n(c.A);var x=c.B,N=c.S;Array.isArray(N)||(N=[String(N)]),sl(x.i,"t",N),c.C=0,x=c.j.L,c.h=new Iu,c.g=Mu(c.j,x?v:null,!c.u),c.P>0&&(c.O=new Io(p(c.Y,c,c.g),c.P)),v=c.V,x=c.g,N=c.ba;var W="readystatechange";Array.isArray(W)||(W&&(kt[0]=W.toString()),W=kt);for(let Y=0;Y<W.length;Y++){const ce=Ve(x,W[Y],N||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=c.J?z(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Bn(),He(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const v=this.O;v&&Rr(c)==3?v.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const Me=Rr(this.g),yt=this.g.ya(),Xe=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Du(this.g)))){this.K||Me!=4||yt==7||(yt==8||Xe<=0?Bn(3):Bn(2)),bo(this);var v=this.g.ca();this.X=v;var x=Cu(this);if(this.o=v==200,Ye(this.i,this.v,this.B,this.l,this.S,Me,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,W=this.g;if((N=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(N)){var Y=N;break t}}Y=null}if(c=Y)pt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,st(this,c);else{this.o=!1,this.m=3,tt(12),os(this),Li(this);break e}}if(this.R){c=!0;let xt;for(;!this.K&&this.C<x.length;)if(xt=Au(this,x),xt==Ka){Me==4&&(this.m=4,tt(14),c=!1),pt(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Su){this.m=4,tt(15),pt(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else pt(this.i,this.l,xt,null),st(this,xt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||x.length!=0||this.h.h||(this.m=1,tt(16),c=!1),this.o=this.o&&c,!c)pt(this.i,this.l,x,"[Invalid Chunked Response]"),os(this),Li(this);else if(x.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Hi(ce),ce.P=!0,tt(11))}}else pt(this.i,this.l,x,null),st(this,x);Me==4&&os(this),this.o&&!this.K&&(Me==4?Vo(this.j,this):(this.o=!1,Mi(this)))}else ol(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),os(this),Li(this)}}}catch{}finally{}};function Cu(c){if(!bu(c))return c.g.la();const v=Du(c.g);if(v==="")return"";let x="";const N=v.length,W=Rr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return os(c),Li(c),"";c.h.i=new u.TextDecoder}for(let Y=0;Y<N;Y++)c.h.h=!0,x+=c.h.i.decode(v[Y],{stream:!(W&&Y==N-1)});return v.length=0,c.h.g+=x,c.C=0,c.h.g}function bu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Au(c,v){var x=c.C,N=v.indexOf(`
`,x);return N==-1?Ka:(x=Number(v.substring(x,N)),isNaN(x)?Su:(N+=1,N+x>v.length?Ka:(v=v.slice(N,N+x),c.C=N+x,v)))}zn.prototype.cancel=function(){this.K=!0,os(this)};function Mi(c){c.T=Date.now()+c.H,Qa(c,c.H)}function Qa(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Er(p(c.aa,c),v)}function bo(c){c.D&&(u.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Gt(this.i,this.B),this.M!=2&&(Bn(),tt(17)),os(this),this.m=2,Li(this)):Qa(this,this.T-c)};function Li(c){c.j.I==0||c.K||Vo(c.j,c)}function os(c){bo(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,In(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function st(c,v){try{var x=c.j;if(x.I!=0&&(x.g==c||Xa(x.h,c))){if(!c.L&&Xa(x.h,c)&&x.I==3){try{var N=x.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var W=N;if(W[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)Lo(x),Pn(x);else break e;kr(x),tt(18)}}else x.xa=W[1],0<x.xa-x.K&&W[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Er(p(x.Va,x),6e3));Vi(x.h)<=1&&x.ta&&(x.ta=void 0)}else Nn(x,11)}else if((c.L||x.g==c)&&Lo(x),!R(v))for(W=x.Ba.g.parse(v),v=0;v<W.length;v++){let Xe=W[v];const xt=Xe[0];if(!(xt<=x.K))if(x.K=xt,Xe=Xe[1],x.I==2)if(Xe[0]=="c"){x.M=Xe[1],x.ba=Xe[2];const kn=Xe[3];kn!=null&&(x.ka=kn,x.j.info("VER="+x.ka));const hs=Xe[4];hs!=null&&(x.za=hs,x.j.info("SVER="+x.za));const Dr=Xe[5];Dr!=null&&typeof Dr=="number"&&Dr>0&&(N=1.5*Dr,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Or=c.g;if(Or){const Uo=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uo){var Y=N.h;Y.g||Uo.indexOf("spdy")==-1&&Uo.indexOf("quic")==-1&&Uo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ro(Y,Y.h),Y.h=null))}if(N.G){const ul=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(N.wa=ul,Ge(N.J,N.G,ul))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var ce=c;if(N.na=ll(N,N.L?N.ba:null,N.W),ce.L){ji(N.h,ce);var Me=ce,yt=N.O;yt&&(Me.H=yt),Me.D&&(bo(Me),Mi(Me)),N.g=ce}else Xt(N);x.i.length>0&&ds(x)}else Xe[0]!="stop"&&Xe[0]!="close"||Nn(x,7);else x.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Nn(x,7):Oo(x):Xe[0]!="noop"&&x.l&&x.l.qa(Xe),x.A=0)}}Bn(4)}catch{}}var uh=class{constructor(c,v){this.g=c,this.map=v}};function Ao(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Vi(c){return c.h?1:c.g?c.g.size:0}function Xa(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Ro(c,v){c.g?c.g.add(v):c.h=v}function ji(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Ao.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const x of c.g.values())v=v.concat(x.G);return v}return _(c.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function An(c,v){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const N=c[x].indexOf("=");let W,Y=null;N>=0?(W=c[x].substring(0,N),Y=c[x].substring(N+1)):W=c[x],v(W,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Tr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Tr?(this.l=c.l,Fi(this,c.j),this.o=c.o,this.g=c.g,Ir(this,c.u),this.h=c.h,Vs(this,il(c.i)),this.m=c.m):c&&(v=String(c).match(Ru))?(this.l=!1,Fi(this,v[1]||"",!0),this.o=Ui(v[2]||""),this.g=Ui(v[3]||"",!0),Ir(this,v[4]),this.h=Ui(v[5]||"",!0),Vs(this,v[6]||"",!0),this.m=Ui(v[7]||"")):(this.l=!1,this.i=new $e(null,this.l))}Tr.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Bi(v,Za,!0),":");var x=this.g;return(x||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Bi(v,Za,!0),"@"),c.push(xr(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Bi(x,x.charAt(0)=="/"?zi:el,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Bi(x,tl)),c.join("")},Tr.prototype.resolve=function(c){const v=$n(this);let x=!!c.j;x?Fi(v,c.j):x=!!c.o,x?v.o=c.o:x=!!c.g,x?v.g=c.g:x=c.u!=null;var N=c.h;if(x)Ir(v,c.u);else if(x=!!c.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var W=v.h.lastIndexOf("/");W!=-1&&(N=v.h.slice(0,W+1)+N)}if(W=N,W==".."||W==".")N="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){N=W.lastIndexOf("/",0)==0,W=W.split("/");const Y=[];for(let ce=0;ce<W.length;){const Me=W[ce++];Me=="."?N&&ce==W.length&&Y.push(""):Me==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),N&&ce==W.length&&Y.push("")):(Y.push(Me),N=!0)}N=Y.join("/")}else N=W}return x?v.h=N:x=c.i.toString()!=="",x?Vs(v,il(c.i)):x=!!c.m,x&&(v.m=c.m),v};function $n(c){return new Tr(c)}function Fi(c,v,x){c.j=x?Ui(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Ir(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Vs(c,v,x){v instanceof $e?(c.i=v,No(c.i,c.l)):(x||(v=Bi(v,ch)),c.i=new $e(v,c.l))}function Ge(c,v,x){c.i.set(v,x)}function as(c){return Ge(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ui(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bi(c,v,x){return typeof c=="string"?(c=encodeURI(c).replace(v,Ja),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ja(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Za=/[#\/\?@]/g,el=/[#\?:]/g,zi=/[#\?]/g,ch=/[#\?@]/g,tl=/#/g;function $e(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Sr(c){c.g||(c.g=new Map,c.h=0,c.i&&An(c.i,function(v,x){c.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=$e.prototype,n.add=function(c,v){Sr(this),this.i=null,c=Cr(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(v),this.h+=1,this};function nl(c,v){Sr(c),v=Cr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Po(c,v){return Sr(c),v=Cr(c,v),c.g.has(v)}n.forEach=function(c,v){Sr(this),this.g.forEach(function(x,N){x.forEach(function(W){c.call(v,W,N,this)},this)},this)};function rl(c,v){Sr(c);let x=[];if(typeof v=="string")Po(c,v)&&(x=x.concat(c.g.get(Cr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)x=x.concat(c[v]);return x}n.set=function(c,v){return Sr(this),this.i=null,c=Cr(this,c),Po(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=rl(this,c),c.length>0?String(c[0]):v):v};function sl(c,v,x){nl(c,v),x.length>0&&(c.i=null,c.g.set(Cr(c,v),_(x)),c.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var x=v[N];const W=xr(x);x=rl(this,x);for(let Y=0;Y<x.length;Y++){let ce=W;x[Y]!==""&&(ce+="="+xr(x[Y])),c.push(ce)}}return this.i=c.join("&")};function il(c){const v=new $e;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Cr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function No(c,v){v&&!c.j&&(Sr(c),c.i=null,c.g.forEach(function(x,N){const W=N.toLowerCase();N!=W&&(nl(this,N),sl(this,W,x))},c)),c.j=v}function br(c,v){const x=new Ce;if(u.Image){const N=new Image;N.onload=g(Ut,x,"TestLoadImage: loaded",!0,v,N),N.onerror=g(Ut,x,"TestLoadImage: error",!1,v,N),N.onabort=g(Ut,x,"TestLoadImage: abort",!1,v,N),N.ontimeout=g(Ut,x,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else v(!1)}function Ar(c,v){const x=new Ce,N=new AbortController,W=setTimeout(()=>{N.abort(),Ut(x,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:N.signal}).then(Y=>{clearTimeout(W),Y.ok?Ut(x,"TestPingServer: ok",!0,v):Ut(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Ut(x,"TestPingServer: error",!1,v)})}function Ut(c,v,x,N,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),N(x)}catch{}}function $i(){this.g=new Fn}function ls(c){this.i=c.Sb||null,this.h=c.ab||!1}w(ls,wr),ls.prototype.g=function(){return new Rn(this.i,this.h)};function Rn(c,v){ft.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Rn,ft),n=Rn.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,er(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?js(this):er(this),this.readyState==3&&Pu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,js(this))},n.Na=function(c){this.g&&(this.response=c,js(this))},n.ga=function(){this.g&&js(this)};function js(c){c.readyState=4,c.l=null,c.j=null,c.B=null,er(c)}n.setRequestHeader=function(c,v){this.A.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=v.next();return c.join(`\r
`)};function er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nu(c){let v="";return te(c,function(x,N){v+=N,v+=":",v+=x,v+=`\r
`}),v}function ko(c,v,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=Nu(x),typeof c=="string"?x!=null&&xr(x):Ge(c,v,x))}function Je(c){ft.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,ft);var ku=/^https?$/i,dh=["POST","PUT"];n=Je.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,v,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cn.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Y){Fs(this,Y);return}if(c=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var W in N)x.set(W,N[W]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Y of N.keys())x.set(Y,N.get(Y));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(dh,v,void 0)>=0)||N||W||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of x)this.g.setRequestHeader(Y,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Fs(this,Y)}};function Fs(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Us(c),cs(c)}function Us(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,lt(this,"complete"),lt(this,"abort"),cs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?us(this):this.Xa())},n.Xa=function(){us(this)};function us(c){if(c.h&&typeof a<"u"){if(c.v&&Rr(c)==4)setTimeout(c.Ca.bind(c),0);else if(lt(c,"readystatechange"),Rr(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var N;if(N=Y===0){let ce=String(c.D).match(Ru)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),N=!ku.test(ce?ce.toLowerCase():"")}x=N}if(x)lt(c,"complete"),lt(c,"success");else{c.o=6;try{var W=Rr(c)>2?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.ca()+"]",Us(c)}}finally{cs(c)}}}}function cs(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,v||lt(c,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Rr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return Rr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),So(v)}};function Du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ol(c){const v={};c=(c.g&&Rr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<c.length;N++){if(R(c[N]))continue;var x=Co(c[N]);const W=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Y=v[W]||[];v[W]=Y,Y.push(x)}ie(v,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(c,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||v}function Do(c){this.za=0,this.i=[],this.j=new Ce,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pr("baseRetryDelayMs",5e3,c),this.Za=Pr("retryDelaySeedMs",1e4,c),this.Ta=Pr("forwardChannelMaxRetries",2,c),this.va=Pr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(c&&c.concurrentRequestLimit),this.Ba=new $i,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Do.prototype,n.ka=8,n.I=1,n.connect=function(c,v,x,N){tt(0),this.W=c,this.H=v||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=ll(this,null,this.W),ds(this)};function Oo(c){if(Mo(c),c.I==3){var v=c.V++,x=$n(c.J);if(Ge(x,"SID",c.M),Ge(x,"RID",v),Ge(x,"TYPE","terminate"),Nr(c,x),v=new zn(c,c.j,v),v.M=2,v.A=as($n(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=v.A,x=!0),x||(v.g=Mu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Mi(v)}Wi(c)}function Pn(c){c.g&&(Hi(c),c.g.cancel(),c.g=null)}function Mo(c){Pn(c),c.v&&(u.clearTimeout(c.v),c.v=null),Lo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function ds(c){if(!Ya(c.h)&&!c.m){c.m=!0;var v=c.Ea;ee||A(),G||(ee(),G=!0),k.add(v,c),c.D=0}}function Ou(c,v){return Vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Er(p(c.Ea,c,v),jo(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const W=new zn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=z(Y),de(Y,this.U)):Y=this.U),this.u!==null||this.R||(W.J=Y,Y=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=al(this,W,v),x=$n(this.J),Ge(x,"RID",c),Ge(x,"CVER",22),this.G&&Ge(x,"X-HTTP-Session-Id",this.G),Nr(this,x),Y&&(this.R?v="headers="+xr(Nu(Y))+"&"+v:this.u&&ko(x,this.u,Y)),Ro(this.h,W),this.Ra&&Ge(x,"TYPE","init"),this.S?(Ge(x,"$req",v),Ge(x,"SID","null"),W.U=!0,Zn(W,x,null)):Zn(W,x,v),this.I=2}}else this.I==3&&(c?qi(this,c):this.i.length==0||Ya(this.h)||qi(this))};function qi(c,v){var x;v?x=v.l:x=c.V++;const N=$n(c.J);Ge(N,"SID",c.M),Ge(N,"RID",x),Ge(N,"AID",c.K),Nr(c,N),c.u&&c.o&&ko(N,c.u,c.o),x=new zn(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),v&&(c.i=v.G.concat(c.i)),v=al(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,x),Zn(x,N,v)}function Nr(c,v){c.H&&te(c.H,function(x,N){Ge(v,N,x)}),c.l&&te({},function(x,N){Ge(v,N,x)})}function al(c,v,x){x=Math.min(c.i.length,x);const N=c.l?p(c.l.Ka,c.l,c):null;e:{var W=c.i;let Me=-1;for(;;){const yt=["count="+x];Me==-1?x>0?(Me=W[0].g,yt.push("ofs="+Me)):Me=0:yt.push("ofs="+Me);let Xe=!0;for(let xt=0;xt<x;xt++){var Y=W[xt].g;const kn=W[xt].map;if(Y-=Me,Y<0)Me=Math.max(0,W[xt].g-100),Xe=!1;else try{Y="req"+Y+"_"||"";try{var ce=kn instanceof Map?kn:Object.entries(kn);for(const[hs,Dr]of ce){let Or=Dr;h(Dr)&&(Or=vr(Dr)),yt.push(Y+hs+"="+encodeURIComponent(Or))}}catch(hs){throw yt.push(Y+"type="+encodeURIComponent("_badmap")),hs}}catch{N&&N(kn)}}if(Xe){ce=yt.join("&");break e}}ce=void 0}return c=c.i.splice(0,x),v.G=c,ce}function Xt(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;ee||A(),G||(ee(),G=!0),k.add(v,c),c.A=0}}function kr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Er(p(c.Da,c),jo(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,Bs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Er(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),Pn(this),Bs(this))};function Hi(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function Bs(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=$n(c.na);Ge(v,"RID","rpc"),Ge(v,"SID",c.M),Ge(v,"AID",c.K),Ge(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ge(v,"TO",c.ia),Ge(v,"TYPE","xmlhttp"),Nr(c,v),c.u&&c.o&&ko(v,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=as($n(v)),x.u=null,x.R=!0,Ga(x,c)}n.Va=function(){this.C!=null&&(this.C=null,Pn(this),kr(this),tt(19))};function Lo(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function Vo(c,v){var x=null;if(c.g==v){Lo(c),Hi(c),c.g=null;var N=2}else if(Xa(c.h,v))x=v.G,ji(c.h,v),N=1;else return;if(c.I!=0){if(v.o)if(N==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var W=c.D;N=_r(),lt(N,new hn(N,x)),ds(c)}else Xt(c);else if(W=v.m,W==3||W==0&&v.X>0||!(N==1&&Ou(c,v)||N==2&&kr(c)))switch(x&&x.length>0&&(v=c.h,v.i=v.i.concat(x)),W){case 1:Nn(c,5);break;case 4:Nn(c,10);break;case 3:Nn(c,6);break;default:Nn(c,2)}}}function jo(c,v){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*v}function Nn(c,v){if(c.j.info("Error code "+v),v==2){var x=p(c.bb,c),N=c.Ua;const W=!N;N=new Tr(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Fi(N,"https"),as(N),W?br(N.toString(),x):Ar(N.toString(),x)}else tt(2);c.I=0,c.l&&c.l.pa(v),Wi(c),Mo(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Wi(c){if(c.I=0,c.ja=[],c.l){const v=bn(c.h);(v.length!=0||c.i.length!=0)&&(S(c.ja,v),S(c.ja,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.oa()}}function ll(c,v,x){var N=x instanceof Tr?$n(x):new Tr(x);if(N.g!="")v&&(N.g=v+"."+N.g),Ir(N,N.u);else{var W=u.location;N=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const Y=new Tr(null);N&&Fi(Y,N),v&&(Y.g=v),W&&Ir(Y,W),x&&(Y.h=x),N=Y}return x=c.G,v=c.wa,x&&v&&Ge(N,x,v),Ge(N,"VER",c.ka),Nr(c,N),N}function Mu(c,v,x){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Je(new ls({ab:x})):new Je(c.ma),v.Fa(c.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}n=Lu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Fo(){}Fo.prototype.g=function(c,v){return new Bt(c,v)};function Bt(c,v){ft.call(this),this.g=new Do(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!R(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new zs(this)}w(Bt,ft),Bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Oo(this.g)},Bt.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=vr(c),c=x);v.i.push(new uh(v.Ya++,c)),v.I==3&&ds(v)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,Bt.Z.N.call(this)};function Vu(c){Sn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const x in v){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}w(Vu,Sn);function ju(){Ms.call(this),this.status=1}w(ju,Ms);function zs(c){this.g=c}w(zs,Lu),zs.prototype.ra=function(){lt(this.g,"a")},zs.prototype.qa=function(c){lt(this.g,new Vu(c))},zs.prototype.pa=function(c){lt(this.g,new ju)},zs.prototype.oa=function(){lt(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,Dx=function(){return new Fo},kx=function(){return _r()},Nx=Dt,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yt.NO_ERROR=0,Yt.TIMEOUT=8,Yt.HTTP_ERROR=6,Xc=Yt,Et.COMPLETE="complete",Px=Et,Oi.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ft.prototype.listen=ft.prototype.J,Fl=Oi,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Rx=Je}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const _0="@firebase/firestore",E0="4.9.2";class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let za="12.3.0";const po=new zm("@firebase/firestore");function ua(){return po.logLevel}function ge(n,...e){if(po.logLevel<=Ue.DEBUG){const t=e.map(tg);po.debug(`Firestore (${za}): ${n}`,...t)}}function Ps(n,...e){if(po.logLevel<=Ue.ERROR){const t=e.map(tg);po.error(`Firestore (${za}): ${n}`,...t)}}function Sa(n,...e){if(po.logLevel<=Ue.WARN){const t=e.map(tg);po.warn(`Firestore (${za}): ${n}`,...t)}}function tg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Pe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Ox(n,r,t)}function Ox(n,e,t){let r=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ps(r),new Error(r)}function Qe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Ox(e,i,r)}function Le(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ks{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ao{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Mx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rn.UNAUTHENTICATED)))}shutdown(){}}class bO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class AO{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ao,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ao)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new Mx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class RO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new RO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new x0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=kO(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Be(n,e){return n<e?-1:n>e?1:0}function tm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return Jf(i)===Jf(a)?Be(i,a):Jf(i)?1:-1}return Be(n.length,e.length)}const DO=55296,OO=57343;function Jf(n){const e=n.charCodeAt(0);return e>=DO&&e<=OO}function Ca(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}const T0="__name__";class Ur{constructor(e,t,r){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Pe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Ur.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Be(e.length,t.length)}static compareSegments(e,t){const r=Ur.isNumericId(e),i=Ur.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):tm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class rt extends Ur{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const MO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Ur{construct(e,t,r){return new Ht(e,t,r)}static isValidIdentifier(e){return MO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T0}static keyField(){return new Ht([T0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(a(),i++)}if(a(),u)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(rt.fromString(e))}static fromName(e){return new Se(rt.fromString(e).popFirst(5))}static empty(){return new Se(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new rt(e.slice()))}}function Lx(n,e,t){if(!t)throw new pe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LO(n,e,t,r){if(e===!0&&r===!0)throw new pe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I0(n){if(!Se.isDocumentKey(n))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S0(n){if(Se.isDocumentKey(n))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Wd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe(12329,{type:typeof n})}function vi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wd(n);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ct(n,e){const t={typeString:n};return e&&(t.value=e),t}function vu(n,e){if(!Vx(n))throw new pe(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(i&&typeof u!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(ne.INVALID_ARGUMENT,t);return!0}const C0=-62135596800,b0=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*b0);return new Ze(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<C0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Ct("string",Ze._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Ze(0,0))}static max(){return new Oe(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const su=-1;function VO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new Ze(t+1,0):new Ze(t,r));return new Ii(i,Se.empty(),e)}function jO(n){return new Ii(n.readTime,n.key,su)}class Ii{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ii(Oe.min(),Se.empty(),su)}static max(){return new Ii(Oe.max(),Se.empty(),su)}}function FO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}const UO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $a(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==UO)throw n;ge("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,r)=>{t(e)}))}static reject(e){return new re(((t,r)=>{r(e)}))}static waitFor(e){return new re(((t,r)=>{let i=0,a=0,u=!1;e.forEach((h=>{++i,h.next((()=>{++a,u&&a===i&&t()}),(f=>r(f)))})),u=!0,a===i&&t()}))}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next((i=>i?re.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new re(((r,i)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((g=>{u[p]=g,++h,h===a&&r(u)}),(g=>i(g)))}}))}static doWhile(e,t){return new re(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function zO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qa(n){return n.name==="IndexedDbTransactionError"}class Kd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kd.ce=-1;const rg=-1;function Gd(n){return n==null}function vd(n){return n===0&&1/n==-1/0}function $O(n){return typeof n=="number"&&Number.isInteger(n)&&!vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const jx="";function qO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=A0(e)),e=HO(n.get(t),e);return A0(e)}function HO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case jx:t+="";break;default:t+=a}}return t}function A0(n){return n+jx+""}function R0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ki(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ht{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=a??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new qt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new P0(this.data.getIterator())}getIteratorFrom(e){return new P0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class P0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Nt(Ht.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class Ux extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ux("Invalid base64 string: "+a):a}})(e);return new Wt(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const WO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=WO.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ci(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}const Bx="server_timestamp",zx="__type__",$x="__previous_value__",qx="__local_write_time__";function sg(n){return(n?.mapValue?.fields||{})[zx]?.stringValue===Bx}function Qd(n){const e=n.mapValue.fields[$x];return sg(e)?Qd(e):e}function iu(n){const e=Si(n.mapValue.fields[qx].timestampValue);return new Ze(e.seconds,e.nanos)}class KO{constructor(e,t,r,i,a,u,h,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const wd="(default)";class ou{constructor(e,t){this.projectId=e,this.database=t||wd}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===wd}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}const Hx="__type__",GO="__max__",Uc={mapValue:{}},Wx="__vector__",_d="value";function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sg(n)?4:YO(n)?9007199254740991:QO(n)?10:11:Pe(28295,{value:n})}function Jr(n,e){if(n===e)return!0;const t=bi(n);if(t!==bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return iu(n).isEqual(iu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Si(i.timestampValue),h=Si(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Ci(i.bytesValue).isEqual(Ci(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return wt(i.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return wt(i.integerValue)===wt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=wt(i.doubleValue),h=wt(a.doubleValue);return u===h?vd(u)===vd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Ca(n.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},h=a.mapValue.fields||{};if(R0(u)!==R0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Jr(u[f],h[f])))return!1;return!0})(n,e);default:return Pe(52216,{left:n})}}function au(n,e){return(n.values||[]).find((t=>Jr(t,e)))!==void 0}function ba(n,e){if(n===e)return 0;const t=bi(n),r=bi(e);if(t!==r)return Be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=wt(a.integerValue||a.doubleValue),f=wt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return N0(n.timestampValue,e.timestampValue);case 4:return N0(iu(n),iu(e));case 5:return tm(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Ci(a),f=Ci(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=Be(h[p],f[p]);if(g!==0)return g}return Be(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Be(wt(a.latitude),wt(u.latitude));return h!==0?h:Be(wt(a.longitude),wt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return k0(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},p=h[_d]?.arrayValue,g=f[_d]?.arrayValue,w=Be(p?.values?.length||0,g?.values?.length||0);return w!==0?w:k0(p,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Uc.mapValue&&u===Uc.mapValue)return 0;if(a===Uc.mapValue)return 1;if(u===Uc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const T=tm(f[w],g[w]);if(T!==0)return T;const _=ba(h[f[w]],p[g[w]]);if(_!==0)return _}return Be(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Pe(23264,{he:t})}}function N0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Si(n),r=Si(e),i=Be(t.seconds,r.seconds);return i!==0?i:Be(t.nanos,r.nanos)}function k0(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=ba(t[i],r[i]);if(a)return a}return Be(t.length,r.length)}function Aa(n){return nm(n)}function nm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Si(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ci(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=nm(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${nm(t.fields[u])}`;return i+"}"})(n.mapValue):Pe(61005,{value:n})}function Jc(n){switch(bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qd(n);return e?16+Jc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ci(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Jc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ki(r.fields,((a,u)=>{i+=a.length+Jc(u)})),i})(n.mapValue);default:throw Pe(13486,{value:n})}}function D0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function rm(n){return!!n&&"integerValue"in n}function ig(n){return!!n&&"arrayValue"in n}function O0(n){return!!n&&"nullValue"in n}function M0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zc(n){return!!n&&"mapValue"in n}function QO(n){return(n?.mapValue?.fields||{})[Hx]?.stringValue===Wx}function Wl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ki(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Wl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wl(n.arrayValue.values[t]);return e}return{...n}}function YO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GO}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(t)}setAll(e){let t=Ht.emptyPath(),r={},i=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Wl(u):i.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Zc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ki(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new En(Wl(this.value))}}function Kx(n){const e=[];return ki(n.fields,((t,r)=>{const i=new Ht([t]);if(Zc(r)){const a=Kx(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new Vn(e)}class sn{constructor(e,t,r,i,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new sn(e,0,Oe.min(),Oe.min(),Oe.min(),En.empty(),0)}static newFoundDocument(e,t,r,i){return new sn(e,1,t,Oe.min(),r,i,0)}static newNoDocument(e,t){return new sn(e,2,t,Oe.min(),Oe.min(),En.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Oe.min(),Oe.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ed{constructor(e,t){this.position=e,this.inclusive=t}}function L0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(u.referenceValue),t.key):r=ba(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function V0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jr(n.position[t],e.position[t]))return!1;return!0}class lu{constructor(e,t="asc"){this.field=e,this.dir=t}}function XO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Gx{}class St extends Gx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ZO(e,t,r):t==="array-contains"?new n4(e,r):t==="in"?new r4(e,r):t==="not-in"?new s4(e,r):t==="array-contains-any"?new i4(e,r):new St(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new e4(e,r):new t4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ba(t,this.value)):t!==null&&bi(this.value)===bi(t)&&this.matchesComparison(ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends Gx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new gr(e,t)}matches(e){return Qx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qx(n){return n.op==="and"}function Yx(n){return JO(n)&&Qx(n)}function JO(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}function sm(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+Aa(n.value);if(Yx(n))return n.filters.map((e=>sm(e))).join(",");{const e=n.filters.map((t=>sm(t))).join(",");return`${n.op}(${e})`}}function Xx(n,e){return n instanceof St?(function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)})(n,e):n instanceof gr?(function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,u,h)=>a&&Xx(u,i.filters[h])),!0):!1})(n,e):void Pe(19439)}function Jx(n){return n instanceof St?(function(t){return`${t.field.canonicalString()} ${t.op} ${Aa(t.value)}`})(n):n instanceof gr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Jx).join(" ,")+"}"})(n):"Filter"}class ZO extends St{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class e4 extends St{constructor(e,t){super(e,"in",t),this.keys=Zx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class t4 extends St{constructor(e,t){super(e,"not-in",t),this.keys=Zx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zx(n,e){return(e.arrayValue?.values||[]).map((t=>Se.fromName(t.referenceValue)))}class n4 extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ig(t)&&au(t.arrayValue,this.value)}}class r4 extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&au(this.value.arrayValue,t)}}class s4 extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!au(this.value.arrayValue,t)}}class i4 extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>au(this.value.arrayValue,r)))}}class o4{constructor(e,t=null,r=[],i=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function j0(n,e=null,t=[],r=[],i=null,a=null,u=null){return new o4(n,e,t,r,i,a,u)}function og(n){const e=Le(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>sm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Aa(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Aa(r))).join(",")),e.Te=t}return e.Te}function ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Xx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!V0(n.startAt,e.startAt)&&V0(n.endAt,e.endAt)}function im(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Ha{constructor(e,t=null,r=[],i=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function a4(n,e,t,r,i,a,u,h){return new Ha(n,e,t,r,i,a,u,h)}function lg(n){return new Ha(n)}function F0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eT(n){return n.collectionGroup!==null}function Kl(n){const e=Le(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Nt(Ht.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new lu(a,r))})),t.has(Ht.keyField().canonicalString())||e.Ie.push(new lu(Ht.keyField(),r))}return e.Ie}function Hr(n){const e=Le(n);return e.Ee||(e.Ee=l4(e,Kl(n))),e.Ee}function l4(n,e){if(n.limitType==="F")return j0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new lu(i.field,a)}));const t=n.endAt?new Ed(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ed(n.startAt.position,n.startAt.inclusive):null;return j0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function om(n,e){const t=n.filters.concat([e]);return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function am(n,e,t){return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yd(n,e){return ag(Hr(n),Hr(e))&&n.limitType===e.limitType}function tT(n){return`${og(Hr(n))}|lt:${n.limitType}`}function ca(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>Jx(i))).join(", ")}]`),Gd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Aa(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Aa(i))).join(",")),`Target(${r})`})(Hr(n))}; limitType=${n.limitType})`}function Xd(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of Kl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(u,h,f){const p=L0(u,h,f);return u.inclusive?p<=0:p<0})(r.startAt,Kl(r),i)||r.endAt&&!(function(u,h,f){const p=L0(u,h,f);return u.inclusive?p>=0:p>0})(r.endAt,Kl(r),i))})(n,e)}function u4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nT(n){return(e,t)=>{let r=!1;for(const i of Kl(n)){const a=c4(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function c4(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?ba(f,p):Pe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:n.dir})}}class vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return Fx(this.inner)}size(){return this.innerSize}}const d4=new ht(Se.comparator);function Ns(){return d4}const rT=new ht(Se.comparator);function Ul(...n){let e=rT;for(const t of n)e=e.insert(t.key,t);return e}function sT(n){let e=rT;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function oo(){return Gl()}function iT(){return Gl()}function Gl(){return new vo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const h4=new ht(Se.comparator),f4=new Nt(Se.comparator);function ze(...n){let e=f4;for(const t of n)e=e.add(t);return e}const p4=new Nt(Be);function m4(){return p4}function ug(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function oT(n){return{integerValue:""+n}}function g4(n,e){return $O(e)?oT(e):ug(n,e)}class Jd{constructor(){this._=void 0}}function y4(n,e,t){return n instanceof xd?(function(i,a){const u={fields:{[zx]:{stringValue:Bx},[qx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&sg(a)&&(a=Qd(a)),a&&(u.fields[$x]=a),{mapValue:u}})(t,e):n instanceof uu?lT(n,e):n instanceof cu?uT(n,e):(function(i,a){const u=aT(i,a),h=U0(u)+U0(i.Ae);return rm(u)&&rm(i.Ae)?oT(h):ug(i.serializer,h)})(n,e)}function v4(n,e,t){return n instanceof uu?lT(n,e):n instanceof cu?uT(n,e):t}function aT(n,e){return n instanceof Td?(function(r){return rm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class xd extends Jd{}class uu extends Jd{constructor(e){super(),this.elements=e}}function lT(n,e){const t=cT(e);for(const r of n.elements)t.some((i=>Jr(i,r)))||t.push(r);return{arrayValue:{values:t}}}class cu extends Jd{constructor(e){super(),this.elements=e}}function uT(n,e){let t=cT(e);for(const r of n.elements)t=t.filter((i=>!Jr(i,r)));return{arrayValue:{values:t}}}class Td extends Jd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function U0(n){return wt(n.integerValue||n.doubleValue)}function cT(n){return ig(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function w4(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof uu&&i instanceof uu||r instanceof cu&&i instanceof cu?Ca(r.elements,i.elements,Jr):r instanceof Td&&i instanceof Td?Jr(r.Ae,i.Ae):r instanceof xd&&i instanceof xd})(n.transform,e.transform)}class _4{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Zd{}function dT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new cg(n.key,hr.none()):new wu(n.key,n.data,hr.none());{const t=n.data,r=En.empty();let i=new Nt(Ht.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new Di(n.key,r,new Vn(i.toArray()),hr.none())}}function E4(n,e,t){n instanceof wu?(function(i,a,u){const h=i.value.clone(),f=z0(i.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Di?(function(i,a,u){if(!ed(i.precondition,a))return void a.convertToUnknownDocument(u.version);const h=z0(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(hT(i)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ql(n,e,t,r){return n instanceof wu?(function(a,u,h,f){if(!ed(a.precondition,u))return h;const p=a.value.clone(),g=$0(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Di?(function(a,u,h,f){if(!ed(a.precondition,u))return h;const p=$0(a.fieldTransforms,f,u),g=u.data;return g.setAll(hT(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,h){return ed(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function x4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=aT(r.transform,i||null);a!=null&&(t===null&&(t=En.empty()),t.set(r.field,a))}return t||null}function B0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ca(r,i,((a,u)=>w4(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wu extends Zd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends Zd{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function z0(n,e,t){const r=new Map;Qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,h=e.data.field(a.field);r.set(a.field,v4(u,h,t[i]))}return r}function $0(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,y4(a,u,e))}return r}class cg extends Zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T4 extends Zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I4{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&E4(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ql(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ql(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=iT();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(i.key)?null:h;const f=dT(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,((t,r)=>B0(t,r)))&&Ca(this.baseMutations,e.baseMutations,((t,r)=>B0(t,r)))}}class dg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return h4})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new dg(e,t,r,i)}}class S4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class C4{constructor(e,t){this.count=e,this.unchangedNames=t}}var It,qe;function b4(n){switch(n){case ne.OK:return Pe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Pe(15467,{code:n})}}function fT(n){if(n===void 0)return Ps("GRPC error has no .code"),ne.UNKNOWN;switch(n){case It.OK:return ne.OK;case It.CANCELLED:return ne.CANCELLED;case It.UNKNOWN:return ne.UNKNOWN;case It.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case It.INTERNAL:return ne.INTERNAL;case It.UNAVAILABLE:return ne.UNAVAILABLE;case It.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case It.NOT_FOUND:return ne.NOT_FOUND;case It.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case It.ABORTED:return ne.ABORTED;case It.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case It.DATA_LOSS:return ne.DATA_LOSS;default:return Pe(39323,{code:n})}}(qe=It||(It={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function A4(){return new TextEncoder}const R4=new yi([4294967295,4294967295],0);function q0(n){const e=A4().encode(n),t=new Ax;return t.update(e),new Uint8Array(t.digest())}function H0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yi([t,r],0),new yi([i,a],0)]}class hg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bl(`Invalid padding: ${t}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=yi.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(yi.fromNumber(r)));return i.compare(R4)===1&&(i=new yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=q0(e),[r,i]=H0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new hg(a,i,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=q0(e),[r,i]=H0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class eh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new eh(Oe.min(),i,new ht(Be),Ns(),ze())}}class _u{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _u(r,t,ze(),ze(),ze())}}class td{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class pT{constructor(e,t){this.targetId=e,this.Ce=t}}class mT{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class W0{constructor(){this.ve=0,this.Fe=K0(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Pe(38017,{changeType:a})}})),new _u(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=K0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class P4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.Je=Bc(),this.He=Bc(),this.Ye=new ht(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(im(a))if(r===0){const u=new Se(a.path);this.et(t,u,sn.newNoDocument(u,Oe.min()))}else Qe(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,h;try{u=Ci(r).toUint8Array()}catch(f){if(f instanceof Ux)return Sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new hg(u,i,a)}catch(f){return Sa(f instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&im(h.target)){const f=new Se(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,sn.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=ze();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const i=new eh(e,t,this.Ye,this.je,r);return this.je=Ns(),this.Je=Bc(),this.He=Bc(),this.Ye=new ht(Be),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new W0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nt(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nt(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new W0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bc(){return new ht(Se.comparator)}function K0(){return new ht(Se.comparator)}const N4={asc:"ASCENDING",desc:"DESCENDING"},k4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D4={and:"AND",or:"OR"};class O4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lm(n,e){return n.useProto3Json||Gd(e)?e:{value:e}}function Id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function M4(n,e){return Id(n,e.toTimestamp())}function Wr(n){return Qe(!!n,49232),Oe.fromTimestamp((function(t){const r=Si(t);return new Ze(r.seconds,r.nanos)})(n))}function fg(n,e){return um(n,e).canonicalString()}function um(n,e){const t=(function(i){return new rt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function yT(n){const e=rt.fromString(n);return Qe(xT(e),10190,{key:e.toString()}),e}function cm(n,e){return fg(n.databaseId,e.path)}function Zf(n,e){const t=yT(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(wT(t))}function vT(n,e){return fg(n.databaseId,e)}function L4(n){const e=yT(n);return e.length===4?rt.emptyPath():wT(e)}function dm(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wT(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function G0(n,e,t){return{name:cm(n,e),fields:t.value.mapValue.fields}}function V4(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Qe(g===void 0||typeof g=="string",58123),Wt.fromBase64String(g||"")):(Qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Wt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const g=p.code===void 0?ne.UNKNOWN:fT(p.code);return new pe(g,p.message||"")})(u);t=new mT(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zf(n,r.document.name),a=Wr(r.document.updateTime),u=r.document.createTime?Wr(r.document.createTime):Oe.min(),h=new En({mapValue:{fields:r.document.fields}}),f=sn.newFoundDocument(i,a,u,h),p=r.targetIds||[],g=r.removedTargetIds||[];t=new td(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zf(n,r.document),a=r.readTime?Wr(r.readTime):Oe.min(),u=sn.newNoDocument(i,a),h=r.removedTargetIds||[];t=new td([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zf(n,r.document),a=r.removedTargetIds||[];t=new td([],a,i,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new C4(i,a),h=r.targetId;t=new pT(h,u)}}return t}function j4(n,e){let t;if(e instanceof wu)t={update:G0(n,e.key,e.value)};else if(e instanceof cg)t={delete:cm(n,e.key)};else if(e instanceof Di)t={update:G0(n,e.key,e.data),updateMask:K4(e.fieldMask)};else{if(!(e instanceof T4))return Pe(16599,{Vt:e.type});t={verify:cm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof xd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof uu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof cu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Td)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Pe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:M4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)})(n,e.precondition)),t}function F4(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map((t=>(function(i,a){let u=i.updateTime?Wr(i.updateTime):Wr(a);return u.isEqual(Oe.min())&&(u=Wr(a)),new _4(u,i.transformResults||[])})(t,e)))):[]}function U4(n,e){return{documents:[vT(n,e.path)]}}function B4(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vT(n,i);const a=(function(p){if(p.length!==0)return ET(gr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((g=>(function(T){return{field:da(T.field),direction:q4(T.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=lm(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:i}}function z4(n){let e=L4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Qe(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(w){const T=_T(w);return T instanceof gr&&Yx(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((T=>(function(S){return new lu(ha(S.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(w){let T;return T=typeof w=="object"?w.value:w,Gd(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,_=w.values||[];return new Ed(_,T)})(t.startAt));let p=null;return t.endAt&&(p=(function(w){const T=!w.before,_=w.values||[];return new Ed(_,T)})(t.endAt)),a4(e,i,u,a,h,"F",f,p)}function $4(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _T(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ha(t.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ha(t.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ha(t.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ha(t.unaryFilter.field);return St.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return St.create(ha(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return gr.create(t.compositeFilter.filters.map((r=>_T(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(t.compositeFilter.op))})(n):Pe(30097,{filter:n})}function q4(n){return N4[n]}function H4(n){return k4[n]}function W4(n){return D4[n]}function da(n){return{fieldPath:n.canonicalString()}}function ha(n){return Ht.fromServerFormat(n.fieldPath)}function ET(n){return n instanceof St?(function(t){if(t.op==="=="){if(M0(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NAN"}};if(O0(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(M0(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NOT_NAN"}};if(O0(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(t.field),op:H4(t.op),value:t.value}}})(n):n instanceof gr?(function(t){const r=t.getFilters().map((i=>ET(i)));return r.length===1?r[0]:{compositeFilter:{op:W4(t.op),filters:r}}})(n):Pe(54877,{filter:n})}function K4(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function xT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class di{constructor(e,t,r,i,a=Oe.min(),u=Oe.min(),h=Wt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G4{constructor(e){this.yt=e}}function Q4(n){const e=z4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?am(e,e.limit,"L"):e}class Y4{constructor(){this.Cn=new X4}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Ii.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class X4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nt(rt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(rt.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TT=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(TT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ra(0)}static cr(){return new Ra(-1)}}const Y0="LruGarbageCollector",J4=1048576;function X0([n,e],[t,r]){const i=Be(n,t);return i===0?Be(e,r):i}class Z4{constructor(e){this.Ir=e,this.buffer=new Nt(X0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();X0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qa(t)?ge(Y0,"Ignoring IndexedDB error during garbage collection: ",t):await $a(t)}await this.Vr(3e5)}))}}class tM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Kd.ce);const r=new Z4(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Q0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,u,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,u=Date.now(),this.nthSequenceNumber(e,i)))).next((w=>(r=w,h=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),ua()<=Ue.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w}))))}}function nM(n,e){return new tM(n,e)}class rM{constructor(){this.changes=new vo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class iM{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Ql(r.mutation,i,Vn.empty(),Ze.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const i=oo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let u=Ul();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=oo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,i){let a=Ns();const u=Gl(),h=(function(){return Gl()})();return t.forEach(((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Di)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Ql(g.mutation,p,g.mutation.getFieldMask(),Ze.now())):u.set(p.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,g)=>u.set(p,g))),t.forEach(((p,g)=>h.set(p,new sM(g,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Gl();let i=new ht(((u,h)=>u-h)),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Vn.empty();g=h.applyToLocalView(p,g),r.set(f,g);const w=(i.get(h.batchId)||ze()).add(f);i=i.insert(h.batchId,w)}))})).next((()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,w=iT();g.forEach((T=>{if(!a.has(T)){const _=dT(t.get(T),r.get(T));_!==null&&w.set(T,_),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):re.resolve(oo());let h=su,f=a;return u.next((p=>re.forEach(p,((g,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next((T=>{f=f.insert(g,T)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,ze()))).next((g=>({batchId:h,changes:sT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((r=>{let i=Ul();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=Ul();return this.indexManager.getCollectionParents(e,a).next((h=>re.forEach(h,(f=>{const p=(function(w,T){return new Ha(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((g=>{g.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((u=>{a.forEach(((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,sn.newInvalidDocument(g)))}));let h=Ul();return u.forEach(((f,p)=>{const g=a.get(f);g!==void 0&&Ql(g.mutation,p,Vn.empty(),Ze.now()),Xd(t,p)&&(h=h.insert(f,p))})),h}))}}class oM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Wr(i.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:Q4(i.bundledQuery),readTime:Wr(i.readTime)}})(t)),re.resolve()}}class aM{constructor(){this.overlays=new ht(Se.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=oo();return re.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const i=oo(),a=t.length+1,u=new Se(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ht(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=oo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=oo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>h.set(p,g))),!(h.size()>=i)););return re.resolve(h)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new S4(t,r));let a=this.qr.get(t);a===void 0&&(a=ze(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}class lM{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}class pg{constructor(){this.Qr=new Nt(Vt.$r),this.Ur=new Nt(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Vt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Se(new rt([])),r=new Vt(t,e),i=new Vt(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new rt([])),r=new Vt(t,e),i=new Vt(t,e+1);let a=ze();return this.Ur.forEachInRange([r,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Vt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}class uM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Vt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new I4(a,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Zr=this.Zr.add(new Vt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?rg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),i=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(u=>{const h=this.Xr(u.Yr);a.push(h)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(Be);return t.forEach((i=>{const a=new Vt(i,0),u=new Vt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const u=new Vt(new Se(a),0);let h=new Nt(Be);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Yr)),!0)}),u),re.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(t.mutations,(i=>{const a=new Vt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Vt(t,0),i=this.Zr.firstAfterOrEqual(r);return re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cM{constructor(e){this.ri=e,this.docs=(function(){return new ht(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let r=Ns();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():sn.newInvalidDocument(i))})),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ns();const u=t.path,h=new Se(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||FO(jO(g),r)<=0||(i.has(g.key)||Xd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Pe(9500)}ii(e,t){return re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new dM(this)}getSize(e){return re.resolve(this.size)}}class dM extends rM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class hM{constructor(e){this.persistence=e,this.si=new vo((t=>og(t)),ag),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new pg,this.targetCount=0,this.ai=Ra.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ra(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),re.waitFor(a).next((()=>i))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}class IT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Kd(0),this.li=!1,this.li=!0,this.hi=new lM,this.referenceDelegate=e(this),this.Pi=new hM(this),this.indexManager=new Y4,this.remoteDocumentCache=(function(i){return new cM(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new G4(t),this.Ii=new oM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new uM(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const i=new fM(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class fM extends BO{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Ri=new pg,this.Vi=null}static mi(e){return new mg(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const i=Se.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,Oe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Sd{constructor(e,t){this.persistence=e,this.pi=new vo((r=>qO(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=nM(this,t)}static mi(e,t){return new Sd(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?re.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,t).next((h=>{h||(r++,a.removeEntry(u,Oe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jc(e.data.value)),t}br(e,t,r){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=ze(),i=ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gg(e,t.fromCache,r,i)}}class pM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aN()?8:zO(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new pM;return this.Ss(e,t,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(ua()<=Ue.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",ca(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(ua()<=Ue.DEBUG&&ge("QueryEngine","Query:",ca(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ua()<=Ue.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",ca(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):re.resolve())}ys(e,t){if(F0(t))return re.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=am(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=ze(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,h);return this.Cs(t,p,u,f.readTime)?this.ys(e,am(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,i){return F0(t)||i.isEqual(Oe.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,i)?re.resolve(null):(ua()<=Ue.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ca(t)),this.vs(e,u,t,VO(i,su)).next((h=>h)))}))}Ds(e,t){let r=new Nt(nT(e));return t.forEach(((i,a)=>{Xd(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return ua()<=Ue.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",ca(t)),this.ps.getDocumentsMatchingQuery(e,t,Ii.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const yg="LocalStore",gM=3e8;class yM{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ht(Be),this.xs=new vo((a=>og(a)),ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function vM(n,e,t,r){return new yM(n,e,t,r)}async function ST(n,e){const t=Le(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=ze();for(const p of i){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function wM(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,g){const w=p.batch,T=w.keys();let _=re.resolve();return T.forEach((S=>{_=_.next((()=>g.getEntry(f,S))).next((C=>{const b=p.docVersions.get(S);Qe(b!==null,48541),C.version.compareTo(b)<0&&(w.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),g.addEntry(C)))}))})),_.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=ze();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function CT(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function _M(n,e){const t=Le(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const h=[];e.targetChanges.forEach(((g,w)=>{const T=i.get(w);if(!T)return;h.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,w))));let _=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?_=_.withResumeToken(Wt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),i=i.insert(w,_),(function(C,b,j){return C.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=gM?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,_,g)&&h.push(t.Pi.updateTargetData(a,_))}));let f=Ns(),p=ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push(EM(a,u,e.documentUpdates).next((g=>{f=g.ks,p=g.qs}))),!r.isEqual(Oe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(g)}return re.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=i,a)))}function EM(n,e,t){let r=ze(),i=ze();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Ns();return t.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ge(yg,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:i}}))}function xM(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function TM(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,re.resolve(i)):t.Pi.allocateTargetId(r).next((u=>(i=new di(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function hm(n,e,t){const r=Le(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!qa(u))throw u;ge(yg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function J0(n,e,t){const r=Le(n);let i=Oe.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,g){const w=Le(f),T=w.xs.get(g);return T!==void 0?re.resolve(w.Ms.get(T)):w.Pi.getTargetData(p,g)})(r,u,Hr(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?i:Oe.min(),t?a:ze()))).next((h=>(IM(r,u4(e),h),{documents:h,Qs:a})))))}function IM(n,e,t){let r=n.Os.get(e)||Oe.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Z0{constructor(){this.activeTargetIds=m4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SM{constructor(){this.Mo=new Z0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Z0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CM{Oo(e){}shutdown(){}}const e_="ConnectivityMonitor";class t_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(e_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(e_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function fm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const ep="RestConnection",bM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===wd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const u=fm(),h=this.zo(e,t.toUriEncodedString());ge(ep,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(h),g=Fa(p);return this.Jo(e,h,f,r,g).then((w=>(ge(ep,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Sa(ep,`RPC '${e}' ${u} failed with error: `,w,"url: ",h,"request:",r),w}))}Ho(e,t,r,i,a,u){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+za})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=bM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class RM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const nn="WebChannelConnection";class PM extends AM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const u=fm();return new Promise(((h,f)=>{const p=new Rx;p.setWithCredentials(!0),p.listenOnce(Px.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Xc.NO_ERROR:const w=p.getResponseJson();ge(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Xc.TIMEOUT:ge(nn,`RPC '${e}' ${u} timed out`),f(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const T=p.getStatus();if(ge(nn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let _=p.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_?.error;if(S&&S.status&&S.message){const C=(function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(U)>=0?U:ne.UNKNOWN})(S.status);f(new pe(C,S.message))}else f(new pe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(nn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(i);ge(nn,`RPC '${e}' ${u} sending request:`,i),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const i=fm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Dx(),h=kx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ge(nn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const w=u.createWebChannel(g,f);this.I_(w);let T=!1,_=!1;const S=new RM({Yo:b=>{_?ge(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(T||(ge(nn,`Opening RPC '${e}' stream ${i} transport.`),w.open(),T=!0),ge(nn,`RPC '${e}' stream ${i} sending:`,b),w.send(b))},Zo:()=>w.close()}),C=(b,j,U)=>{b.listen(j,(B=>{try{U(B)}catch(q){setTimeout((()=>{throw q}),0)}}))};return C(w,Fl.EventType.OPEN,(()=>{_||(ge(nn,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),C(w,Fl.EventType.CLOSE,(()=>{_||(_=!0,ge(nn,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(w))})),C(w,Fl.EventType.ERROR,(b=>{_||(_=!0,Sa(nn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),S.a_(new pe(ne.UNAVAILABLE,"The operation could not be completed")))})),C(w,Fl.EventType.MESSAGE,(b=>{if(!_){const j=b.data[0];Qe(!!j,16349);const U=j,B=U?.error||U[0]?.error;if(B){ge(nn,`RPC '${e}' stream ${i} received error:`,B);const q=B.status;let ee=(function(A){const P=It[A];if(P!==void 0)return fT(P)})(q),G=B.message;ee===void 0&&(ee=ne.INTERNAL,G="Unknown error status: "+q+" with message "+B.message),_=!0,S.a_(new pe(ee,G)),w.close()}else ge(nn,`RPC '${e}' stream ${i} received:`,j),S.u_(j)}})),C(h,Nx.STAT_EVENT,(b=>{b.stat===em.PROXY?ge(nn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===em.NOPROXY&&ge(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function tp(){return typeof document<"u"?document:null}function th(n){return new O4(n,!0)}class bT{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const n_="PersistentStream";class AT{constructor(e,t,r,i,a,u,h,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ps(t.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(n_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ge(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NM extends AT{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=V4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Oe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Wr(u.readTime):Oe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=dm(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=im(f)?{documents:U4(a,f)}:{query:B4(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=gT(a,u.resumeToken);const p=lm(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Oe.min())>0){h.readTime=Id(a,u.snapshotVersion.toTimestamp());const p=lm(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=$4(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=dm(this.serializer),t.removeTarget=e,this.q_(t)}}class kM extends AT{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=F4(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=dm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>j4(this.serializer,r)))};this.q_(t)}}class DM{}class OM extends DM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,um(t,r),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ne.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,um(t,r),i,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const mo="RemoteStore";class LM{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{wo(this)&&(ge(mo,"Restarting streams for network reachability change."),await(async function(f){const p=Le(f);p.Ea.add(4),await Eu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await nh(p)})(this))}))})),this.Ra=new MM(r,i)}}async function nh(n){if(wo(n))for(const e of n.da)await e(!0)}async function Eu(n){for(const e of n.da)await e(!1)}function RT(n,e){const t=Le(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Eg(t)?_g(t):Wa(t).O_()&&wg(t,e))}function vg(n,e){const t=Le(n),r=Wa(t);t.Ia.delete(e),r.O_()&&PT(t,e),t.Ia.size===0&&(r.O_()?r.L_():wo(t)&&t.Ra.set("Unknown"))}function wg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wa(n).Y_(e)}function PT(n,e){n.Va.Ue(e),Wa(n).Z_(e)}function _g(n){n.Va=new P4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Wa(n).start(),n.Ra.ua()}function Eg(n){return wo(n)&&!Wa(n).x_()&&n.Ia.size>0}function wo(n){return Le(n).Ea.size===0}function NT(n){n.Va=void 0}async function VM(n){n.Ra.set("Online")}async function jM(n){n.Ia.forEach(((e,t)=>{wg(n,e)}))}async function FM(n,e){NT(n),Eg(n)?(n.Ra.ha(e),_g(n)):n.Ra.set("Unknown")}async function UM(n,e,t){if(n.Ra.set("Online"),e instanceof mT&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Ia.delete(h),i.Va.removeTarget(h))})(n,e)}catch(r){ge(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cd(n,r)}else if(e instanceof td?n.Va.Ze(e):e instanceof pT?n.Va.st(e):n.Va.tt(e),!t.isEqual(Oe.min()))try{const r=await CT(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Wt.EMPTY_BYTE_STRING,g.snapshotVersion)),PT(a,f);const w=new di(g.target,f,p,g.sequenceNumber);wg(a,w)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ge(mo,"Failed to raise snapshot:",r),await Cd(n,r)}}async function Cd(n,e,t){if(!qa(e))throw e;n.Ea.add(1),await Eu(n),n.Ra.set("Offline"),t||(t=()=>CT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ge(mo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await nh(n)}))}function kT(n,e){return e().catch((t=>Cd(n,t,e)))}async function rh(n){const e=Le(n),t=Ai(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rg;for(;BM(e);)try{const i=await xM(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,zM(e,i)}catch(i){await Cd(e,i)}DT(e)&&OT(e)}function BM(n){return wo(n)&&n.Ta.length<10}function zM(n,e){n.Ta.push(e);const t=Ai(n);t.O_()&&t.X_&&t.ea(e.mutations)}function DT(n){return wo(n)&&!Ai(n).x_()&&n.Ta.length>0}function OT(n){Ai(n).start()}async function $M(n){Ai(n).ra()}async function qM(n){const e=Ai(n);for(const t of n.Ta)e.ea(t.mutations)}async function HM(n,e,t){const r=n.Ta.shift(),i=dg.from(r,e,t);await kT(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await rh(n)}async function WM(n,e){e&&Ai(n).X_&&await(async function(r,i){if((function(u){return b4(u)&&u!==ne.ABORTED})(i.code)){const a=r.Ta.shift();Ai(r).B_(),await kT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await rh(r)}})(n,e),DT(n)&&OT(n)}async function r_(n,e){const t=Le(n);t.asyncQueue.verifyOperationInProgress(),ge(mo,"RemoteStore received new credentials");const r=wo(t);t.Ea.add(3),await Eu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await nh(t)}async function KM(n,e){const t=Le(n);e?(t.Ea.delete(2),await nh(t)):e||(t.Ea.add(2),await Eu(t),t.Ra.set("Unknown"))}function Wa(n){return n.ma||(n.ma=(function(t,r,i){const a=Le(t);return a.sa(),new NM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:VM.bind(null,n),t_:jM.bind(null,n),r_:FM.bind(null,n),H_:UM.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Eg(n)?_g(n):n.Ra.set("Unknown")):(await n.ma.stop(),NT(n))}))),n.ma}function Ai(n){return n.fa||(n.fa=(function(t,r,i){const a=Le(t);return a.sa(),new kM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:$M.bind(null,n),r_:WM.bind(null,n),ta:qM.bind(null,n),na:HM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await rh(n)):(await n.fa.stop(),n.Ta.length>0&&(ge(mo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class xg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,h=new xg(e,t,u,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(n,e){if(Ps("AsyncQueue",`${e}: ${n}`),qa(n))return new pe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class wa{static emptySet(e){return new wa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=Ul(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class s_{constructor(){this.ga=new ht(Se.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Pa{constructor(e,t,r,i,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Pa(e,t,wa.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class GM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QM{constructor(){this.queries=i_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Le(t),a=i.queries;i.queries=i_(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function i_(){return new vo((n=>tT(n)),Yd)}async function YM(n,e){const t=Le(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new GM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Tg(u,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Ig(t)}async function XM(n,e){const t=Le(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function JM(n,e){const t=Le(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(i)&&(r=!0);u.wa=i}}r&&Ig(t)}function ZM(n,e,t){const r=Le(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function Ig(n){n.Ca.forEach((e=>{e.next()}))}var pm,o_;(o_=pm||(pm={})).Ma="default",o_.Cache="cache";class eL{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pm.Cache}}class MT{constructor(e){this.key=e}}class LT{constructor(e){this.key=e}}class tL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=nT(e),this.tu=new wa(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new s_,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,w)=>{const T=i.get(g),_=Xd(this.query,w)?w:null,S=!!T&&this.mutatedKeys.has(T.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let b=!1;T&&_?T.data.isEqual(_.data)?S!==C&&(r.track({type:3,doc:_}),b=!0):this.su(T,_)||(r.track({type:2,doc:_}),b=!0,(f&&this.eu(_,f)>0||p&&this.eu(_,p)<0)&&(h=!0)):!T&&_?(r.track({type:0,doc:_}),b=!0):T&&!_&&(r.track({type:1,doc:T}),b=!0,(f||p)&&(h=!0)),b&&(_?(u=u.add(_),a=C?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(_,S){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:b})}};return C(_)-C(S)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),i=i??!1;const h=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Pa(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new LT(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new MT(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class nL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rL{constructor(e){this.key=e,this.hu=!1}}class sL{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new vo((h=>tT(h)),Yd),this.Iu=new Map,this.Eu=new Set,this.du=new ht(Se.comparator),this.Au=new Map,this.Ru=new pg,this.Vu={},this.mu=new Map,this.fu=Ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iL(n,e,t=!0){const r=zT(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await VT(r,e,t,!0),i}async function oL(n,e){const t=zT(n);await VT(t,e,!0,!1)}async function VT(n,e,t,r){const i=await TM(n.localStore,Hr(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await aL(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&RT(n.remoteStore,i),h}async function aL(n,e,t,r,i){n.pu=(w,T,_)=>(async function(C,b,j,U){let B=b.view.ru(j);B.Cs&&(B=await J0(C.localStore,b.query,!1).then((({documents:k})=>b.view.ru(k,B))));const q=U&&U.targetChanges.get(b.targetId),ee=U&&U.targetMismatches.get(b.targetId)!=null,G=b.view.applyChanges(B,C.isPrimaryClient,q,ee);return l_(C,b.targetId,G.au),G.snapshot})(n,w,T,_);const a=await J0(n.localStore,e,!0),u=new tL(e,a.Qs),h=u.ru(a.documents),f=_u.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=u.applyChanges(h,n.isPrimaryClient,f);l_(n,t,p.au);const g=new nL(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function lL(n,e,t){const r=Le(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((u=>!Yd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vg(r.remoteStore,i.targetId),mm(r,i.targetId)})).catch($a)):(mm(r,i.targetId),await hm(r.localStore,i.targetId,!0))}async function uL(n,e){const t=Le(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vg(t.remoteStore,r.targetId))}async function cL(n,e,t){const r=yL(n);try{const i=await(function(u,h){const f=Le(u),p=Ze.now(),g=h.reduce(((_,S)=>_.add(S.key)),ze());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=Ns(),C=ze();return f.Ns.getEntries(_,g).next((b=>{S=b,S.forEach(((j,U)=>{U.isValidDocument()||(C=C.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,S))).next((b=>{w=b;const j=[];for(const U of h){const B=x4(U,w.get(U.key).overlayedDocument);B!=null&&j.push(new Di(U.key,B,Kx(B.value.mapValue),hr.exists(!0)))}return f.mutationQueue.addMutationBatch(_,p,j,h)})).next((b=>{T=b;const j=b.applyToLocalDocumentSet(w,C);return f.documentOverlayCache.saveOverlays(_,b.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:sT(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new ht(Be)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p})(r,i.batchId,t),await xu(r,i.changes),await rh(r.remoteStore)}catch(i){const a=Tg(i,"Failed to persist write");t.reject(a)}}async function jT(n,e){const t=Le(n);try{const r=await _M(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=t.Au.get(a);u&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?Qe(u.hu,14607):i.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await xu(t,r,e)}catch(r){await $a(r)}}function a_(n,e,t){const r=Le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(u,h){const f=Le(u);f.onlineState=h;let p=!1;f.queries.forEach(((g,w)=>{for(const T of w.Sa)T.va(h)&&(p=!0)})),p&&Ig(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dL(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new ht(Se.comparator);u=u.insert(a,sn.newNoDocument(a,Oe.min()));const h=ze().add(a),f=new eh(Oe.min(),new Map,new ht(Be),u,h);await jT(r,f),r.du=r.du.remove(a),r.Au.delete(e),Cg(r)}else await hm(r.localStore,e,!1).then((()=>mm(r,e,t))).catch($a)}async function hL(n,e){const t=Le(n),r=e.batch.batchId;try{const i=await wM(t.localStore,e);UT(t,r,null),FT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await xu(t,i)}catch(i){await $a(i)}}async function fL(n,e,t){const r=Le(n);try{const i=await(function(u,h){const f=Le(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next((w=>(Qe(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(p,w)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);UT(r,e,t),FT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await xu(r,i)}catch(i){await $a(i)}}function FT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function UT(n,e,t){const r=Le(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function mm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||BT(n,r)}))}function BT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(vg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Cg(n))}function l_(n,e,t){for(const r of t)r instanceof MT?(n.Ru.addReference(r.key,e),pL(n,r)):r instanceof LT?(ge(Sg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||BT(n,r.key)):Pe(19791,{wu:r})}function pL(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ge(Sg,"New document in limbo: "+t),n.Eu.add(r),Cg(n))}function Cg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Se(rt.fromString(e)),r=n.fu.next();n.Au.set(r,new rL(t)),n.du=n.du.insert(t,r),RT(n.remoteStore,new di(Hr(lg(t.path)),r,"TargetPurposeLimboResolution",Kd.ce))}}async function xu(n,e,t){const r=Le(n),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){i.push(p);const g=gg.As(f.targetId,p);a.push(g)}})))})),await Promise.all(u),r.Pu.H_(i),await(async function(f,p){const g=Le(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>re.forEach(p,(T=>re.forEach(T.Es,(_=>g.persistence.referenceDelegate.addReference(w,T.targetId,_))).next((()=>re.forEach(T.ds,(_=>g.persistence.referenceDelegate.removeReference(w,T.targetId,_)))))))))}catch(w){if(!qa(w))throw w;ge(yg,"Failed to update sequence numbers: "+w)}for(const w of p){const T=w.targetId;if(!w.fromCache){const _=g.Ms.get(T),S=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(S);g.Ms=g.Ms.insert(T,C)}}})(r.localStore,a))}async function mL(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){ge(Sg,"User change. New user:",e.toKey());const r=await ST(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new pe(ne.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(t,r.Ls)}}function gL(n,e){const t=Le(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let i=ze();const a=t.Iu.get(e);if(!a)return i;for(const u of a){const h=t.Tu.get(u);i=i.unionWith(h.view.nu)}return i}}function zT(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dL.bind(null,e),e.Pu.H_=JM.bind(null,e.eventManager),e.Pu.yu=ZM.bind(null,e.eventManager),e}function yL(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fL.bind(null,e),e}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return vM(this.persistence,new mM,e.initialUser,this.serializer)}Cu(e){return new IT(mg.mi,this.serializer)}Du(e){return new SM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class vL extends bd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof Sd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eM(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new IT((r=>Sd.mi(r,t)),this.serializer)}}class gm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mL.bind(null,this.syncEngine),await KM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QM})()}createDatastore(e){const t=th(e.databaseInfo.databaseId),r=(function(a){return new PM(a)})(e.databaseInfo);return(function(a,u,h,f){return new OM(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,u,h){return new LM(r,i,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>a_(this.syncEngine,t,0)),(function(){return t_.v()?new t_:new CM})())}createSyncEngine(e,t){return(function(i,a,u,h,f,p,g){const w=new sL(i,a,u,h,f,p);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Le(t);ge(mo,"RemoteStore shutting down."),r.Ea.add(5),await Eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class wL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ri="FirestoreClient";class _L{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ge(Ri,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ge(Ri,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Tg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function np(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Ri,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await ST(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function u_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await EL(n);ge(Ri,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>r_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>r_(e.remoteStore,i))),n._onlineComponents=e}async function EL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Ri,"Using user provided OfflineComponentProvider");try{await np(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Sa("Error using user provided cache. Falling back to memory cache: "+t),await np(n,new bd)}}else ge(Ri,"Using default OfflineComponentProvider"),await np(n,new vL(void 0));return n._offlineComponents}async function $T(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Ri,"Using user provided OnlineComponentProvider"),await u_(n,n._uninitializedComponentsProvider._online)):(ge(Ri,"Using default OnlineComponentProvider"),await u_(n,new gm))),n._onlineComponents}function xL(n){return $T(n).then((e=>e.syncEngine))}async function c_(n){const e=await $T(n),t=e.eventManager;return t.onListen=iL.bind(null,e.syncEngine),t.onUnlisten=lL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uL.bind(null,e.syncEngine),t}function qT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const d_=new Map;const HT="firestore.googleapis.com",h_=!0;class f_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HT,this.ssl=h_}else this.host=e.host,this.ssl=e.ssl??h_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J4)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CO;switch(r.type){case"firstParty":return new PO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=d_.get(t);r&&(ge("ComponentProvider","Removing Datastore"),d_.delete(t),r.terminate())})(this),Promise.resolve()}}function TL(n,e,t,r={}){n=vi(n,sh);const i=Fa(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;i&&(z1(`https://${h}`),$1("Firestore",!0)),a.host!==HT&&a.host!==h&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:i,emulatorOptions:r};if(!co(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=rn.MOCK_USER;else{p=J2(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new rn(w)}n._authCredentials=new bO(new Mx(p,g))}}class _o{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(vu(t,bt._jsonSchema))return new bt(e,r||null,new Se(rt.fromString(t.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Ct("string",bt._jsonSchemaVersion),referencePath:Ct("string")};class wi extends _o{constructor(e,t,r){super(e,t,lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new Se(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function Na(n,e,...t){if(n=jt(n),Lx("collection","path",e),n instanceof sh){const r=rt.fromString(e,...t);return S0(r),new wi(n,null,r)}{if(!(n instanceof bt||n instanceof wi))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return S0(r),new wi(n.firestore,null,r)}}function Kr(n,e,...t){if(n=jt(n),arguments.length===1&&(e=ng.newId()),Lx("doc","path",e),n instanceof sh){const r=rt.fromString(e,...t);return I0(r),new bt(n,null,new Se(r))}{if(!(n instanceof bt||n instanceof wi))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return I0(r),new bt(n.firestore,n instanceof wi?n.converter:null,new Se(r))}}const p_="AsyncQueue";class m_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bT(this,"async_queue_retry"),this._c=()=>{const r=tp();r&&ge(p_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=tp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=tp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ao;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qa(e))throw e;ge(p_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",g_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=xg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Pe(47125,{Pc:g_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function g_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function y_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class ka extends sh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new m_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}}function IL(n,e){const t=typeof n=="object"?n:K1(),r=typeof n=="string"?n:wd,i=qm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Y2("firestore");a&&TL(i,...a)}return i}function WT(n){if(n._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SL(n),n._firestoreClient}function SL(n){const e=n._freezeSettings(),t=(function(i,a,u,h){return new KO(i,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new _L(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(n._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Wt.fromBase64String(e))}catch(t){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ct("string",Yn._jsonSchemaVersion),bytes:Ct("string")};class ih{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bg{constructor(e){this._methodName=e}}class Gr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(e){if(vu(e,Gr._jsonSchema))return new Gr(e.latitude,e.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:Ct("string",Gr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Qr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,Qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Qr(e.vectorValues);throw new pe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qr._jsonSchemaVersion="firestore/vectorValue/1.0",Qr._jsonSchema={type:Ct("string",Qr._jsonSchemaVersion),vectorValues:Ct("object")};const CL=/^__.*__$/;class bL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}class KT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Di(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:n})}}class Ag{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ad(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GT(this.Ac)&&CL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||th(e)}Cc(e,t,r,i=!1){return new Ag({Ac:e,methodName:t,Dc:r,path:Ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(n){const e=n._freezeSettings(),t=th(n._databaseId);return new AL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RL(n,e,t,r,i,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);Pg("Data must be an object, but it was:",u,r);const h=QT(r,u);let f,p;if(a.merge)f=new Vn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const T=ym(e,w,t);if(!u.contains(T))throw new pe(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);XT(g,T)||g.push(T)}f=new Vn(g),p=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,p=u.fieldTransforms;return new bL(new En(h),f,p)}class oh extends bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}function PL(n,e,t,r){const i=n.Cc(1,e,t);Pg("Data must be an object, but it was:",i,r);const a=[],u=En.empty();ki(r,((f,p)=>{const g=Ng(e,f,t);p=jt(p);const w=i.yc(g);if(p instanceof oh)a.push(g);else{const T=Tu(p,w);T!=null&&(a.push(g),u.set(g,T))}}));const h=new Vn(a);return new KT(u,h,i.fieldTransforms)}function NL(n,e,t,r,i,a){const u=n.Cc(1,e,t),h=[ym(e,r,t)],f=[i];if(a.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(ym(e,a[T])),f.push(a[T+1]);const p=[],g=En.empty();for(let T=h.length-1;T>=0;--T)if(!XT(p,h[T])){const _=h[T];let S=f[T];S=jt(S);const C=u.yc(_);if(S instanceof oh)p.push(_);else{const b=Tu(S,C);b!=null&&(p.push(_),g.set(_,b))}}const w=new Vn(p);return new KT(g,w,u.fieldTransforms)}function kL(n,e,t,r=!1){return Tu(t,n.Cc(r?4:3,e))}function Tu(n,e){if(YT(n=jt(n)))return Pg("Unsupported field value:",e,n),QT(n,e);if(n instanceof bg)return(function(r,i){if(!GT(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let u=0;for(const h of r){let f=Tu(h,i.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ze.fromDate(r);return{timestampValue:Id(i.serializer,a)}}if(r instanceof Ze){const a=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,a)}}if(r instanceof Gr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:gT(i.serializer,r._byteString)};if(r instanceof bt){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qr)return(function(u,h){return{mapValue:{fields:{[Hx]:{stringValue:Wx},[_d]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return ug(h.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Wd(r)}`)})(n,e)}function QT(n,e){const t={};return Fx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(n,((r,i)=>{const a=Tu(i,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function YT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof Gr||n instanceof Yn||n instanceof bt||n instanceof bg||n instanceof Qr)}function Pg(n,e,t){if(!YT(t)||!Vx(t)){const r=Wd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function ym(n,e,t){if((e=jt(e))instanceof ih)return e._internalPath;if(typeof e=="string")return Ng(n,e);throw Ad("Field path arguments must be of type string or ",n,!1,void 0,t)}const DL=new RegExp("[~\\*/\\[\\]]");function Ng(n,e,t){if(e.search(DL)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ih(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ad(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new pe(ne.INVALID_ARGUMENT,h+n+f)}function XT(n,e){return n.some((t=>t.isEqual(e)))}class JT{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OL extends JT{data(){return super.data()}}function kg(n,e){return typeof e=="string"?Ng(n,e):e instanceof ih?e._internalPath:e._delegate._internalPath}function ML(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class ZT extends Dg{}function ah(n,e,...t){let r=[];e instanceof Dg&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof Mg)).length,h=a.filter((f=>f instanceof Og)).length;if(u>1||u>0&&h>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Og extends ZT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Og(e,t,r)}_apply(e){const t=this._parse(e);return eI(e._query,t),new _o(e.firestore,e.converter,om(e._query,t))}_parse(e){const t=Rg(e.firestore);return(function(a,u,h,f,p,g,w){let T;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){w_(w,g);const S=[];for(const C of w)S.push(v_(f,a,C));T={arrayValue:{values:S}}}else T=v_(f,a,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||w_(w,g),T=kL(h,u,w,g==="in"||g==="not-in");return St.create(p,g,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Mg extends Dg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let u=i;const h=a.getFlattenedFilters();for(const f of h)eI(u,f),u=om(u,f)})(e._query,t),new _o(e.firestore,e.converter,om(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lg extends ZT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lg(e,t)}_apply(e){const t=(function(i,a,u){if(i.startAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(a,u)})(e._query,this._field,this._direction);return new _o(e.firestore,e.converter,(function(i,a){const u=i.explicitOrderBy.concat([a]);return new Ha(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function lh(n,e="asc"){const t=e,r=kg("orderBy",n);return Lg._create(r,t)}function v_(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(e)&&t.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!Se.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D0(n,new Se(r))}if(t instanceof bt)return D0(n,t._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wd(t)}.`)}function w_(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eI(n,e){const t=(function(i,a){for(const u of i)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LL{convertValue(e,t="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ki(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[_d].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new Qr(t)}convertGeoPoint(e){return new Gr(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const t=Si(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Qe(xT(r),9688,{name:e});const i=new ou(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return i.isEqual(t)||Ps(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function VL(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends JT{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(kg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=lo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Ct("string",lo._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class nd extends lo{data(e={}){return super.data(e)}}class _a{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new nd(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((h=>{const f=new nd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new zl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new nd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new zl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:jL(h.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:n})}}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Ct("string",_a._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class tI extends LL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function nI(n,e,t,...r){n=vi(n,bt);const i=vi(n.firestore,ka),a=Rg(i);let u;return u=typeof(e=jt(e))=="string"||e instanceof ih?NL(a,"updateDoc",n._key,e,t,r):PL(a,"updateDoc",n._key,e),Vg(i,[u.toMutation(n._key,hr.exists(!0))])}function vm(n){return Vg(vi(n.firestore,ka),[new cg(n._key,hr.none())])}function rI(n,e){const t=vi(n.firestore,ka),r=Kr(n),i=VL(n.converter,e);return Vg(t,[RL(Rg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then((()=>r))}function Pi(n,...e){n=jt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||y_(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(y_(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,h;if(n instanceof bt)u=vi(n.firestore,ka),h=lg(n._key.path),a={next:f=>{e[r]&&e[r](FL(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=vi(n,_o);u=vi(f.firestore,ka),h=f._query;const p=new tI(u);a={next:g=>{e[r]&&e[r](new _a(u,p,f,g))},error:e[r+1],complete:e[r+2]},ML(n._query)}return(function(p,g,w,T){const _=new wL(T),S=new eL(g,_,w);return p.asyncQueue.enqueueAndForget((async()=>YM(await c_(p),S))),()=>{_.Nu(),p.asyncQueue.enqueueAndForget((async()=>XM(await c_(p),S)))}})(WT(u),h,i,a)}function Vg(n,e){return(function(r,i){const a=new ao;return r.asyncQueue.enqueueAndForget((async()=>cL(await xL(r),i,a))),a.promise})(WT(n),e)}function FL(n,e,t){const r=t.docs.get(e._key),i=new tI(n);return new lo(n,i,e._key,r,new zl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){za=i})(Ua),Ta(new ho("firestore",((r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new ka(new AO(r.getProvider("auth-internal")),new NO(u,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(p.options.projectId,g)})(u,i),u);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),mi(_0,E0,e),mi(_0,E0,"esm2020")})();var UL="firebase",BL="12.5.0";mi(UL,BL,"app");const zL={projectId:"premium-ember-475717-c9",appId:"1:1095959694703:web:63f45d993a502db6536c9a",databaseURL:"https://premium-ember-475717-c9-default-rtdb.firebaseio.com",storageBucket:"premium-ember-475717-c9.firebasestorage.app",apiKey:"AIzaSyCtVj27tqS7r2f5Mt7R3bseu8v3xJ2A30M",authDomain:"premium-ember-475717-c9.firebaseapp.com",messagingSenderId:"1095959694703"},sI=W1(zL),cn=IL(sI),jg=IO(sI),__=async()=>{{console.error("VITE_API_BASE_URL is not defined. Cannot call backend logout.");return}};function $L(){const n=ja(),e=yo(),[t,r]=D.useState(!1),i=async()=>{try{await __(),await vm(Kr(cn,"whatsapp_sessions","fusion-app")),await fD(jg),localStorage.clear(),sessionStorage.clear()}catch(f){console.error("Error during Google logout:",f)}},a=async()=>{try{await __(),await vm(Kr(cn,"whatsapp_sessions","fusion-app"))}catch(f){console.error("Error disconnecting from WhatsApp:",f)}},u=e.pathname.startsWith("/chat")||e.pathname==="/chats",h=e.pathname.startsWith("/crm");return E.jsx("header",{className:"border-b border-border bg-background",children:E.jsxs("div",{className:"px-4 py-3",children:[E.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary",children:E.jsx(Ts,{className:"h-5 w-5 text-primary-foreground"})}),E.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"WhatsApp"})]}),E.jsxs("div",{className:"flex items-center gap-2 relative",children:[E.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-secondary rounded-full transition-colors",children:E.jsx(RE,{className:"h-5 w-5 text-foreground"})}),t&&E.jsxs("div",{className:"absolute right-0 top-12 w-56 rounded-lg border border-border bg-card shadow-lg z-50 py-1",children:[E.jsxs("button",{onClick:a,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-secondary transition-colors",children:[E.jsx(dw,{className:"h-4 w-4"}),"Cerrar sesin de WhatsApp"]}),E.jsx("div",{className:"my-1 h-px bg-border"}),E.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-destructive hover:bg-destructive/10 transition-colors",children:[E.jsx(dw,{className:"h-4 w-4"}),"Cerrar sesin Global"]})]})]})]}),E.jsxs("div",{className:"flex gap-4 border-t border-border pt-3",children:[E.jsxs("button",{onClick:()=>n("/chats"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors ${u?"bg-primary/20 text-primary":"text-muted-foreground hover:text-foreground"}`,children:[E.jsx(Ts,{className:"h-4 w-4"}),"Messages"]}),E.jsxs("button",{onClick:()=>n("/crm"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors ${h?"bg-primary/20 text-primary":"text-muted-foreground hover:text-foreground"}`,children:[E.jsx(NC,{className:"h-4 w-4"}),"CRM"]})]})]})})}function Vl({children:n}){return E.jsxs("div",{className:"flex h-screen flex-col bg-background",children:[E.jsx($L,{}),E.jsx("div",{className:"flex flex-1 overflow-hidden",children:n})]})}function qL(){const[n,e]=D.useState(!1);ja();const t=async()=>{e(!0);const r=new xs;try{await jD(jg,r)}catch(i){console.error("Error during Google sign-in:",i),e(!1)}};return E.jsxs("div",{className:"flex h-screen w-full bg-gradient-to-br from-background via-background to-primary/10",children:[E.jsxs("div",{className:"hidden lg:flex w-1/2 flex-col items-center justify-center bg-gradient-to-br from-primary/20 to-background/50 p-12",children:[E.jsx("div",{className:"mb-8 flex h-24 w-24 items-center justify-center rounded-full bg-primary/20 backdrop-blur-xl border border-primary/30",children:E.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary",children:E.jsx(Ts,{className:"h-10 w-10 text-primary-foreground"})})}),E.jsx("h1",{className:"mb-4 text-5xl font-bold text-foreground",children:"WhatsApp"}),E.jsx("p",{className:"text-center text-lg text-muted-foreground",children:"Simple. Reliable. Messaging"}),E.jsxs("div",{className:"mt-12 space-y-4",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-1 flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:E.jsx(Ts,{className:"h-4 w-4 text-primary"})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-foreground",children:"Instant Messaging"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Send messages instantly"})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-1 flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:E.jsx(Ts,{className:"h-4 w-4 text-primary"})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-foreground",children:"End-to-End Encrypted"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Your messages are private"})]})]})]})]}),E.jsx("div",{className:"flex w-full lg:w-1/2 flex-col items-center justify-center p-6 sm:p-12",children:E.jsxs("div",{className:"w-full max-w-md",children:[E.jsxs("div",{className:"mb-8 flex lg:hidden flex-col items-center",children:[E.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary",children:E.jsx(Ts,{className:"h-8 w-8 text-primary-foreground"})}),E.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"WhatsApp"})]}),E.jsxs("div",{className:"mb-8 text-center",children:[E.jsx("h2",{className:"mb-2 text-2xl font-bold text-foreground",children:"Sign In"}),E.jsx("p",{className:"text-muted-foreground",children:"Use your Google account to get started"})]}),E.jsxs("button",{onClick:t,disabled:n,className:"mb-6 w-full flex items-center justify-center gap-3 rounded-lg border border-border bg-card px-4 py-3 font-medium text-foreground transition-colors hover:bg-secondary disabled:opacity-50",children:[E.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n?"Redirecting...":"Sign in with Google"]}),E.jsx("div",{className:"mt-8 border-t border-border pt-6 text-center text-xs text-muted-foreground",children:E.jsx("p",{children:"By signing in, you agree to our Terms of Service"})})]})})]})}var aa={},rp,E_;function HL(){return E_||(E_=1,rp=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),rp}var sp={},oi={},x_;function Eo(){if(x_)return oi;x_=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return oi.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},oi.getSymbolTotalCodewords=function(r){return e[r]},oi.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},oi.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},oi.isKanjiModeEnabled=function(){return typeof n<"u"},oi.toSJIS=function(r){return n(r)},oi}var ip={},T_;function Fg(){return T_||(T_=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(ip)),ip}var op,I_;function WL(){if(I_)return op;I_=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},op=n,op}var ap,S_;function KL(){if(S_)return ap;S_=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const a=e*this.size+t;this.data[a]=r,i&&(this.reservedBit[a]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},ap=n,ap}var lp={},C_;function GL(){return C_||(C_=1,(function(n){const e=Eo().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=e(r),u=a===145?26:Math.ceil((a-13)/(2*i-2))*2,h=[a-7];for(let f=1;f<i-1;f++)h[f]=h[f-1]-u;return h.push(6),h.reverse()},n.getPositions=function(r){const i=[],a=n.getRowColCoords(r),u=a.length;for(let h=0;h<u;h++)for(let f=0;f<u;f++)h===0&&f===0||h===0&&f===u-1||h===u-1&&f===0||i.push([a[h],a[f]]);return i}})(lp)),lp}var up={},b_;function QL(){if(b_)return up;b_=1;const n=Eo().getSymbolSize,e=7;return up.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},up}var cp={},A_;function YL(){return A_||(A_=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const a=i.size;let u=0,h=0,f=0,p=null,g=null;for(let w=0;w<a;w++){h=f=0,p=g=null;for(let T=0;T<a;T++){let _=i.get(w,T);_===p?h++:(h>=5&&(u+=e.N1+(h-5)),p=_,h=1),_=i.get(T,w),_===g?f++:(f>=5&&(u+=e.N1+(f-5)),g=_,f=1)}h>=5&&(u+=e.N1+(h-5)),f>=5&&(u+=e.N1+(f-5))}return u},n.getPenaltyN2=function(i){const a=i.size;let u=0;for(let h=0;h<a-1;h++)for(let f=0;f<a-1;f++){const p=i.get(h,f)+i.get(h,f+1)+i.get(h+1,f)+i.get(h+1,f+1);(p===4||p===0)&&u++}return u*e.N2},n.getPenaltyN3=function(i){const a=i.size;let u=0,h=0,f=0;for(let p=0;p<a;p++){h=f=0;for(let g=0;g<a;g++)h=h<<1&2047|i.get(p,g),g>=10&&(h===1488||h===93)&&u++,f=f<<1&2047|i.get(g,p),g>=10&&(f===1488||f===93)&&u++}return u*e.N3},n.getPenaltyN4=function(i){let a=0;const u=i.data.length;for(let f=0;f<u;f++)a+=i.data[f];return Math.abs(Math.ceil(a*100/u/5)-10)*e.N4};function t(r,i,a){switch(r){case n.Patterns.PATTERN000:return(i+a)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return a%3===0;case n.Patterns.PATTERN011:return(i+a)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case n.Patterns.PATTERN101:return i*a%2+i*a%3===0;case n.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case n.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,a){const u=a.size;for(let h=0;h<u;h++)for(let f=0;f<u;f++)a.isReserved(f,h)||a.xor(f,h,t(i,f,h))},n.getBestMask=function(i,a){const u=Object.keys(n.Patterns).length;let h=0,f=1/0;for(let p=0;p<u;p++){a(p),n.applyMask(p,i);const g=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(p,i),g<f&&(f=g,h=p)}return h}})(cp)),cp}var $c={},R_;function iI(){if(R_)return $c;R_=1;const n=Fg(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return $c.getBlocksCount=function(i,a){switch(a){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},$c.getTotalCodewordsCount=function(i,a){switch(a){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},$c}var dp={},jl={},P_;function XL(){if(P_)return jl;P_=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]})(),jl.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},jl.exp=function(r){return n[r]},jl.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},jl}var N_;function JL(){return N_||(N_=1,(function(n){const e=XL();n.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let u=0;u<r.length;u++)for(let h=0;h<i.length;h++)a[u+h]^=e.mul(r[u],i[h]);return a},n.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const u=a[0];for(let f=0;f<i.length;f++)a[f]^=e.mul(i[f],u);let h=0;for(;h<a.length&&a[h]===0;)h++;a=a.slice(h)}return a},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=n.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(dp)),dp}var hp,k_;function ZL(){if(k_)return hp;k_=1;const n=JL();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=n.mod(i,this.genPoly),u=this.degree-a.length;if(u>0){const h=new Uint8Array(this.degree);return h.set(a,u),h}return a},hp=e,hp}var fp={},pp={},mp={},D_;function oI(){return D_||(D_=1,mp.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),mp}var Fr={},O_;function aI(){if(O_)return Fr;O_=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Fr.KANJI=new RegExp(t,"g"),Fr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Fr.BYTE=new RegExp(r,"g"),Fr.NUMERIC=new RegExp(n,"g"),Fr.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),a=new RegExp("^"+n+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Fr.testKanji=function(f){return i.test(f)},Fr.testNumeric=function(f){return a.test(f)},Fr.testAlphanumeric=function(f){return u.test(f)},Fr}var M_;function xo(){return M_||(M_=1,(function(n){const e=oI(),t=aI();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(a,u){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?a.ccBits[0]:u<27?a.ccBits[1]:a.ccBits[2]},n.getBestModeForData=function(a){return t.testNumeric(a)?n.NUMERIC:t.testAlphanumeric(a)?n.ALPHANUMERIC:t.testKanji(a)?n.KANJI:n.BYTE},n.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},n.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(a,u){if(n.isValid(a))return a;try{return r(a)}catch{return u}}})(pp)),pp}var L_;function eV(){return L_||(L_=1,(function(n){const e=Eo(),t=iI(),r=Fg(),i=xo(),a=oI(),u=7973,h=e.getBCHDigit(u);function f(T,_,S){for(let C=1;C<=40;C++)if(_<=n.getCapacity(C,S,T))return C}function p(T,_){return i.getCharCountIndicator(T,_)+4}function g(T,_){let S=0;return T.forEach(function(C){const b=p(C.mode,_);S+=b+C.getBitsLength()}),S}function w(T,_){for(let S=1;S<=40;S++)if(g(T,S)<=n.getCapacity(S,_,i.MIXED))return S}n.from=function(_,S){return a.isValid(_)?parseInt(_,10):S},n.getCapacity=function(_,S,C){if(!a.isValid(_))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=i.BYTE);const b=e.getSymbolTotalCodewords(_),j=t.getTotalCodewordsCount(_,S),U=(b-j)*8;if(C===i.MIXED)return U;const B=U-p(C,_);switch(C){case i.NUMERIC:return Math.floor(B/10*3);case i.ALPHANUMERIC:return Math.floor(B/11*2);case i.KANJI:return Math.floor(B/13);case i.BYTE:default:return Math.floor(B/8)}},n.getBestVersionForData=function(_,S){let C;const b=r.from(S,r.M);if(Array.isArray(_)){if(_.length>1)return w(_,b);if(_.length===0)return 1;C=_[0]}else C=_;return f(C.mode,C.getLength(),b)},n.getEncodedBits=function(_){if(!a.isValid(_)||_<7)throw new Error("Invalid QR Code version");let S=_<<12;for(;e.getBCHDigit(S)-h>=0;)S^=u<<e.getBCHDigit(S)-h;return _<<12|S}})(fp)),fp}var gp={},V_;function tV(){if(V_)return gp;V_=1;const n=Eo(),e=1335,t=21522,r=n.getBCHDigit(e);return gp.getEncodedBits=function(a,u){const h=a.bit<<3|u;let f=h<<10;for(;n.getBCHDigit(f)-r>=0;)f^=e<<n.getBCHDigit(f)-r;return(h<<10|f)^t},gp}var yp={},vp,j_;function nV(){if(j_)return vp;j_=1;const n=xo();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,a,u;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),u=parseInt(a,10),r.put(u,10);const h=this.data.length-i;h>0&&(a=this.data.substr(i),u=parseInt(a,10),r.put(u,h*3+1))},vp=e,vp}var wp,F_;function rV(){if(F_)return wp;F_=1;const n=xo(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let u=e.indexOf(this.data[a])*45;u+=e.indexOf(this.data[a+1]),i.put(u,11)}this.data.length%2&&i.put(e.indexOf(this.data[a]),6)},wp=t,wp}var _p,U_;function sV(){if(U_)return _p;U_=1;const n=xo();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},_p=e,_p}var Ep,B_;function iV(){if(B_)return Ep;B_=1;const n=xo(),e=Eo();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=e.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},Ep=t,Ep}var xp={exports:{}},z_;function oV(){return z_||(z_=1,(function(n){var e={single_source_shortest_paths:function(t,r,i){var a={},u={};u[r]=0;var h=e.PriorityQueue.make();h.push(r,0);for(var f,p,g,w,T,_,S,C,b;!h.empty();){f=h.pop(),p=f.value,w=f.cost,T=t[p]||{};for(g in T)T.hasOwnProperty(g)&&(_=T[g],S=w+_,C=u[g],b=typeof u[g]>"u",(b||C>S)&&(u[g]=S,h.push(g,S),a[g]=p))}if(typeof i<"u"&&typeof u[i]>"u"){var j=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(j)}return a},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],a=r;a;)i.push(a),t[a],a=t[a];return i.reverse(),i},find_path:function(t,r,i){var a=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},a;t=t||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(xp)),xp.exports}var $_;function aV(){return $_||($_=1,(function(n){const e=xo(),t=nV(),r=rV(),i=sV(),a=iV(),u=aI(),h=Eo(),f=oV();function p(j){return unescape(encodeURIComponent(j)).length}function g(j,U,B){const q=[];let ee;for(;(ee=j.exec(B))!==null;)q.push({data:ee[0],index:ee.index,mode:U,length:ee[0].length});return q}function w(j){const U=g(u.NUMERIC,e.NUMERIC,j),B=g(u.ALPHANUMERIC,e.ALPHANUMERIC,j);let q,ee;return h.isKanjiModeEnabled()?(q=g(u.BYTE,e.BYTE,j),ee=g(u.KANJI,e.KANJI,j)):(q=g(u.BYTE_KANJI,e.BYTE,j),ee=[]),U.concat(B,q,ee).sort(function(k,A){return k.index-A.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function T(j,U){switch(U){case e.NUMERIC:return t.getBitsLength(j);case e.ALPHANUMERIC:return r.getBitsLength(j);case e.KANJI:return a.getBitsLength(j);case e.BYTE:return i.getBitsLength(j)}}function _(j){return j.reduce(function(U,B){const q=U.length-1>=0?U[U.length-1]:null;return q&&q.mode===B.mode?(U[U.length-1].data+=B.data,U):(U.push(B),U)},[])}function S(j){const U=[];for(let B=0;B<j.length;B++){const q=j[B];switch(q.mode){case e.NUMERIC:U.push([q,{data:q.data,mode:e.ALPHANUMERIC,length:q.length},{data:q.data,mode:e.BYTE,length:q.length}]);break;case e.ALPHANUMERIC:U.push([q,{data:q.data,mode:e.BYTE,length:q.length}]);break;case e.KANJI:U.push([q,{data:q.data,mode:e.BYTE,length:p(q.data)}]);break;case e.BYTE:U.push([{data:q.data,mode:e.BYTE,length:p(q.data)}])}}return U}function C(j,U){const B={},q={start:{}};let ee=["start"];for(let G=0;G<j.length;G++){const k=j[G],A=[];for(let P=0;P<k.length;P++){const L=k[P],O=""+G+P;A.push(O),B[O]={node:L,lastCount:0},q[O]={};for(let M=0;M<ee.length;M++){const R=ee[M];B[R]&&B[R].node.mode===L.mode?(q[R][O]=T(B[R].lastCount+L.length,L.mode)-T(B[R].lastCount,L.mode),B[R].lastCount+=L.length):(B[R]&&(B[R].lastCount=L.length),q[R][O]=T(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,U))}}ee=A}for(let G=0;G<ee.length;G++)q[ee[G]].end=0;return{map:q,table:B}}function b(j,U){let B;const q=e.getBestModeForData(j);if(B=e.from(U,q),B!==e.BYTE&&B.bit<q.bit)throw new Error('"'+j+'" cannot be encoded with mode '+e.toString(B)+`.
 Suggested mode is: `+e.toString(q));switch(B===e.KANJI&&!h.isKanjiModeEnabled()&&(B=e.BYTE),B){case e.NUMERIC:return new t(j);case e.ALPHANUMERIC:return new r(j);case e.KANJI:return new a(j);case e.BYTE:return new i(j)}}n.fromArray=function(U){return U.reduce(function(B,q){return typeof q=="string"?B.push(b(q,null)):q.data&&B.push(b(q.data,q.mode)),B},[])},n.fromString=function(U,B){const q=w(U,h.isKanjiModeEnabled()),ee=S(q),G=C(ee,B),k=f.find_path(G.map,"start","end"),A=[];for(let P=1;P<k.length-1;P++)A.push(G.table[k[P]].node);return n.fromArray(_(A))},n.rawSplit=function(U){return n.fromArray(w(U,h.isKanjiModeEnabled()))}})(yp)),yp}var q_;function lV(){if(q_)return sp;q_=1;const n=Eo(),e=Fg(),t=WL(),r=KL(),i=GL(),a=QL(),u=YL(),h=iI(),f=ZL(),p=eV(),g=tV(),w=xo(),T=aV();function _(G,k){const A=G.size,P=a.getPositions(k);for(let L=0;L<P.length;L++){const O=P[L][0],M=P[L][1];for(let R=-1;R<=7;R++)if(!(O+R<=-1||A<=O+R))for(let J=-1;J<=7;J++)M+J<=-1||A<=M+J||(R>=0&&R<=6&&(J===0||J===6)||J>=0&&J<=6&&(R===0||R===6)||R>=2&&R<=4&&J>=2&&J<=4?G.set(O+R,M+J,!0,!0):G.set(O+R,M+J,!1,!0))}}function S(G){const k=G.size;for(let A=8;A<k-8;A++){const P=A%2===0;G.set(A,6,P,!0),G.set(6,A,P,!0)}}function C(G,k){const A=i.getPositions(k);for(let P=0;P<A.length;P++){const L=A[P][0],O=A[P][1];for(let M=-2;M<=2;M++)for(let R=-2;R<=2;R++)M===-2||M===2||R===-2||R===2||M===0&&R===0?G.set(L+M,O+R,!0,!0):G.set(L+M,O+R,!1,!0)}}function b(G,k){const A=G.size,P=p.getEncodedBits(k);let L,O,M;for(let R=0;R<18;R++)L=Math.floor(R/3),O=R%3+A-8-3,M=(P>>R&1)===1,G.set(L,O,M,!0),G.set(O,L,M,!0)}function j(G,k,A){const P=G.size,L=g.getEncodedBits(k,A);let O,M;for(O=0;O<15;O++)M=(L>>O&1)===1,O<6?G.set(O,8,M,!0):O<8?G.set(O+1,8,M,!0):G.set(P-15+O,8,M,!0),O<8?G.set(8,P-O-1,M,!0):O<9?G.set(8,15-O-1+1,M,!0):G.set(8,15-O-1,M,!0);G.set(P-8,8,1,!0)}function U(G,k){const A=G.size;let P=-1,L=A-1,O=7,M=0;for(let R=A-1;R>0;R-=2)for(R===6&&R--;;){for(let J=0;J<2;J++)if(!G.isReserved(L,R-J)){let Te=!1;M<k.length&&(Te=(k[M]>>>O&1)===1),G.set(L,R-J,Te),O--,O===-1&&(M++,O=7)}if(L+=P,L<0||A<=L){L-=P,P=-P;break}}}function B(G,k,A){const P=new t;A.forEach(function(J){P.put(J.mode.bit,4),P.put(J.getLength(),w.getCharCountIndicator(J.mode,G)),J.write(P)});const L=n.getSymbolTotalCodewords(G),O=h.getTotalCodewordsCount(G,k),M=(L-O)*8;for(P.getLengthInBits()+4<=M&&P.put(0,4);P.getLengthInBits()%8!==0;)P.putBit(0);const R=(M-P.getLengthInBits())/8;for(let J=0;J<R;J++)P.put(J%2?17:236,8);return q(P,G,k)}function q(G,k,A){const P=n.getSymbolTotalCodewords(k),L=h.getTotalCodewordsCount(k,A),O=P-L,M=h.getBlocksCount(k,A),R=P%M,J=M-R,Te=Math.floor(P/M),we=Math.floor(O/M),ve=we+1,Z=Te-we,te=new f(Z);let ie=0;const z=new Array(M),X=new Array(M);let de=0;const he=new Uint8Array(G.buffer);for(let Ve=0;Ve<M;Ve++){const et=Ve<J?we:ve;z[Ve]=he.slice(ie,ie+et),X[Ve]=te.encode(z[Ve]),ie+=et,de=Math.max(de,et)}const Ie=new Uint8Array(P);let Ne=0,me,Re;for(me=0;me<de;me++)for(Re=0;Re<M;Re++)me<z[Re].length&&(Ie[Ne++]=z[Re][me]);for(me=0;me<Z;me++)for(Re=0;Re<M;Re++)Ie[Ne++]=X[Re][me];return Ie}function ee(G,k,A,P){let L;if(Array.isArray(G))L=T.fromArray(G);else if(typeof G=="string"){let Te=k;if(!Te){const we=T.rawSplit(G);Te=p.getBestVersionForData(we,A)}L=T.fromString(G,Te||40)}else throw new Error("Invalid data");const O=p.getBestVersionForData(L,A);if(!O)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=O;else if(k<O)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+O+`.
`);const M=B(k,A,L),R=n.getSymbolSize(k),J=new r(R);return _(J,k),S(J),C(J,k),j(J,A,0),k>=7&&b(J,k),U(J,M),isNaN(P)&&(P=u.getBestMask(J,j.bind(null,J,A))),u.applyMask(P,J),j(J,A,P),{modules:J,version:k,errorCorrectionLevel:A,maskPattern:P,segments:L}}return sp.create=function(k,A){if(typeof k>"u"||k==="")throw new Error("No input text");let P=e.M,L,O;return typeof A<"u"&&(P=e.from(A.errorCorrectionLevel,e.M),L=p.from(A.version),O=u.from(A.maskPattern),A.toSJISFunc&&n.setToSJISFunction(A.toSJISFunc)),ee(k,L,P,O)},sp}var Tp={},Ip={},H_;function lI(){return H_||(H_=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:a,scale:a?4:u,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const a=n.getScale(r,i);return Math.floor((r+i.margin*2)*a)},n.qrToImageData=function(r,i,a){const u=i.modules.size,h=i.modules.data,f=n.getScale(u,a),p=Math.floor((u+a.margin*2)*f),g=a.margin*f,w=[a.color.light,a.color.dark];for(let T=0;T<p;T++)for(let _=0;_<p;_++){let S=(T*p+_)*4,C=a.color.light;if(T>=g&&_>=g&&T<p-g&&_<p-g){const b=Math.floor((T-g)/f),j=Math.floor((_-g)/f);C=w[h[b*u+j]?1:0]}r[S++]=C.r,r[S++]=C.g,r[S++]=C.b,r[S]=C.a}}})(Ip)),Ip}var W_;function uV(){return W_||(W_=1,(function(n){const e=lI();function t(i,a,u){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=u,a.width=u,a.style.height=u+"px",a.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(a,u,h){let f=h,p=u;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),u||(p=r()),f=e.getOptions(f);const g=e.getImageWidth(a.modules.size,f),w=p.getContext("2d"),T=w.createImageData(g,g);return e.qrToImageData(T.data,a,f),t(w,p,g),w.putImageData(T,0,0),p},n.renderToDataURL=function(a,u,h){let f=h;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),f||(f={});const p=n.render(a,u,f),g=f.type||"image/png",w=f.rendererOpts||{};return p.toDataURL(g,w.quality)}})(Tp)),Tp}var Sp={},K_;function cV(){if(K_)return Sp;K_=1;const n=lI();function e(i,a){const u=i.a/255,h=a+'="'+i.hex+'"';return u<1?h+" "+a+'-opacity="'+u.toFixed(2).slice(1)+'"':h}function t(i,a,u){let h=i+a;return typeof u<"u"&&(h+=" "+u),h}function r(i,a,u){let h="",f=0,p=!1,g=0;for(let w=0;w<i.length;w++){const T=Math.floor(w%a),_=Math.floor(w/a);!T&&!p&&(p=!0),i[w]?(g++,w>0&&T>0&&i[w-1]||(h+=p?t("M",T+u,.5+_+u):t("m",f,0),f=0,p=!1),T+1<a&&i[w+1]||(h+=t("h",g),g=0)):f++}return h}return Sp.render=function(a,u,h){const f=n.getOptions(u),p=a.modules.size,g=a.modules.data,w=p+f.margin*2,T=f.color.light.a?"<path "+e(f.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",_="<path "+e(f.color.dark,"stroke")+' d="'+r(g,p,f.margin)+'"/>',S='viewBox="0 0 '+w+" "+w+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+S+' shape-rendering="crispEdges">'+T+_+`</svg>
`;return typeof h=="function"&&h(null,b),b},Sp}var G_;function dV(){if(G_)return aa;G_=1;const n=HL(),e=lV(),t=uV(),r=cV();function i(a,u,h,f,p){const g=[].slice.call(arguments,1),w=g.length,T=typeof g[w-1]=="function";if(!T&&!n())throw new Error("Callback required as last argument");if(T){if(w<2)throw new Error("Too few arguments provided");w===2?(p=h,h=u,u=f=void 0):w===3&&(u.getContext&&typeof p>"u"?(p=f,f=void 0):(p=f,f=h,h=u,u=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(h=u,u=f=void 0):w===2&&!u.getContext&&(f=h,h=u,u=void 0),new Promise(function(_,S){try{const C=e.create(h,f);_(a(C,u,f))}catch(C){S(C)}})}try{const _=e.create(h,f);p(null,a(_,u,f))}catch(_){p(_)}}return aa.create=e.create,aa.toCanvas=i.bind(null,t.render),aa.toDataURL=i.bind(null,t.renderToDataURL),aa.toString=i.bind(null,function(a,u,h){return r.render(a,h)}),aa}var hV=dV();const fV=wm(hV);function pV(){const[n,e]=D.useState(null),[t,r]=D.useState("pending"),i=D.useRef(null);return D.useEffect(()=>{const a=Pi(Kr(cn,"whatsapp_sessions","fusion-app"),u=>{const h=u.data();h?(r(h.status||"disconnected"),e(h.qr||null)):(r("disconnected"),e(null))});return()=>a()},[]),D.useEffect(()=>{n&&t==="pending"&&i.current&&fV.toCanvas(i.current,n,{width:220,margin:1})},[n,t]),t==="connected"?E.jsx(la,{to:"/chats",replace:!0}):E.jsxs("div",{className:"flex h-screen w-full bg-gradient-to-br from-background via-background to-primary/10",children:[E.jsxs("div",{className:"hidden lg:flex w-1/2 flex-col items-center justify-center bg-gradient-to-br from-primary/20 to-background/50 p-12",children:[E.jsx("div",{className:"mb-8 flex h-24 w-24 items-center justify-center rounded-full bg-primary/20 backdrop-blur-xl border border-primary/30",children:E.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary",children:E.jsx(Ts,{className:"h-10 w-10 text-primary-foreground"})})}),E.jsx("h1",{className:"mb-4 text-5xl font-bold text-foreground",children:"WhatsApp"}),E.jsx("p",{className:"text-center text-lg text-muted-foreground mb-12",children:"Connect Your Device"}),E.jsxs("div",{className:"space-y-6 max-w-sm",children:[E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/20 flex-shrink-0",children:E.jsx("span",{className:"text-lg font-semibold text-primary",children:"1"})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-foreground mb-1",children:"Open WhatsApp on Your Phone"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Make sure your phone is nearby and connected to the internet"})]})]}),E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/20 flex-shrink-0",children:E.jsx("span",{className:"text-lg font-semibold text-primary",children:"2"})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-foreground mb-1",children:"Scan the QR Code"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Go to Settings  Linked Devices  Link a Device and scan the QR code"})]})]}),E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/20 flex-shrink-0",children:E.jsx("span",{className:"text-lg font-semibold text-primary",children:"3"})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-foreground mb-1",children:"You're All Set"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Once scanned, you'll be connected and ready to message"})]})]})]}),E.jsx("div",{className:"mt-12 p-4 rounded-lg bg-primary/10 border border-primary/20 max-w-sm",children:E.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.jsx("span",{className:"font-semibold text-foreground block mb-1",children:" Keep Your QR Code Private"}),"Never share your QR code with anyone. Anyone with your QR code can access your WhatsApp account."]})})]}),E.jsx("div",{className:"flex w-full lg:w-1/2 flex-col items-center justify-center p-6 sm:p-12",children:E.jsxs("div",{className:"w-full max-w-md",children:[E.jsxs("div",{className:"mb-8 flex lg:hidden flex-col items-center",children:[E.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary",children:E.jsx(Ts,{className:"h-8 w-8 text-primary-foreground"})}),E.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"WhatsApp"})]}),E.jsxs("div",{className:"mb-8 text-center",children:[E.jsx("h2",{className:"mb-2 text-2xl font-bold text-foreground",children:"Scan QR Code"}),E.jsx("p",{className:"text-muted-foreground",children:"Use your phone to scan this code to connect"})]}),E.jsx("div",{className:"mb-8 flex flex-col items-center",children:E.jsx("div",{className:"relative w-64 h-64 bg-white rounded-2xl shadow-2xl p-4 flex items-center justify-center",children:n&&t==="pending"?E.jsx("canvas",{ref:i}):E.jsx("div",{className:"flex flex-col items-center",children:t==="connected"?E.jsxs(E.Fragment,{children:[E.jsx(DC,{className:"h-20 w-20 text-primary mx-auto mb-4"}),E.jsx("p",{className:"text-lg font-bold text-primary",children:"Connected!"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-primary/20 border-t-primary animate-spin mb-2"}),E.jsx("p",{className:"text-sm text-foreground font-medium",children:"Waiting for Server..."})]})})})})]})})]})}const mV=n=>{if(!n)return"";const e=n.toDate(),t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(r);return i.setDate(i.getDate()-1),e>=r?e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):e>=i?"Yesterday":e.toLocaleDateString()},gV=n=>{if(!n)return"?";const e=n.split(" ");return e.length>1?e[0][0]+e[1][0]:n.substring(0,2)};function uI(){const[n,e]=D.useState([]),[t,r]=D.useState("");D.useEffect(()=>{const a=ah(Na(cn,"chats"),lh("timestamp","desc")),u=Pi(a,h=>{const f=[];h.forEach(p=>{f.push({...p.data(),id:p.id})}),e(f)});return()=>u()},[]);const i=n.filter(a=>a.name&&a.name.toLowerCase().includes(t.toLowerCase()));return E.jsxs("div",{className:"flex w-full h-full bg-background",children:[E.jsxs("div",{className:"w-full sm:w-96 flex flex-col border-r border-border bg-background",children:[E.jsx("div",{className:"border-b border-border p-4",children:E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",placeholder:"Search or start new chat",value:t,onChange:a=>r(a.target.value),className:"w-full rounded-full bg-secondary px-4 py-2 pl-10 text-sm text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),E.jsx(kp,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"})]})}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:i.map(a=>E.jsxs(M1,{to:`/chats/${a.id}`,className:"flex items-start gap-3 border-b border-border px-4 py-3 hover:bg-secondary transition-colors cursor-pointer",children:[E.jsx("div",{className:"relative mt-1 flex-shrink-0",children:E.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold",children:gV(a.name)})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h3",{className:"font-semibold text-foreground truncate",children:a.name}),E.jsx("span",{className:"ml-2 flex-shrink-0 text-xs text-muted-foreground",children:mV(a.timestamp)})]}),E.jsx("p",{className:"mt-1 text-sm text-muted-foreground truncate",children:a.lastMessage})]}),a.unreadCount>0&&E.jsx("div",{className:"ml-2 flex-shrink-0",children:E.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs font-semibold text-primary-foreground",children:a.unreadCount>9?"9+":a.unreadCount})})]},a.id))})]}),E.jsx("div",{className:"hidden sm:flex flex-1 items-center justify-center bg-gradient-to-br from-background to-secondary",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"flex justify-center mb-4",children:E.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary/10",children:E.jsx(Ts,{className:"h-10 w-10 text-primary"})})}),E.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Select a chat to start messaging"}),E.jsx("p",{className:"text-muted-foreground",children:"Choose from your existing conversations or start a new chat"})]})})]})}function yV(){return E.jsx(uI,{})}const vV=n=>n?n.toDate().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"",wV=n=>{if(!n)return"?";const e=n.split(" ");return e.length>1?e[0][0]+e[1][0]:n.substring(0,2)};function _V(){const{id:n}=P1(),e=ja(),t=D.useRef(null),[r,i]=D.useState(""),[a,u]=D.useState(null),[h,f]=D.useState([]),p=()=>{t.current?.scrollIntoView({behavior:"smooth"})};D.useEffect(()=>{if(!n)return;const w=Kr(cn,"chats",n),T=Pi(w,_=>{_.exists()&&u({id:_.id,..._.data()})});return()=>T()},[n]),D.useEffect(()=>{if(!n)return;const w=Na(cn,"chats",n,"messages"),T=ah(w,lh("timestamp","asc")),_=Pi(T,S=>{const C=[];S.forEach(b=>{C.push({id:b.id,...b.data()})}),f(C)});return()=>_()},[n]),D.useEffect(()=>{p()},[h]);const g=async w=>{if(w.preventDefault(),!r.trim()||!n)return;const T=r;i("");try{if(!(await fetch("/api/whatsapp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:n,text:T})})).ok)throw new Error("Failed to send message")}catch(_){console.error("Error sending message:",_)}};return a?E.jsxs("div",{className:"flex h-full w-full flex-col bg-gradient-to-b from-background to-secondary/30",children:[E.jsx("div",{className:"border-b border-border bg-background px-4 py-3",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:()=>e("/"),className:"p-2 hover:bg-secondary rounded-full transition-colors sm:hidden",children:E.jsx(AE,{className:"h-5 w-5 text-foreground"})}),E.jsx("div",{className:"relative flex-shrink-0",children:E.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold text-sm",children:wV(a.name)})}),E.jsx("div",{className:"min-w-0",children:E.jsx("h2",{className:"font-semibold text-foreground",children:a.name})})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{className:"p-2 hover:bg-secondary rounded-full transition-colors",children:E.jsx(rd,{className:"h-5 w-5 text-foreground"})}),E.jsx("button",{className:"p-2 hover:bg-secondary rounded-full transition-colors",children:E.jsx(ob,{className:"h-5 w-5 text-foreground"})}),E.jsx("button",{className:"p-2 hover:bg-secondary rounded-full transition-colors",children:E.jsx(RE,{className:"h-5 w-5 text-foreground"})})]})]})}),E.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-3",children:[h.map(w=>E.jsx("div",{className:`flex ${w.fromMe?"justify-end":"justify-start"}`,children:E.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg rounded-2xl px-4 py-2 ${w.fromMe?"bg-primary text-primary-foreground rounded-br-none":"bg-card text-card-foreground border border-border rounded-bl-none"}`,children:[E.jsx("p",{className:"break-words text-sm",children:w.text}),E.jsx("div",{className:`mt-1 flex items-center justify-end gap-1 text-xs ${w.fromMe?"text-primary-foreground/70":"text-muted-foreground"}`,children:E.jsx("span",{children:vV(w.timestamp)})})]})},w.id)),E.jsx("div",{ref:t})]}),E.jsx("div",{className:"border-t border-border bg-background px-4 py-3",children:E.jsxs("form",{onSubmit:g,className:"flex items-end gap-2",children:[E.jsx("button",{type:"button",className:"p-2 hover:bg-secondary rounded-full transition-colors flex-shrink-0",children:E.jsx(XC,{className:"h-5 w-5 text-foreground"})}),E.jsx("button",{type:"button",className:"p-2 hover:bg-secondary rounded-full transition-colors flex-shrink-0",children:E.jsx(qC,{className:"h-5 w-5 text-foreground"})}),E.jsx("input",{type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"Type a message...",className:"flex-1 rounded-full bg-secondary px-4 py-2 text-sm text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),E.jsx("button",{type:"submit",disabled:!r.trim(),className:"p-2 hover:bg-primary/10 rounded-full transition-colors flex-shrink-0 disabled:opacity-50",children:E.jsx(QC,{className:"h-5 w-5 text-primary"})})]})})]}):E.jsx("div",{children:"Loading chat..."})}const EV=n=>{if(!n)return"?";const e=n.split(" ");return e.length>1?e[0][0]+e[1][0]:n.substring(0,2)},xV=n=>{if(!n)return"N/A";const e=n.toDate(),r=Math.floor((new Date().getTime()-e.getTime())/1e3);if(r<60)return`${r} seconds ago`;const i=Math.floor(r/60);if(i<60)return`${i} minutes ago`;const a=Math.floor(i/60);return a<24?`${a} hours ago`:`${Math.floor(a/24)} days ago`};function TV(){const[n,e]=D.useState([]),[t,r]=D.useState(""),[i,a]=D.useState("all"),[u,h]=D.useState(!1),[f,p]=D.useState({name:"",email:"",phone:"",company:""});D.useEffect(()=>{const S=ah(Na(cn,"crm_contacts"),lh("lastContact","desc")),C=Pi(S,b=>{const j=b.docs.map(U=>({id:U.id,...U.data()}));e(j)});return()=>C()},[]);const g=n.filter(S=>{const C=(S.name?.toLowerCase()||"").includes(t.toLowerCase())||(S.email?.toLowerCase()||"").includes(t.toLowerCase())||(S.company?.toLowerCase()||"").includes(t.toLowerCase()),b=i==="all"||S.status===i;return C&&b}),w=S=>{switch(S){case"active":return"bg-primary/20 text-primary";case"lead":return"bg-yellow-500/20 text-yellow-500";case"inactive":return"bg-muted/50 text-muted-foreground";default:return"bg-muted/20 text-muted-foreground"}},T=async(S,C,b)=>{S.preventDefault(),S.stopPropagation();const j=Kr(cn,"crm_contacts",C);await nI(j,{isFavorite:!b})},_=async()=>{if(!f.name||!f.email){alert("Name and email are required.");return}await rI(Na(cn,"crm_contacts"),{...f,status:"lead",tags:[],lastContact:Ze.now(),interactions:0,notes:"",isFavorite:!1}),h(!1),p({name:"",email:"",phone:"",company:""})};return E.jsxs("div",{className:"flex h-full w-full flex-col bg-background",children:[E.jsxs("div",{className:"border-b border-border px-6 py-4",children:[E.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[E.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Contacts & CRM"}),E.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 font-medium text-primary-foreground hover:bg-primary/90 transition-colors",children:[E.jsx(NE,{className:"h-4 w-4"}),"New Contact"]})]}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your customer relationships and interactions"})]}),E.jsxs("div",{className:"border-b border-border px-6 py-4 space-y-4",children:[E.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Search Contacts"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",placeholder:"Search by name, email, or company...",value:t,onChange:S=>r(S.target.value),className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 pl-10 text-sm text-foreground placeholder-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}),E.jsx(kp,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Status"}),E.jsxs("select",{value:i,onChange:S=>a(S.target.value),className:"rounded-lg border border-border bg-secondary px-4 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[E.jsx("option",{value:"all",children:"All Status"}),E.jsx("option",{value:"active",children:"Active"}),E.jsx("option",{value:"lead",children:"Lead"}),E.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[E.jsxs("div",{className:"rounded-lg bg-secondary p-3",children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Contacts"}),E.jsx("p",{className:"text-xl font-bold text-foreground",children:n.length})]}),E.jsxs("div",{className:"rounded-lg bg-secondary p-3",children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Active"}),E.jsx("p",{className:"text-xl font-bold text-primary",children:n.filter(S=>S.status==="active").length})]}),E.jsxs("div",{className:"rounded-lg bg-secondary p-3",children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Leads"}),E.jsx("p",{className:"text-xl font-bold text-yellow-500",children:n.filter(S=>S.status==="lead").length})]}),E.jsxs("div",{className:"rounded-lg bg-secondary p-3",children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Favorites"}),E.jsx("p",{className:"text-xl font-bold text-foreground",children:n.filter(S=>S.isFavorite).length})]})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:g.length===0?E.jsx("div",{className:"flex h-full items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx(kp,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),E.jsx("p",{className:"text-lg font-semibold text-foreground",children:"No contacts found"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Click 'New Contact' to add your first client."})]})}):E.jsx("div",{className:"space-y-2 p-6",children:g.map(S=>E.jsx(M1,{to:`/crm/${S.id}`,className:"block rounded-lg border border-border bg-card p-4 hover:bg-secondary transition-colors group",children:E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold",children:EV(S.name)}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary",children:S.name}),E.jsx("button",{onClick:C=>T(C,S.id,S.isFavorite),className:"flex-shrink-0 p-1 hover:bg-secondary rounded transition-colors",children:E.jsx(tb,{className:`h-4 w-4 ${S.isFavorite?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`})})]}),E.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2 text-xs text-muted-foreground",children:[S.email&&E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(Np,{className:"h-3 w-3"}),E.jsx("span",{className:"truncate",children:S.email})]}),S.phone&&E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(rd,{className:"h-3 w-3"}),E.jsx("span",{children:S.phone})]})]}),E.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[E.jsx("span",{className:`inline-block rounded-full px-2 py-1 text-xs font-medium ${w(S.status)}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)}),S.tags.map(C=>E.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-secondary px-2 py-1 text-xs text-muted-foreground",children:[E.jsx(kE,{className:"h-3 w-3"}),C]},C))]}),E.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(PE,{className:"h-3 w-3"}),E.jsxs("span",{children:[S.interactions," interactions"]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(MC,{className:"h-3 w-3"}),E.jsxs("span",{children:["Last: ",xV(S.lastContact)]})]}),S.company&&E.jsx("span",{className:"rounded bg-secondary px-2 py-1",children:S.company})]}),S.notes&&E.jsxs("p",{className:"mt-2 text-xs text-muted-foreground italic",children:['"',S.notes,'"']})]})]})},S.id))})}),u&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>h(!1),children:E.jsxs("div",{className:"w-full max-w-md rounded-lg border border-border bg-card p-6",onClick:S=>S.stopPropagation(),children:[E.jsx("h2",{className:"mb-4 text-xl font-bold text-foreground",children:"Add New Contact"}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"text",placeholder:"Full Name",value:f.name,onChange:S=>p({...f,name:S.target.value}),className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),E.jsx("input",{type:"email",placeholder:"Email Address",value:f.email,onChange:S=>p({...f,email:S.target.value}),className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),E.jsx("input",{type:"tel",placeholder:"Phone Number",value:f.phone,onChange:S=>p({...f,phone:S.target.value}),className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),E.jsx("input",{type:"text",placeholder:"Company",value:f.company,onChange:S=>p({...f,company:S.target.value}),className:"w-full rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),E.jsxs("div",{className:"flex gap-3 pt-4",children:[E.jsx("button",{onClick:()=>h(!1),className:"flex-1 rounded-lg border border-border px-4 py-2 font-medium text-foreground hover:bg-secondary transition-colors",children:"Cancel"}),E.jsx("button",{onClick:_,className:"flex-1 rounded-lg bg-primary px-4 py-2 font-medium text-primary-foreground hover:bg-primary/90 transition-colors",children:"Add Contact"})]})]})]})})]})}const IV=n=>{if(!n)return"?";const e=n.split(" ");return e.length>1?e[0][0]+e[1][0]:n.substring(0,2)},Q_=n=>n?n.toDate().toLocaleDateString():"N/A";function SV(){const{id:n}=P1(),e=ja(),[t,r]=D.useState(null),[i,a]=D.useState([]),[u,h]=D.useState(!1),[f,p]=D.useState("");D.useEffect(()=>{if(!n)return;const _=Kr(cn,"crm_contacts",n),S=Pi(_,C=>{if(C.exists()){const b={id:C.id,...C.data()};r(b),p(b.notes||"")}else console.log("No such contact!"),r(null)});return()=>S()},[n]),D.useEffect(()=>{if(!n)return;const _=Na(cn,"crm_contacts",n,"interactions"),S=ah(_,lh("timestamp","desc")),C=Pi(S,b=>{const j=b.docs.map(U=>({id:U.id,...U.data()}));a(j)});return()=>C()},[n]);const g=async()=>{if(!n)return;const _=Kr(cn,"crm_contacts",n);await nI(_,{notes:f}),h(!1)},w=async()=>{n&&window.confirm("Are you sure you want to delete this contact? This action cannot be undone.")&&(await vm(Kr(cn,"crm_contacts",n)),e("/crm"))},T=async()=>{if(!n)return;const _=prompt("Enter interaction note:");_&&await rI(Na(cn,"crm_contacts",n,"interactions"),{type:"note",content:_,timestamp:Ze.now()})};return t?E.jsxs("div",{className:"flex h-full w-full flex-col bg-background",children:[E.jsxs("div",{className:"border-b border-border px-6 py-4",children:[E.jsxs("button",{onClick:()=>e("/crm"),className:"mb-4 flex items-center gap-2 text-primary hover:underline transition-colors",children:[E.jsx(AE,{className:"h-4 w-4"}),"Back to Contacts"]}),E.jsx("div",{className:"flex items-start justify-between",children:E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-primary text-primary-foreground font-bold text-xl",children:IV(t.name)}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-foreground",children:t.name}),E.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.position||"N/A"," at ",t.company||"N/A"]}),E.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(t.tags||[]).map(_=>E.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-primary/20 px-2 py-1 text-xs text-primary",children:[E.jsx(kE,{className:"h-3 w-3"}),_]},_))})]})]})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:E.jsxs("div",{className:"grid grid-cols-1 gap-6 p-6 lg:grid-cols-3",children:[E.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[E.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[E.jsx("h2",{className:"mb-4 text-lg font-semibold text-foreground",children:"Contact Details"}),E.jsxs("div",{className:"space-y-3",children:[t.email&&E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(Np,{className:"h-5 w-5 text-muted-foreground"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),E.jsx("p",{className:"text-foreground",children:t.email})]})]}),t.phone&&E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(rd,{className:"h-5 w-5 text-muted-foreground"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),E.jsx("p",{className:"text-foreground",children:t.phone})]})]}),t.address&&E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(UC,{className:"mt-1 h-5 w-5 text-muted-foreground flex-shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground",children:"Address"}),E.jsx("p",{className:"text-foreground",children:t.address})]})]})]})]}),E.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[E.jsx("h2",{className:"mb-4 text-lg font-semibold text-foreground",children:"Business Information"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Company"}),E.jsx("p",{className:"font-semibold text-foreground",children:t.company||"N/A"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Position"}),E.jsx("p",{className:"font-semibold text-foreground",children:t.position||"N/A"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),E.jsx("p",{className:"font-semibold text-foreground capitalize",children:t.status||"N/A"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Value"}),E.jsx("p",{className:"font-semibold text-foreground",children:t.totalValue||"N/A"})]})]})]}),E.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[E.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[E.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Notes"}),E.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1 text-sm text-foreground hover:bg-secondary transition-colors",children:[E.jsx(ZC,{className:"h-4 w-4"}),u?"Cancel":"Edit"]})]}),u?E.jsxs("div",{className:"space-y-2",children:[E.jsx("textarea",{value:f,onChange:_=>p(_.target.value),className:"w-full h-24 rounded-lg border border-border bg-secondary px-4 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),E.jsx("div",{className:"flex gap-2",children:E.jsx("button",{onClick:g,className:"flex-1 rounded-lg bg-primary px-3 py-1 text-sm text-primary-foreground hover:bg-primary/90 transition-colors",children:"Save"})})]}):E.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:t.notes||"No notes yet."})]}),E.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[E.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[E.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Interaction History"}),E.jsxs("button",{onClick:T,className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1 text-sm text-foreground hover:bg-secondary transition-colors",children:[E.jsx(NE,{className:"h-4 w-4"}),"Add"]})]}),E.jsxs("div",{className:"space-y-4",children:[i.map(_=>E.jsxs("div",{className:"flex gap-4 pb-4 border-b border-border last:border-0 last:pb-0",children:[E.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-secondary",children:E.jsx(PE,{className:"h-5 w-5 text-muted-foreground"})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-start justify-between mb-1",children:[E.jsx("p",{className:"font-semibold text-foreground capitalize",children:_.type}),E.jsx("p",{className:"text-xs text-muted-foreground",children:Q_(_.timestamp)})]}),E.jsx("p",{className:"text-sm text-foreground mb-1",children:_.content}),_.details&&E.jsx("p",{className:"text-xs text-muted-foreground",children:_.details})]})]},_.id)),i.length===0&&E.jsx("p",{className:"text-muted-foreground text-sm",children:"No interactions logged yet."})]})]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[E.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Quick Stats"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Member Since"}),E.jsx("p",{className:"font-semibold text-foreground",children:Q_(t.joinDate)})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Interactions"}),E.jsx("p",{className:"font-semibold text-foreground",children:i.length})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Account Value"}),E.jsx("p",{className:"font-semibold text-foreground",children:t.totalValue||"N/A"})]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("button",{onClick:()=>t.whatsappId&&e(`/chats/${t.whatsappId}`),disabled:!t.whatsappId,className:"w-full rounded-lg bg-primary px-4 py-2 font-medium text-primary-foreground hover:bg-primary/90 transition-colors disabled:opacity-50",children:"Send Message"}),E.jsxs("a",{href:`tel:${t.phone}`,className:"w-full block text-center rounded-lg border border-border px-4 py-2 font-medium text-foreground hover:bg-secondary transition-colors",children:[E.jsx(rd,{className:"h-4 w-4 inline-block mr-2"}),"Call"]}),E.jsxs("a",{href:`mailto:${t.email}`,className:"w-full block text-center rounded-lg border border-border px-4 py-2 font-medium text-foreground hover:bg-secondary transition-colors",children:[E.jsx(Np,{className:"h-4 w-4 inline-block mr-2"}),"Email"]})]}),E.jsx("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 p-4",children:E.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 rounded-lg px-4 py-2 font-medium text-red-500 hover:bg-red-500/20 transition-colors",children:[E.jsx(sb,{className:"h-4 w-4"}),"Delete Contact"]})})]})]})})]}):E.jsx("div",{className:"flex h-full w-full items-center justify-center bg-background",children:E.jsx("div",{className:"text-center",children:E.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Loading Contact..."})})})}const CV=()=>{const n=yo();return D.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),E.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),E.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},bV=new OP;function AV(){const[n,e]=D.useState(null),[t,r]=D.useState(!1),[i,a]=D.useState(!0);return D.useEffect(()=>{const u=hD(jg,h=>{e(h),h||r(!1),a(!1)});return()=>u()},[]),D.useEffect(()=>{if(n){const u=Kr(cn,"whatsapp_sessions","fusion-app"),h=Pi(u,f=>{r(f.exists()&&f.data().status==="connected")});return()=>h()}else r(!1)},[n]),i?E.jsx("div",{className:"w-full h-screen bg-background"}):E.jsxs(N2,{children:[E.jsx(lr,{path:"/",element:E.jsx(la,{to:n?t?"/chats":"/qr":"/login",replace:!0})}),E.jsx(lr,{path:"/login",element:n?E.jsx(la,{to:t?"/chats":"/qr",replace:!0}):E.jsx(qL,{})}),E.jsx(lr,{path:"/qr",element:n?t?E.jsx(la,{to:"/chats",replace:!0}):E.jsx(pV,{}):E.jsx(la,{to:"/login",replace:!0})}),E.jsxs(lr,{element:n&&t?E.jsx(R2,{}):E.jsx(la,{to:n?"/qr":"/login",replace:!0}),children:[E.jsx(lr,{path:"/chats",element:E.jsx(Vl,{children:E.jsx(uI,{})})}),E.jsx(lr,{path:"/chats/:id",element:E.jsx(Vl,{children:E.jsx(_V,{})})}),E.jsx(lr,{path:"/crm",element:E.jsx(Vl,{children:E.jsx(TV,{})})}),E.jsx(lr,{path:"/crm/:id",element:E.jsx(Vl,{children:E.jsx(SV,{})})}),E.jsx(lr,{path:"/index",element:E.jsx(Vl,{children:E.jsx(yV,{})})})]}),E.jsx(lr,{path:"*",element:E.jsx(CV,{})})]})}const RV=()=>E.jsx(LP,{client:bV,children:E.jsx(aP,{children:E.jsxs(j2,{children:[E.jsx(qb,{}),E.jsx(xA,{}),E.jsx(AV,{})]})})});IS.createRoot(document.getElementById("root")).render(E.jsx(RV,{}));
